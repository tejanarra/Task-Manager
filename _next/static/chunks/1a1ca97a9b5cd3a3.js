(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50093,60966,e=>{"use strict";var a=e.i(47167);let t={NOT_STARTED:"not-started",IN_PROGRESS:"in-progress",COMPLETED:"completed"},r={[t.NOT_STARTED]:"Not Started",[t.IN_PROGRESS]:"In Progress",[t.COMPLETED]:"Completed"},s={[t.COMPLETED]:"#007a00",[t.IN_PROGRESS]:"#daa520",[t.NOT_STARTED]:"#a00000"};a.default.env.REACT_APP_API_URL;let i={ONE_TIME:"one-time",DAILY:"daily",WEEKLY:"weekly"};e.s(["ERROR_MESSAGES",0,{LOGIN_FAILED:"Login failed. Please try again.",REGISTRATION_FAILED:"Registration failed. Please try again.",VERIFICATION_FAILED:"Verification failed. Please try again.",PASSWORD_RESET_FAILED:"Password reset failed. Please try again.",PASSWORD_CHANGE_FAILED:"Failed to change password. Please try again.",PROFILE_UPDATE_FAILED:"Failed to update profile. Please try again.",TASK_FETCH_FAILED:"Failed to fetch tasks. Please try again.",TASK_CREATE_FAILED:"Failed to create task. Please try again.",TASK_UPDATE_FAILED:"Failed to update task. Please try again.",TASK_DELETE_FAILED:"Failed to delete task. Please try again.",NETWORK_ERROR:"Network error. Please check your connection.",GENERIC_ERROR:"Something went wrong. Please try again."},"REMINDER_INTERVALS",0,[{value:1,label:"1 hr"},{value:24,label:"1 day"},{value:168,label:"1 week"}],"REMINDER_TYPES",0,i,"STATUS_COLORS",0,s,"STORAGE_KEYS",0,{TOKEN:"token",USER_INFO:"userInfo",THEME:"theme",AI_CHAT_MODE:"ai_chat_mode",AI_CHAT_HISTORY:"ai_chat_history"},"TASK_STATUS",0,t,"TASK_STATUS_LABELS",0,r,"TIME_CONSTANTS",0,{ONE_MINUTE_MS:6e4,ONE_HOUR_MS:36e5,ONE_DAY_MS:864e5,TWO_DAYS_MS:1728e5,ONE_WEEK_MS:6048e5,ONE_HOUR_HOURS:1,ONE_DAY_HOURS:24,ONE_WEEK_HOURS:168},"VALIDATION_MESSAGES",0,{REQUIRED_FIELD:"This field is required",INVALID_EMAIL:"Please enter a valid email address",PASSWORD_MISMATCH:"Passwords do not match",PASSWORD_TOO_SHORT:"Password must be at least 8 characters",INVALID_PHONE:"Please enter a valid phone number"}],60966);let n=(e,a)=>{if("number"!=typeof e||e<=0||!a)return null;let t=new Date(new Date(a).getTime()-60*e*6e4);return t<=new Date?null:{type:i.ONE_TIME,remindAt:t.toISOString(),sent:!1,lastSentAt:null}},l=(e,a)=>{if(!e||!a)return null;let t=new Date(e),r=new Date(a),s=new Date;return isNaN(t.getTime())||isNaN(r.getTime())||t<=s||t>=r?null:{type:i.ONE_TIME,remindAt:t.toISOString(),sent:!1,lastSentAt:null}},o=(e,a)=>{if(!a||e!==i.DAILY&&e!==i.WEEKLY)return null;let t=new Date(a),r=new Date,s=e===i.DAILY?24:168;return(t-r)/36e5<s?null:{type:e,intervalHours:s,sent:!1,lastSentAt:null}};e.s(["createOneTimeReminder",0,n,"createOneTimeReminderFromDate",0,l,"getReminderSummary",0,(e,a=null)=>{if(!e||0===e.length)return"";let t=[],r=0,s=!1,n=!1;for(let a of e)a&&(a.type===i.ONE_TIME?r++:a.type===i.DAILY?s=!0:a.type===i.WEEKLY&&(n=!0));return r>0&&t.push(`${r} reminder${r>1?"s":""}`),s&&t.push("Daily"),n&&t.push("Weekly"),t.join(", ")},"normalizeRemindersBeforeSave",0,(e,a)=>{if(!Array.isArray(e)||!a)return[];let t=[],r=new Set;for(let s of e){if(!s||"object"!=typeof s)continue;let{type:e,remindAt:d,remindBefore:c,customDate:u,intervalHours:m}=s;if(e===i.DAILY||e===i.WEEKLY){let s=`recurring-${e}`;if(r.has(s))continue;let i=o(e,a);i&&(t.push(i),r.add(s));continue}let E=null;if(d?E=l(d,a):u?E=l(u,a):"number"==typeof c&&c>0&&(E=n(c,a)),E){let e=`onetime-${E.remindAt}`;r.has(e)||(t.push(E),r.add(e))}}return t},"toggleRecurringReminder",0,(e,a,t,r)=>{let s=e.filter(e=>e.type!==a);if(!t)return s;let i=o(a,r);return i?[...s,i]:s},"validateCustomReminder",0,(e,a)=>{if(!e)return{valid:!1,error:"Please select a reminder date"};let t=new Date(e),r=new Date(a),s=new Date;return isNaN(t.getTime())?{valid:!1,error:"Invalid reminder date"}:t<=s?{valid:!1,error:"Reminder must be in the future"}:t>=r?{valid:!1,error:"Reminder must be before deadline"}:{valid:!0,error:null}}],50093)},88350,69617,72401,44965,57273,92053,88562,43436,99356,e=>{"use strict";var a=e.i(43476);e.s([],88350),e.s(["FormInput",0,({type:e="text",id:t,name:r,value:s,onChange:i,placeholder:n,required:l=!1,className:o="",label:d,error:c,disabled:u=!1,...m})=>(0,a.jsxs)("div",{className:"form-input-wrapper mb-3",children:[d&&(0,a.jsxs)("label",{htmlFor:t,className:"form-label",children:[d,l&&(0,a.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,a.jsx)("input",{type:e,id:t,name:r,value:s,onChange:i,placeholder:n,required:l,disabled:u,className:`form-control py-2 ${c?"is-invalid":""} ${o}`,...m}),c&&(0,a.jsx)("div",{className:"invalid-feedback d-block",children:c})]})],69617),e.s(["AlertBanner",0,({type:e="info",message:t,onClose:r,className:s=""})=>t?(0,a.jsxs)("div",{className:`alert ${{success:"alert-success",error:"alert-danger",warning:"alert-warning",info:"alert-info"}[e]||"alert-info"} ${s} d-flex align-items-center justify-content-between`,role:"alert",children:[(0,a.jsx)("span",{children:t}),r&&(0,a.jsx)("button",{type:"button",className:"btn-close",onClick:r,"aria-label":"Close"})]}):null],72401),e.s(["LoadingButton",0,({isLoading:e=!1,children:t,loadingText:r="Loading...",type:s="button",className:i="",disabled:n=!1,onClick:l,variant:o="primary",...d})=>{let c="primary"===o?"sign-in-btn":`btn-${o}`;return(0,a.jsx)("button",{type:s,className:`btn ${c} ${i}`,disabled:n||e,onClick:l,...d,children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),r]}):t})}],44965);var t=e.i(71645),r=e.i(60966),s=e.i(32341),i=e.i(18566);e.s(["default",0,()=>{let[e,a]=(0,t.useState)(""),s=(0,t.useCallback)(()=>{a("")},[]),i=(0,t.useCallback)(e=>e?e.length<8?(a(r.VALIDATION_MESSAGES.PASSWORD_TOO_SHORT),!1):(s(),!0):(a(r.VALIDATION_MESSAGES.REQUIRED_FIELD),!1),[s]);return{passwordError:e,validatePassword:i,validatePasswordMatch:(0,t.useCallback)((e,t)=>e!==t?(a(r.VALIDATION_MESSAGES.PASSWORD_MISMATCH),!1):(s(),!0),[s]),validatePasswordStrength:(0,t.useCallback)(e=>{let a=/[A-Z]/.test(e),t=/[a-z]/.test(e),r=/\d/.test(e),s=/[!@#$%^&*(),.?":{}|<>]/.test(e);return{isStrong:a&&t&&r&&s,hasUpperCase:a,hasLowerCase:t,hasNumbers:r,hasSpecialChar:s}},[]),clearPasswordError:s}}],57273),e.i(50093),e.s([],92053),e.s(["useFormState",0,(e={})=>{let[a,r]=(0,t.useState)(e),s=(0,t.useCallback)(e=>{let{name:a,value:t,type:s,checked:i}=e.target;r(e=>({...e,[a]:"checkbox"===s?i:t}))},[]),i=(0,t.useCallback)(()=>{r(e)},[e]),n=(0,t.useCallback)((e,a)=>{r(t=>({...t,[e]:a}))},[]);return{formData:a,handleChange:s,setFormData:r,resetForm:i,setFieldValue:n}}],88562),e.s(["useApiError",0,(e=!0)=>{let[a,n]=(0,t.useState)(""),{logout:l}=(0,s.useAuth)(),o=(0,i.useRouter)(),d=(0,t.useCallback)(()=>{n("")},[]),c=(0,t.useCallback)((a,t)=>{if(console.error("API Error:",a),e&&(a?.response?.status===403||a?.status===403)){l(),o.push("/login"),n("Session expired. Please login again.");return}n(((e,a=r.ERROR_MESSAGES.GENERIC_ERROR)=>e?e.response?.data?.message?e.response.data.message:e.response?.data?.error?e.response.data.error:e.message?e.message:a:a)(a,t))},[e,l,o]);return{error:a,setError:n,clearError:d,handleError:c}}],43436),e.s(["useLoading",0,(e=!1)=>{let[a,r]=(0,t.useState)(e);return{isLoading:a,startLoading:(0,t.useCallback)(()=>{r(!0)},[]),stopLoading:(0,t.useCallback)(()=>{r(!1)},[]),setIsLoading:r}}],99356)},42459,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(20835),s=e.i(18566),i=e.i(32341);let n=({theme:e,email:n,setEmail:l,handleSendVerificationCode:o,setMessage:d,setError:c,setIsLoading:u,setIsVerificationStep:m,isLoading:E})=>{let[S,p]=(0,t.useState)(""),f=(0,s.useRouter)(),{login:h}=(0,i.useAuth)(),g=async e=>{e.preventDefault(),c(""),d(""),u(!0);try{let e=await (0,r.verifyRegistrationCode)(n,S);d("Verification successful! You are being redirected to home.");let{token:a,userInfo:t}=e.data;setTimeout(()=>{m(!1),h(a,t),f.push("/tasks")},2e3)}catch(e){c(e.response?.data?.message||"Verification failed.")}finally{u(!1)}};return(0,a.jsxs)("form",{onSubmit:g,className:"verification-form",children:[(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("input",{type:"email",className:"form-control py-2",id:"email",placeholder:"Enter your email",value:n,onChange:e=>l(e.target.value),required:!0})}),(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("input",{type:"text",className:"form-control py-2",id:"verificationCode",placeholder:"Enter verification code",value:S,onChange:e=>p(e.target.value),required:!0})}),(0,a.jsxs)("div",{className:"d-flex flex-row flex-wrap justify-content-between align-items-center mt-3",children:[(0,a.jsx)("button",{type:"submit",className:"btn verify-btn",disabled:E,children:E?(0,a.jsx)("span",{className:"spinner-border spinner-border-sm text-light",role:"status","aria-hidden":"true"}):"Verify Code"}),(0,a.jsx)("button",{type:"button",className:"btn btn-link resend-link",onClick:o,children:"Resend Code"})]})]})};var l=e.i(22016);e.i(88350);var o=e.i(69617),d=e.i(72401),c=e.i(44965);e.i(92053);var u=e.i(88562),m=e.i(43436),E=e.i(99356),S=e.i(57273),S=S,p=e.i(60966);e.s(["default",0,({theme:e})=>{let{formData:s,handleChange:i}=(0,u.useFormState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),{error:f,setError:h,clearError:g,handleError:A}=(0,m.useApiError)(!1),{isLoading:N,startLoading:R,stopLoading:_}=(0,E.useLoading)(),{passwordError:I,validatePasswordMatch:T,clearPasswordError:y}=(0,S.default)(),[b,O]=(0,t.useState)(""),[D,v]=(0,t.useState)(!1),[x,C]=(0,t.useState)(!1),L=async e=>{if(e.preventDefault(),g(),y(),O(""),T(s.password,s.confirmPassword)){R();try{let e=await (0,r.registerUser)(s.firstName,s.lastName,s.email,s.password);O(e.data.message||"Registration successful!"),v(!0),C(!0)}catch(e){A(e,p.ERROR_MESSAGES.REGISTRATION_FAILED)}finally{_()}}},P=async e=>{e.preventDefault(),g(),O(""),R();try{let e=await (0,r.sendVerificationCode)(s.email);O(e.data.message||"Verification code sent!")}catch(e){A(e,"Failed to send code.")}finally{_()}};return(0,a.jsx)("div",{className:"register-page d-flex align-items-center justify-content-center",children:(0,a.jsxs)("div",{className:"register-form wider-form",children:[(0,a.jsx)("h1",{className:"fw-bold mb-2",children:D||x?"Verify Registration":"Register"}),(0,a.jsx)("p",{className:`text-${"dark"===e?"light":"muted"} mb-4`,children:D||x?"Enter your verification code":"Fill in the details to create your account"}),(0,a.jsx)(d.AlertBanner,{type:"error",message:f,onClose:g}),(0,a.jsx)(d.AlertBanner,{type:"success",message:b,onClose:()=>O("")}),(0,a.jsxs)("div",{className:"form-check mb-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"form-check-input",id:"hasVerificationCode",checked:x,onChange:()=>{C(!x),x&&v(!1)}}),(0,a.jsx)("label",{className:"form-check-label",htmlFor:"hasVerificationCode",children:"I already have a verification code"})]}),!D&&!x&&(0,a.jsxs)("form",{onSubmit:L,children:[(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-6",children:(0,a.jsx)(o.FormInput,{type:"text",name:"firstName",placeholder:"First Name",value:s.firstName,onChange:i,required:!0})}),(0,a.jsx)("div",{className:"col-6",children:(0,a.jsx)(o.FormInput,{type:"text",name:"lastName",placeholder:"Last Name",value:s.lastName,onChange:i,required:!0})})]}),(0,a.jsx)(o.FormInput,{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:i,required:!0}),(0,a.jsx)(o.FormInput,{type:"password",name:"password",placeholder:"Password",value:s.password,onChange:i,required:!0}),(0,a.jsx)(o.FormInput,{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:s.confirmPassword,onChange:i,error:I,required:!0}),(0,a.jsx)(c.LoadingButton,{type:"submit",isLoading:N,className:"register-btn w-100 mb-3",variant:"primary",children:"Register"})]}),(D||x)&&(0,a.jsx)(n,{email:s.email,setEmail:e=>i({target:{name:"email",value:e}}),handleSendVerificationCode:P,setMessage:O,setError:h,setIsLoading:R,setIsVerificationStep:v,isLoading:N}),(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsxs)("p",{className:"mb-0 d-flex justify-content-center align-items-center gap-1",children:["Already have an account?"," ",(0,a.jsx)(l.default,{href:"/login",className:"login-link",children:"Login"})]})})]})})}],42459)},40641,e=>{e.n(e.i(42459))}]);