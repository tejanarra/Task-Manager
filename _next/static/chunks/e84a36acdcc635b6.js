(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50093,60966,e=>{"use strict";var t=e.i(47167);let a={NOT_STARTED:"not-started",IN_PROGRESS:"in-progress",COMPLETED:"completed"},r={[a.NOT_STARTED]:"Not Started",[a.IN_PROGRESS]:"In Progress",[a.COMPLETED]:"Completed"},l={[a.COMPLETED]:"#007a00",[a.IN_PROGRESS]:"#daa520",[a.NOT_STARTED]:"#a00000"};t.default.env.REACT_APP_API_URL;let n={ONE_TIME:"one-time",DAILY:"daily",WEEKLY:"weekly"};e.s(["ERROR_MESSAGES",0,{LOGIN_FAILED:"Login failed. Please try again.",REGISTRATION_FAILED:"Registration failed. Please try again.",VERIFICATION_FAILED:"Verification failed. Please try again.",PASSWORD_RESET_FAILED:"Password reset failed. Please try again.",PASSWORD_CHANGE_FAILED:"Failed to change password. Please try again.",PROFILE_UPDATE_FAILED:"Failed to update profile. Please try again.",TASK_FETCH_FAILED:"Failed to fetch tasks. Please try again.",TASK_CREATE_FAILED:"Failed to create task. Please try again.",TASK_UPDATE_FAILED:"Failed to update task. Please try again.",TASK_DELETE_FAILED:"Failed to delete task. Please try again.",NETWORK_ERROR:"Network error. Please check your connection.",GENERIC_ERROR:"Something went wrong. Please try again."},"REMINDER_INTERVALS",0,[{value:1,label:"1 hr"},{value:24,label:"1 day"},{value:168,label:"1 week"}],"REMINDER_TYPES",0,n,"STATUS_COLORS",0,l,"STORAGE_KEYS",0,{TOKEN:"token",USER_INFO:"userInfo",THEME:"theme",AI_CHAT_MODE:"ai_chat_mode",AI_CHAT_HISTORY:"ai_chat_history"},"TASK_STATUS",0,a,"TASK_STATUS_LABELS",0,r,"TIME_CONSTANTS",0,{ONE_MINUTE_MS:6e4,ONE_HOUR_MS:36e5,ONE_DAY_MS:864e5,TWO_DAYS_MS:1728e5,ONE_WEEK_MS:6048e5,ONE_HOUR_HOURS:1,ONE_DAY_HOURS:24,ONE_WEEK_HOURS:168},"VALIDATION_MESSAGES",0,{REQUIRED_FIELD:"This field is required",INVALID_EMAIL:"Please enter a valid email address",PASSWORD_MISMATCH:"Passwords do not match",PASSWORD_TOO_SHORT:"Password must be at least 8 characters",INVALID_PHONE:"Please enter a valid phone number"}],60966);let s=(e,t)=>{if("number"!=typeof e||e<=0||!t)return null;let a=new Date(new Date(t).getTime()-60*e*6e4);return a<=new Date?null:{type:n.ONE_TIME,remindAt:a.toISOString(),sent:!1,lastSentAt:null}},i=(e,t)=>{if(!e||!t)return null;let a=new Date(e),r=new Date(t),l=new Date;return isNaN(a.getTime())||isNaN(r.getTime())||a<=l||a>=r?null:{type:n.ONE_TIME,remindAt:a.toISOString(),sent:!1,lastSentAt:null}},o=(e,t)=>{if(!t||e!==n.DAILY&&e!==n.WEEKLY)return null;let a=new Date(t),r=new Date,l=e===n.DAILY?24:168;return(a-r)/36e5<l?null:{type:e,intervalHours:l,sent:!1,lastSentAt:null}};e.s(["createOneTimeReminder",0,s,"createOneTimeReminderFromDate",0,i,"getReminderSummary",0,(e,t=null)=>{if(!e||0===e.length)return"";let a=[],r=0,l=!1,s=!1;for(let t of e)t&&(t.type===n.ONE_TIME?r++:t.type===n.DAILY?l=!0:t.type===n.WEEKLY&&(s=!0));return r>0&&a.push(`${r} reminder${r>1?"s":""}`),l&&a.push("Daily"),s&&a.push("Weekly"),a.join(", ")},"normalizeRemindersBeforeSave",0,(e,t)=>{if(!Array.isArray(e)||!t)return[];let a=[],r=new Set;for(let l of e){if(!l||"object"!=typeof l)continue;let{type:e,remindAt:u,remindBefore:d,customDate:c,intervalHours:E}=l;if(e===n.DAILY||e===n.WEEKLY){let l=`recurring-${e}`;if(r.has(l))continue;let n=o(e,t);n&&(a.push(n),r.add(l));continue}let m=null;if(u?m=i(u,t):c?m=i(c,t):"number"==typeof d&&d>0&&(m=s(d,t)),m){let e=`onetime-${m.remindAt}`;r.has(e)||(a.push(m),r.add(e))}}return a},"toggleRecurringReminder",0,(e,t,a,r)=>{let l=e.filter(e=>e.type!==t);if(!a)return l;let n=o(t,r);return n?[...l,n]:l},"validateCustomReminder",0,(e,t)=>{if(!e)return{valid:!1,error:"Please select a reminder date"};let a=new Date(e),r=new Date(t),l=new Date;return isNaN(a.getTime())?{valid:!1,error:"Invalid reminder date"}:a<=l?{valid:!1,error:"Reminder must be in the future"}:a>=r?{valid:!1,error:"Reminder must be before deadline"}:{valid:!0,error:null}}],50093)},88350,69617,72401,44965,57273,92053,88562,43436,99356,e=>{"use strict";var t=e.i(43476);e.s([],88350),e.s(["FormInput",0,({type:e="text",id:a,name:r,value:l,onChange:n,placeholder:s,required:i=!1,className:o="",label:u,error:d,disabled:c=!1,...E})=>(0,t.jsxs)("div",{className:"form-input-wrapper mb-3",children:[u&&(0,t.jsxs)("label",{htmlFor:a,className:"form-label",children:[u,i&&(0,t.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,t.jsx)("input",{type:e,id:a,name:r,value:l,onChange:n,placeholder:s,required:i,disabled:c,className:`form-control py-2 ${d?"is-invalid":""} ${o}`,...E}),d&&(0,t.jsx)("div",{className:"invalid-feedback d-block",children:d})]})],69617),e.s(["AlertBanner",0,({type:e="info",message:a,onClose:r,className:l=""})=>a?(0,t.jsxs)("div",{className:`alert ${{success:"alert-success",error:"alert-danger",warning:"alert-warning",info:"alert-info"}[e]||"alert-info"} ${l} d-flex align-items-center justify-content-between`,role:"alert",children:[(0,t.jsx)("span",{children:a}),r&&(0,t.jsx)("button",{type:"button",className:"btn-close",onClick:r,"aria-label":"Close"})]}):null],72401),e.s(["LoadingButton",0,({isLoading:e=!1,children:a,loadingText:r="Loading...",type:l="button",className:n="",disabled:s=!1,onClick:i,variant:o="primary",...u})=>{let d="primary"===o?"sign-in-btn":`btn-${o}`;return(0,t.jsx)("button",{type:l,className:`btn ${d} ${n}`,disabled:s||e,onClick:i,...u,children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),r]}):a})}],44965);var a=e.i(71645),r=e.i(60966),l=e.i(32341),n=e.i(18566);e.s(["default",0,()=>{let[e,t]=(0,a.useState)(""),l=(0,a.useCallback)(()=>{t("")},[]),n=(0,a.useCallback)(e=>e?e.length<8?(t(r.VALIDATION_MESSAGES.PASSWORD_TOO_SHORT),!1):(l(),!0):(t(r.VALIDATION_MESSAGES.REQUIRED_FIELD),!1),[l]);return{passwordError:e,validatePassword:n,validatePasswordMatch:(0,a.useCallback)((e,a)=>e!==a?(t(r.VALIDATION_MESSAGES.PASSWORD_MISMATCH),!1):(l(),!0),[l]),validatePasswordStrength:(0,a.useCallback)(e=>{let t=/[A-Z]/.test(e),a=/[a-z]/.test(e),r=/\d/.test(e),l=/[!@#$%^&*(),.?":{}|<>]/.test(e);return{isStrong:t&&a&&r&&l,hasUpperCase:t,hasLowerCase:a,hasNumbers:r,hasSpecialChar:l}},[]),clearPasswordError:l}}],57273),e.i(50093),e.s([],92053),e.s(["useFormState",0,(e={})=>{let[t,r]=(0,a.useState)(e),l=(0,a.useCallback)(e=>{let{name:t,value:a,type:l,checked:n}=e.target;r(e=>({...e,[t]:"checkbox"===l?n:a}))},[]),n=(0,a.useCallback)(()=>{r(e)},[e]),s=(0,a.useCallback)((e,t)=>{r(a=>({...a,[e]:t}))},[]);return{formData:t,handleChange:l,setFormData:r,resetForm:n,setFieldValue:s}}],88562),e.s(["useApiError",0,(e=!0)=>{let[t,s]=(0,a.useState)(""),{logout:i}=(0,l.useAuth)(),o=(0,n.useRouter)(),u=(0,a.useCallback)(()=>{s("")},[]),d=(0,a.useCallback)((t,a)=>{if(console.error("API Error:",t),e&&(t?.response?.status===403||t?.status===403)){i(),o.push("/login"),s("Session expired. Please login again.");return}s(((e,t=r.ERROR_MESSAGES.GENERIC_ERROR)=>e?e.response?.data?.message?e.response.data.message:e.response?.data?.error?e.response.data.error:e.message?e.message:t:t)(t,a))},[e,i,o]);return{error:t,setError:s,clearError:u,handleError:d}}],43436),e.s(["useLoading",0,(e=!1)=>{let[t,r]=(0,a.useState)(e);return{isLoading:t,startLoading:(0,a.useCallback)(()=>{r(!0)},[]),stopLoading:(0,a.useCallback)(()=>{r(!1)},[]),setIsLoading:r}}],99356)},2914,e=>{"use strict";e.i(47167);var t=e.i(43476),a=e.i(18566),r=e.i(22016),l=e.i(32341),n=e.i(20835),s=e.i(71645);let i=(0,s.createContext)(null);e.i(88350);var o=e.i(69617),u=e.i(72401),d=e.i(44965);e.i(92053);var c=e.i(88562),E=e.i(43436),m=e.i(99356),S=e.i(60966);e.s(["default",0,({theme:e})=>{let{login:g}=(0,l.useAuth)(),A=(0,a.useRouter)(),{formData:p,handleChange:_}=(0,c.useFormState)({email:"",password:""}),{error:R,clearError:h,handleError:f}=(0,E.useApiError)(!1),{isLoading:T,startLoading:I,stopLoading:O}=(0,m.useLoading)(),b=async e=>{e.preventDefault(),h(),I();try{let{data:e}=await (0,n.loginUser)(p.email,p.password),{token:t,userInfo:a}=e;g(t,a),A.push("/tasks")}catch(e){f(e,S.ERROR_MESSAGES.LOGIN_FAILED)}finally{O()}},N=function({flow:e="implicit",scope:t="",onSuccess:a,onError:r,onNonOAuthError:l,overrideScope:n,state:o,...u}){let{clientId:d,scriptLoadedSuccessfully:c}=function(){let e=(0,s.useContext)(i);if(!e)throw Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),E=(0,s.useRef)(),m=(0,s.useRef)(a);m.current=a;let S=(0,s.useRef)(r);S.current=r;let g=(0,s.useRef)(l);g.current=l,(0,s.useEffect)(()=>{var a,r;if(!c)return;let l="implicit"===e?"initTokenClient":"initCodeClient";E.current=null==(r=null==(a=null==window?void 0:window.google)?void 0:a.accounts)?void 0:r.oauth2[l]({client_id:d,scope:n?t:`openid profile email ${t}`,callback:e=>{var t,a;if(e.error)return null==(t=S.current)?void 0:t.call(S,e);null==(a=m.current)||a.call(m,e)},error_callback:e=>{var t;null==(t=g.current)||t.call(g,e)},state:o,...u})},[d,c,e,t,o]);let A=(0,s.useCallback)(e=>{var t;return null==(t=E.current)?void 0:t.requestAccessToken(e)},[]),p=(0,s.useCallback)(()=>{var e;return null==(e=E.current)?void 0:e.requestCode()},[]);return"implicit"===e?A:p}({flow:"auth-code",onSuccess:async e=>{I();try{let{data:t}=await (0,n.loginWithGoogle)(e.code);g(t.token,t.userInfo),A.push("/tasks")}catch(e){var t,a,r;f(e,"Google login failed"),null==(r=null==(a=null==(t=null==window?void 0:window.google)?void 0:t.accounts)?void 0:a.id)||r.disableAutoSelect()}finally{O()}},onError:()=>{f({message:"Google login failed"}),O()},scope:"openid email profile"});return(0,t.jsx)("div",{className:"login-page d-flex align-items-center justify-content-center",children:(0,t.jsxs)("div",{className:"login-form",children:[(0,t.jsx)("h1",{className:"fw-bold mb-2",children:"Welcome back"}),(0,t.jsx)("p",{className:`text-${"dark"===e?"light":"muted"} mb-4`,children:"Please enter your details"}),(0,t.jsx)(u.AlertBanner,{type:"error",message:R,onClose:h}),(0,t.jsxs)("form",{onSubmit:b,children:[(0,t.jsx)(o.FormInput,{type:"email",id:"email",name:"email",placeholder:"Enter your email",value:p.email,onChange:_,required:!0}),(0,t.jsx)(o.FormInput,{type:"password",id:"password",name:"password",placeholder:"Enter your password",value:p.password,onChange:_,required:!0}),(0,t.jsx)(d.LoadingButton,{type:"submit",isLoading:T,className:"w-100 mb-3",variant:"primary",children:"Login"})]}),(0,t.jsx)("div",{className:"oauth-container mb-3",children:(0,t.jsxs)("button",{className:`btn google-signin-btn w-100 mb-3 d-flex align-items-center justify-content-center gap-2 ${"dark"===e?"dark-theme":""}`,onClick:N,disabled:T,type:"button",useOneTap:!0,children:[(0,t.jsx)("img",{src:"/Task-Manager/google_logo.png",alt:"Google logo",style:{width:"24px",height:"24px"}}),(0,t.jsx)("span",{children:"Sign in with Google"})]})}),(0,t.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,t.jsx)(r.default,{href:"/register",className:"register-link",children:"Register"}),(0,t.jsx)("button",{className:"btn btn-link forgot-password-link p-0",onClick:()=>{A.push("/forgot-password")},children:"Forgot password?"})]})]})})}],2914)},78172,e=>{e.n(e.i(2914))}]);