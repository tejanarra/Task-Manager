(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90063,e=>{"use strict";var s=e.i(43476),r=e.i(71645),a=e.i(18566),o=e.i(20835),t=e.i(32341);e.s(["default",0,()=>{let[e,l]=(0,r.useState)({currentPassword:"",newPassword:"",confirmNewPassword:""}),[n,d]=(0,r.useState)(""),[c,i]=(0,r.useState)(""),m=(0,a.useRouter)(),{logout:u}=(0,t.useAuth)(),w=s=>{let{name:r,value:a}=s.target;l({...e,[r]:a})},h=async s=>{s.preventDefault();let{currentPassword:r,newPassword:a,confirmNewPassword:t}=e;if(!r||!a||!t)return void d("All fields are required.");if(a!==t)return void d("Passwords do not match.");try{await (0,o.changePassword)(r,a),i("Password changed successfully!"),d(""),setTimeout(()=>m.push("/profile-overview"),2e3)}catch(e){console.error("Password change error:",e.response?.data||e.message),d(e.response?.data?.message||"Failed to change password. Please try again."),i(""),e&&403===e.status&&(u(),m.push("/login"))}};return(0,s.jsx)("div",{className:"profile-container",children:(0,s.jsxs)("div",{className:"profile-card shadow rounded",children:[(0,s.jsx)("h2",{className:"profile-title text-center mb-4 bold-text",children:"Change Password"}),c&&(0,s.jsx)("p",{className:"text-success text-center",children:c}),n&&(0,s.jsx)("p",{className:"text-danger text-center",children:n}),(0,s.jsxs)("form",{onSubmit:h,children:[(0,s.jsxs)("div",{className:"form-group mb-3",children:[(0,s.jsx)("label",{htmlFor:"currentPassword",className:"form-label",children:"Current Password"}),(0,s.jsx)("input",{type:"password",className:"form-control",id:"currentPassword",name:"currentPassword",value:e.currentPassword,onChange:w,required:!0})]}),(0,s.jsxs)("div",{className:"form-group mb-3",children:[(0,s.jsx)("label",{htmlFor:"newPassword",className:"form-label",children:"New Password"}),(0,s.jsx)("input",{type:"password",className:"form-control",id:"newPassword",name:"newPassword",value:e.newPassword,onChange:w,required:!0})]}),(0,s.jsxs)("div",{className:"form-group mb-3",children:[(0,s.jsx)("label",{htmlFor:"confirmNewPassword",className:"form-label",children:"Confirm New Password"}),(0,s.jsx)("input",{type:"password",className:"form-control",id:"confirmNewPassword",name:"confirmNewPassword",value:e.confirmNewPassword,onChange:w,required:!0})]}),(0,s.jsxs)("div",{className:"row mt-4",children:[(0,s.jsx)("div",{className:"col-12 col-md-6 mb-2 mb-md-0",children:(0,s.jsx)("button",{type:"button",className:"btn btn-secondary w-100",onClick:()=>m.push("/profile-overview"),children:"Cancel"})}),(0,s.jsx)("div",{className:"col-12 col-md-6",children:(0,s.jsx)("button",{type:"submit",className:"btn btn-dark w-100",children:"Save Changes"})})]})]})]})})}])},99086,e=>{e.n(e.i(90063))}]);