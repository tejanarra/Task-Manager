"use strict";(self.webpackChunktask_manager_frontend=self.webpackChunktask_manager_frontend||[]).push([[432],{432:(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var t=s(43),r=s(216),o=s(505),n=s(579);const i=e=>{let{theme:a}=e;const[s,i]=(0,t.useState)(""),[c,l]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[h,g]=(0,t.useState)(""),[f,v]=(0,t.useState)(""),[w,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[k,j]=(0,t.useState)(!1),N=(0,r.Zp)();return(0,n.jsx)("div",{className:"forgot-password-page d-flex align-items-center justify-content-center",children:(0,n.jsxs)("div",{className:"forgot-password-form wider-form",children:[(0,n.jsx)("h1",{className:"fw-bold mb-2",children:"Forgot Password"}),(0,n.jsx)("p",{className:"text-".concat("dark"===a?"light":"muted"," mb-4"),children:x||w?"Enter your verification code and reset your password.":"Enter your email to receive a verification code."}),(0,n.jsxs)("form",{onSubmit:x||w?async e=>{if(e.preventDefault(),v(""),g(""),j(!0),d!==m)return v("Passwords do not match."),void j(!1);try{const e=await(0,o.xw)(s,c,d);g(e.data.message||"Password reset successful!"),setTimeout((()=>{N("/login")}),2e3)}catch(r){var a,t;console.error("Error resetting password:",r),v((null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Something went wrong. Please try again.")}finally{j(!1)}}:async e=>{e.preventDefault(),v(""),g(""),j(!0);try{const e=await(0,o.U0)(s);g(e.data.message||"Please check your email for further instructions."),y(!0)}catch(r){var a,t;console.error("Error sending reset email:",r),v((null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Something went wrong. Please try again.")}finally{j(!1)}},children:[(0,n.jsxs)("div",{className:"form-check mb-3",children:[(0,n.jsx)("input",{type:"checkbox",className:"form-check-input",id:"hasCodeCheck",checked:x,onChange:()=>{b(!x),v(""),g("")}}),(0,n.jsx)("label",{className:"form-check-label",htmlFor:"hasCodeCheck",children:"I already have a verification code"})]}),(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)("input",{type:"email",className:"form-control py-2",id:"email",placeholder:"Enter your email",value:s,onChange:e=>i(e.target.value),required:!0,disabled:w})}),(x||w)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)("input",{type:"text",className:"form-control py-2",id:"verificationCode",placeholder:"Enter verification code",value:c,onChange:e=>l(e.target.value),required:!0})}),(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)("input",{type:"password",className:"form-control py-2",id:"newPassword",placeholder:"Enter new password",value:d,onChange:e=>u(e.target.value),required:!0})}),(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)("input",{type:"password",className:"form-control py-2",id:"confirmNewPassword",placeholder:"Confirm new password",value:m,onChange:e=>p(e.target.value),required:!0})})]}),f&&(0,n.jsx)("div",{className:"alert alert-danger",children:f}),h&&(0,n.jsx)("div",{className:"alert alert-success",children:h}),(0,n.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[(0,n.jsx)("button",{type:"submit",className:"btn forgot-btn",disabled:k,children:k?(0,n.jsx)("span",{className:"spinner-border spinner-border-sm text-light",role:"status","aria-hidden":"true"}):x||w?"Reset":"Send Code"}),(0,n.jsx)("button",{type:"button",className:"btn btn-link back-to-login",onClick:()=>N("/login"),children:"Back to Login"})]})]})]})})}},505:(e,a,s)=>{s.d(a,{A7:()=>p,DY:()=>m,E$:()=>w,J2:()=>h,Lx:()=>d,Pr:()=>x,U0:()=>g,UT:()=>n,XL:()=>u,ec:()=>v,gQ:()=>b,j:()=>o,lC:()=>i,r7:()=>y,vF:()=>l,vq:()=>c,xw:()=>f});const t=s(722).A.create({baseURL:"https://task-manager-sigma-ashen.vercel.app/api",headers:{"ngrok-skip-browser-warning":"true"},timeout:3e4});t.interceptors.request.use((e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e}),(e=>Promise.reject(e)));const r=e=>{var a;return e.response?{message:(null===(a=e.response.data)||void 0===a?void 0:a.error)||"An error occurred",status:e.response.status}:e.request?{message:"No response from server. Please check your connection.",status:0}:{message:e.message||"An unexpected error occurred",status:-1}},o=()=>t.get("/tasks"),n=e=>t.post("/tasks",e),i=(e,a)=>t.put("/tasks/".concat(e),a),c=e=>t.delete("/tasks/".concat(e)),l=(e,a)=>t.put("/tasks/".concat(e,"/priority"),{priority:a}),d=(e,a)=>t.post("/auth/login",{email:e,password:a}),u=async e=>t.post("/auth/google",{code:e}),m=(e,a,s,r)=>t.post("/auth/register",{firstName:e,lastName:a,email:s,password:r}),p=(e,a)=>t.post("/auth/verify-registration",{email:e,verificationCode:a}),h=e=>t.post("/auth/resend-verification",{email:e}),g=e=>t.post("/auth/forgot-password",{email:e}),f=(e,a,s)=>t.post("/auth/verify-code",{email:e,verificationCode:a,newPassword:s}),v=(e,a)=>t.post("/auth/change-password",{currentPassword:e,newPassword:a}),w=async()=>{try{return(await t.get("/profile")).data}catch(e){throw console.error("Error fetching profile:",e),e}},y=async e=>{try{return(await t.put("/profile",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error updating profile:",a),a}},x=async e=>{try{return{success:!0,data:(await t.post("/ai/chat",{prompt:e})).data}}catch(a){return{success:!1,error:r(a).message}}},b=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{return{success:!0,data:(await t.post("/ai/chat-conversation",{message:e,conversationHistory:a})).data}}catch(s){return{success:!1,error:r(s).message}}}}}]);
//# sourceMappingURL=432.cb8ca730.chunk.js.map