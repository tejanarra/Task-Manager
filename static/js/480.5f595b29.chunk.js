"use strict";(self.webpackChunktask_manager_frontend=self.webpackChunktask_manager_frontend||[]).push([[480],{6031:(e,a,s)=>{s.r(a),s.d(a,{default:()=>l});var t=s(5043),r=s(3216),n=s(4505),o=(s(8123),s(9997),s(2532),s(579));const l=e=>{let{theme:a}=e;const[s,l]=(0,t.useState)(""),[i,c]=(0,t.useState)(""),[d,m]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[g,v]=(0,t.useState)(""),[x,w]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[j,N]=(0,t.useState)(!1),k=(0,r.Zp)();return(0,o.jsx)("div",{className:"forgot-password-page d-flex align-items-center justify-content-center",children:(0,o.jsxs)("div",{className:"forgot-password-form wider-form",children:[(0,o.jsx)("h1",{className:"fw-bold mb-2",children:"Forgot Password"}),(0,o.jsx)("p",{className:"text-".concat("dark"===a?"light":"muted"," mb-4"),children:b||x?"Enter your verification code and reset your password.":"Enter your email to receive a verification code."}),(0,o.jsxs)("form",{onSubmit:b||x?async e=>{if(e.preventDefault(),v(""),f(""),N(!0),d!==u)return v("Passwords do not match."),void N(!1);try{const e=await(0,n.xw)(s,i,d);f(e.data.message||"Password reset successful!"),setTimeout((()=>{k("/login")}),2e3)}catch(r){var a,t;console.error("Error resetting password:",r),v((null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Something went wrong. Please try again.")}finally{N(!1)}}:async e=>{e.preventDefault(),v(""),f(""),N(!0);try{const e=await(0,n.U0)(s);f(e.data.message||"Please check your email for further instructions."),w(!0)}catch(r){var a,t;console.error("Error sending reset email:",r),v((null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Something went wrong. Please try again.")}finally{N(!1)}},children:[(0,o.jsxs)("div",{className:"form-check mb-3",children:[(0,o.jsx)("input",{type:"checkbox",className:"form-check-input",id:"hasCodeCheck",checked:b,onChange:()=>{y(!b),v(""),f("")}}),(0,o.jsx)("label",{className:"form-check-label",htmlFor:"hasCodeCheck",children:"I already have a verification code"})]}),(0,o.jsx)("div",{className:"mb-3",children:(0,o.jsx)("input",{type:"email",className:"form-control py-2",id:"email",placeholder:"Enter your email",value:s,onChange:e=>l(e.target.value),required:!0,disabled:x})}),(b||x)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"mb-3",children:(0,o.jsx)("input",{type:"text",className:"form-control py-2",id:"verificationCode",placeholder:"Enter verification code",value:i,onChange:e=>c(e.target.value),required:!0})}),(0,o.jsx)("div",{className:"mb-3",children:(0,o.jsx)("input",{type:"password",className:"form-control py-2",id:"newPassword",placeholder:"Enter new password",value:d,onChange:e=>m(e.target.value),required:!0})}),(0,o.jsx)("div",{className:"mb-3",children:(0,o.jsx)("input",{type:"password",className:"form-control py-2",id:"confirmNewPassword",placeholder:"Confirm new password",value:u,onChange:e=>h(e.target.value),required:!0})})]}),g&&(0,o.jsx)("div",{className:"alert alert-danger",children:g}),p&&(0,o.jsx)("div",{className:"alert alert-success",children:p}),(0,o.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[(0,o.jsx)("button",{type:"submit",className:"btn forgot-btn",disabled:j,children:j?(0,o.jsx)("span",{className:"spinner-border spinner-border-sm text-light",role:"status","aria-hidden":"true"}):b||x?"Reset":"Send Code"}),(0,o.jsx)("button",{type:"button",className:"btn btn-link back-to-login",onClick:()=>k("/login"),children:"Back to Login"})]})]})]})})}}}]);
//# sourceMappingURL=480.5f595b29.chunk.js.map