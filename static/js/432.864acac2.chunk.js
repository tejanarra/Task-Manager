"use strict";(self.webpackChunktask_manager_frontend=self.webpackChunktask_manager_frontend||[]).push([[432],{432:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});var s=t(43),r=t(216),o=t(505),n=t(579);const i=e=>{let{theme:a}=e;const[t,i]=(0,s.useState)(""),[c,l]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[m,p]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),[w,y]=(0,s.useState)(!1),[x,b]=(0,s.useState)(!1),[k,j]=(0,s.useState)(!1),N=(0,r.Zp)();return(0,n.jsx)("div",{className:"forgot-password-page d-flex align-items-center justify-content-center",children:(0,n.jsxs)("div",{className:"forgot-password-form wider-form",children:[(0,n.jsx)("h1",{className:"fw-bold mb-2",children:"Forgot Password"}),(0,n.jsx)("p",{className:"text-".concat("dark"===a?"light":"muted"," mb-4"),children:x||w?"Enter your verification code and reset your password.":"Enter your email to receive a verification code."}),(0,n.jsxs)("form",{onSubmit:x||w?async e=>{if(e.preventDefault(),v(""),g(""),j(!0),d!==m)return v("Passwords do not match."),void j(!1);try{const e=await(0,o.xw)(t,c,d);g(e.data.message||"Password reset successful!"),setTimeout((()=>{N("/login")}),2e3)}catch(r){var a,s;console.error("Error resetting password:",r),v((null===(a=r.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Something went wrong. Please try again.")}finally{j(!1)}}:async e=>{e.preventDefault(),v(""),g(""),j(!0);try{const e=await(0,o.U0)(t);g(e.data.message||"Please check your email for further instructions."),y(!0)}catch(r){var a,s;console.error("Error sending reset email:",r),v((null===(a=r.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Something went wrong. Please try again.")}finally{j(!1)}},children:[(0,n.jsxs)("div",{className:"form-check mb-3",children:[(0,n.jsx)("input",{type:"checkbox",className:"form-check-input",id:"hasCodeCheck",checked:x,onChange:()=>{b(!x),v(""),g("")}}),(0,n.jsx)("label",{className:"form-check-label",htmlFor:"hasCodeCheck",children:"I already have a verification code"})]}),(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)("input",{type:"email",className:"form-control py-2",id:"email",placeholder:"Enter your email",value:t,onChange:e=>i(e.target.value),required:!0,disabled:w})}),(x||w)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)("input",{type:"text",className:"form-control py-2",id:"verificationCode",placeholder:"Enter verification code",value:c,onChange:e=>l(e.target.value),required:!0})}),(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)("input",{type:"password",className:"form-control py-2",id:"newPassword",placeholder:"Enter new password",value:d,onChange:e=>u(e.target.value),required:!0})}),(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)("input",{type:"password",className:"form-control py-2",id:"confirmNewPassword",placeholder:"Confirm new password",value:m,onChange:e=>p(e.target.value),required:!0})})]}),f&&(0,n.jsx)("div",{className:"alert alert-danger",children:f}),h&&(0,n.jsx)("div",{className:"alert alert-success",children:h}),(0,n.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[(0,n.jsx)("button",{type:"submit",className:"btn forgot-btn",disabled:k,children:k?(0,n.jsx)("span",{className:"spinner-border spinner-border-sm text-light",role:"status","aria-hidden":"true"}):x||w?"Reset":"Send Code"}),(0,n.jsx)("button",{type:"button",className:"btn btn-link back-to-login",onClick:()=>N("/login"),children:"Back to Login"})]})]})]})})}},505:(e,a,t)=>{t.d(a,{A7:()=>m,DY:()=>u,E$:()=>v,J2:()=>p,Lx:()=>l,U0:()=>h,UT:()=>o,XL:()=>d,ec:()=>f,j:()=>r,lC:()=>n,r7:()=>w,vF:()=>c,vq:()=>i,xw:()=>g});const s=t(722).A.create({baseURL:"https://task-manager-sigma-ashen.vercel.app/api",headers:{"ngrok-skip-browser-warning":"true"}});s.interceptors.request.use((e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e}),(e=>Promise.reject(e)));const r=()=>s.get("/tasks"),o=e=>s.post("/tasks",e),n=(e,a)=>s.put("/tasks/".concat(e),a),i=e=>s.delete("/tasks/".concat(e)),c=(e,a)=>s.put("/tasks/".concat(e,"/priority"),{priority:a}),l=(e,a)=>s.post("/auth/login",{email:e,password:a}),d=async e=>s.post("/auth/google",{code:e}),u=(e,a,t,r)=>s.post("/auth/register",{firstName:e,lastName:a,email:t,password:r}),m=(e,a)=>s.post("/auth/verify-registration",{email:e,verificationCode:a}),p=e=>s.post("/auth/resend-verification",{email:e}),h=e=>s.post("/auth/forgot-password",{email:e}),g=(e,a,t)=>s.post("/auth/verify-code",{email:e,verificationCode:a,newPassword:t}),f=(e,a)=>s.post("/auth/change-password",{currentPassword:e,newPassword:a}),v=async()=>{try{return(await s.get("/profile")).data}catch(e){throw console.error("Error fetching profile:",e),e}},w=async e=>{try{return(await s.put("/profile",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error updating profile:",a),a}}}}]);
//# sourceMappingURL=432.864acac2.chunk.js.map