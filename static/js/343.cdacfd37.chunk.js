"use strict";(self.webpackChunktask_manager_frontend=self.webpackChunktask_manager_frontend||[]).push([[343],{8123:(e,a,t)=>{t.d(a,{ZT:()=>c,ZQ:()=>o,lV:()=>d});var r=t(2555),n=t(3986),s=(t(5043),t(579));const i=["type","id","name","value","onChange","placeholder","required","className","label","error","disabled"],o=e=>{let{type:a="text",id:t,name:o,value:c,onChange:l,placeholder:d,required:m=!1,className:u="",label:h,error:p,disabled:g=!1}=e,f=(0,n.A)(e,i);return(0,s.jsxs)("div",{className:"form-input-wrapper mb-3",children:[h&&(0,s.jsxs)("label",{htmlFor:t,className:"form-label",children:[h,m&&(0,s.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,s.jsx)("input",(0,r.A)({type:a,id:t,name:o,value:c,onChange:l,placeholder:d,required:m,disabled:g,className:"form-control py-2 ".concat(p?"is-invalid":""," ").concat(u)},f)),p&&(0,s.jsx)("div",{className:"invalid-feedback d-block",children:p})]})},c=e=>{let{type:a="info",message:t,onClose:r,className:n=""}=e;if(!t)return null;const i={success:"alert-success",error:"alert-danger",warning:"alert-warning",info:"alert-info"}[a]||"alert-info";return(0,s.jsxs)("div",{className:"alert ".concat(i," ").concat(n," d-flex align-items-center justify-content-between"),role:"alert",children:[(0,s.jsx)("span",{children:t}),r&&(0,s.jsx)("button",{type:"button",className:"btn-close",onClick:r,"aria-label":"Close"})]})},l=["isLoading","children","loadingText","type","className","disabled","onClick","variant"],d=e=>{let{isLoading:a=!1,children:t,loadingText:i="Loading...",type:o="button",className:c="",disabled:d=!1,onClick:m,variant:u="primary"}=e,h=(0,n.A)(e,l);const p="primary"===u?"sign-in-btn":"btn-".concat(u);return(0,s.jsx)("button",(0,r.A)((0,r.A)({type:o,className:"btn ".concat(p," ").concat(c),disabled:d||a,onClick:m},h),{},{children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),i]}):t}))}},5090:(e,a,t)=>{t.d(a,{A:()=>n});t(5043),t(8421),t(8123);var r=t(579);const n=e=>{let{theme:a,show:t,title:n="Confirm Action",message:s="Are you sure you want to proceed?",onConfirm:i,onCancel:o}=e;return t?(0,r.jsx)("div",{className:"custom-modal-overlay d-flex align-items-center justify-content-center",tabIndex:"-1",role:"dialog",onClick:o,children:(0,r.jsxs)("div",{className:"custom-modal-content",role:"document",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"custom-modal-header",children:[(0,r.jsx)("h5",{className:"modal2-title fw-bold",children:n}),(0,r.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:o})]}),(0,r.jsx)("div",{className:"custom-modal-body",children:(0,r.jsx)("p",{className:"text-".concat("dark"===a?"light":"muted"," mb-4"),children:s})}),(0,r.jsxs)("div",{className:"custom-modal-footer d-flex justify-content-end gap-2",children:[(0,r.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:o,children:"Cancel"}),(0,r.jsx)("button",{type:"button",className:"btn sign-in-btn",onClick:i,children:"Confirm"})]})]})}):null}},6196:(e,a,t)=>{t.d(a,{A:()=>c});var r=t(5043),n=t(579);const s=e=>{let{value:a,label:t,checked:r,onChange:s,className:i="",disabled:o=!1}=e;return(0,n.jsx)("div",{className:"d-inline-block ".concat(i),children:(0,n.jsxs)("label",{className:"reminder-checkbox-label d-inline-flex align-items-center ".concat(o?"disabled":""),children:[(0,n.jsx)("input",{type:"checkbox",className:"form-check-input me-2",checked:r,onChange:e=>!o&&s(e.target.checked),disabled:o,"aria-label":"Set reminder for ".concat(t),"aria-describedby":"reminder-".concat(a,"-desc")}),(0,n.jsx)("span",{id:"reminder-".concat(a,"-desc"),children:t})]})})};var i=t(1291),o=t(7081);const c=e=>{let{tempDeadline:a,tempReminders:t,setTempReminders:c,theme:l,ALL_INTERVALS:d=[]}=e;const[m,u]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),g=new Date,f=a?new Date(a):null,b=f&&f>g?(f-g)/36e5:0,y=e=>!e.type||"one-time"===e.type,N=t.some((e=>"daily"===e.type)),v=t.some((e=>"weekly"===e.type)),x=d.filter((e=>e.value<=b)),E=t.filter((e=>{if(!y(e))return!1;if(e.remindBefore>b)return!1;return!d.some((a=>Math.abs(a.value-e.remindBefore)<.01))})).map((e=>{if(e.customDate)try{const a=new Date(e.customDate);return{value:e.remindBefore,label:a.toLocaleString(),customDate:e.customDate}}catch(a){console.warn("Error formatting customDate:",a)}if(f){const a=new Date(f.getTime()-36e5*e.remindBefore);return{value:e.remindBefore,label:a.toLocaleString()}}return{value:e.remindBefore,label:(0,o.Hd)(e.remindBefore)}})),j=(e,a)=>{c((t=>{if(a){return t.find((a=>y(a)&&Math.abs(a.remindBefore-e)<.01))?t:[...t,{remindBefore:e,sent:!1,type:"one-time"}]}return t.filter((a=>!y(a)||Math.abs(a.remindBefore-e)>=.01))}))},k=Math.floor(b/24),w=Math.floor(b/168);return(0,n.jsxs)("div",{className:"task-reminders-container",children:[(0,n.jsx)("div",{className:"reminders-dropdown",onClick:()=>p(!h),children:(0,n.jsxs)("div",{className:"reminders-dropdown-header",children:[(0,n.jsxs)("h6",{children:[(0,n.jsx)("i",{className:"bi bi-clock"})," Reminders",t.length>0&&(0,n.jsx)("span",{className:"reminder-count-badge",children:t.length})]}),h?(0,n.jsx)("i",{className:"bi bi-chevron-up"}):(0,n.jsx)("i",{className:"bi bi-chevron-down"})]})}),h&&(0,n.jsxs)("div",{className:"reminders-dropdown-content",children:[(k>0||w>0)&&(0,n.jsxs)("div",{className:"recurring-reminders-section",children:[(0,n.jsxs)("label",{className:"reminder-section-label",children:[(0,n.jsx)("i",{className:"bi bi-arrow-repeat"})," Recurring Reminders:"]}),(0,n.jsxs)("div",{className:"recurring-options",children:[k>0&&(0,n.jsxs)("div",{className:"recurring-option",children:[(0,n.jsx)("input",{type:"checkbox",checked:N,onChange:e=>{return a=e.target.checked,void c((e=>a?[...e.filter((e=>"daily"!==e.type)),{remindBefore:24,sent:!1,type:"daily"}]:e.filter((e=>"daily"!==e.type))));var a},id:"daily-reminders"}),(0,n.jsxs)("label",{htmlFor:"daily-reminders",children:["Every Day (up to ",k," reminder",1!==k?"s":"",")"]})]}),w>0&&(0,n.jsxs)("div",{className:"recurring-option",children:[(0,n.jsx)("input",{type:"checkbox",checked:v,onChange:e=>{return a=e.target.checked,void c((e=>a?[...e.filter((e=>"weekly"!==e.type)),{remindBefore:168,sent:!1,type:"weekly"}]:e.filter((e=>"weekly"!==e.type))));var a},id:"weekly-reminders"}),(0,n.jsxs)("label",{htmlFor:"weekly-reminders",children:["Every Week (up to ",w," reminder",1!==w?"s":"",")"]})]})]})]}),x.length>0&&(0,n.jsxs)("div",{className:"reminder-section",children:[(0,n.jsxs)("label",{className:"reminder-section-label",children:[(0,n.jsx)("i",{className:"bi bi-bell"})," One-time Reminders:"]}),(0,n.jsx)("div",{className:"reminder-grid",children:x.map((e=>{const a=!!t.find((a=>y(a)&&Math.abs(a.remindBefore-e.value)<.01));return(0,n.jsx)(s,{value:e.value,label:e.label,checked:a,onChange:a=>j(e.value,a)},e.value)}))})]}),(0,n.jsxs)("div",{className:"custom-reminder-section",children:[(0,n.jsxs)("label",{className:"reminder-section-label",children:[(0,n.jsx)("i",{className:"bi bi-calendar-plus"})," Add Custom Reminder:"]}),(0,n.jsxs)("div",{className:"custom-reminder-input-group",children:[(0,n.jsx)("input",{type:"datetime-local",value:m,onChange:e=>u(e.target.value),min:(0,i.wM)(g.toISOString()),max:a?(0,i.wM)(a):void 0}),(0,n.jsxs)("button",{className:"btn btn-sm ".concat("dark"===l?"btn-outline-light":"btn-outline-dark"),onClick:()=>{if(!m)return;const e=new Date(m);if(isNaN(e.getTime()))return void console.warn("Invalid date selected");if(!f||e>=f)return void console.warn("Custom reminder must be before deadline");if(e<=g)return void console.warn("Custom reminder must be in the future");const a=(f-e)/36e5;a>0&&a<=b&&(c((t=>t.some((e=>y(e)&&Math.abs(e.remindBefore-a)<.01))?t:[...t,{remindBefore:a,sent:!1,type:"one-time",customDate:e.toISOString()}])),u(""))},disabled:!m,children:[(0,n.jsx)("i",{className:"bi bi-plus-lg"})," Add"]})]})]}),E.length>0&&(0,n.jsxs)("div",{className:"reminder-section",children:[(0,n.jsxs)("label",{className:"reminder-section-label",children:[(0,n.jsx)("i",{className:"bi bi-calendar-check"})," Custom One-time Reminders:"]}),(0,n.jsx)("div",{className:"reminder-grid",children:E.map(((e,a)=>{const r=!!t.find((a=>y(a)&&Math.abs(a.remindBefore-e.value)<.01));return(0,n.jsx)(s,{value:e.value,label:e.label,checked:r,onChange:a=>j(e.value,a)},e.customDate||"".concat(e.value,"-").concat(a))}))})]}),t.length>0&&(0,n.jsx)("div",{className:"active-reminders-summary",children:(0,n.jsxs)("small",{children:[(0,n.jsx)("i",{className:"bi bi-info-circle"})," ",(0,n.jsx)("strong",{children:"Active:"}),N&&" Daily",N&&v&&",",v&&" Weekly",(N||v)&&t.filter(y).length>0&&",",t.filter(y).length>0&&" ".concat(t.filter(y).length," one-time")]})})]})]})}},2532:(e,a,t)=>{t.d(a,{D8:()=>l,Ez:()=>s,Rr:()=>n,ST:()=>o,UU:()=>d,Ym:()=>r,d5:()=>i,j$:()=>c});const r=[{value:1,label:"1 hr"},{value:24,label:"1 day"},{value:168,label:"1 week"}],n={NOT_STARTED:"not-started",IN_PROGRESS:"in-progress",COMPLETED:"completed"},s=(n.NOT_STARTED,n.IN_PROGRESS,n.COMPLETED,{[n.COMPLETED]:"#007a00",[n.IN_PROGRESS]:"#daa520",[n.NOT_STARTED]:"#a00000"}),i={TOKEN:"token",USER_INFO:"userInfo",THEME:"theme",AI_CHAT_MODE:"ai_chat_mode",AI_CHAT_HISTORY:"ai_chat_history"},o={ONE_MINUTE_MS:6e4,ONE_HOUR_MS:36e5,ONE_DAY_MS:864e5,TWO_DAYS_MS:1728e5,ONE_WEEK_MS:6048e5,ONE_HOUR_HOURS:1,ONE_DAY_HOURS:24,ONE_WEEK_HOURS:168},c={ONE_TIME:"one-time",DAILY:"daily",WEEKLY:"weekly"},l={REQUIRED_FIELD:"This field is required",INVALID_EMAIL:"Please enter a valid email address",PASSWORD_MISMATCH:"Passwords do not match",PASSWORD_TOO_SHORT:"Password must be at least 8 characters",INVALID_PHONE:"Please enter a valid phone number"},d={LOGIN_FAILED:"Login failed. Please try again.",REGISTRATION_FAILED:"Registration failed. Please try again.",VERIFICATION_FAILED:"Verification failed. Please try again.",PASSWORD_RESET_FAILED:"Password reset failed. Please try again.",PASSWORD_CHANGE_FAILED:"Failed to change password. Please try again.",PROFILE_UPDATE_FAILED:"Failed to update profile. Please try again.",TASK_FETCH_FAILED:"Failed to fetch tasks. Please try again.",TASK_CREATE_FAILED:"Failed to create task. Please try again.",TASK_UPDATE_FAILED:"Failed to update task. Please try again.",TASK_DELETE_FAILED:"Failed to delete task. Please try again.",NETWORK_ERROR:"Network error. Please check your connection.",GENERIC_ERROR:"Something went wrong. Please try again."}},4505:(e,a,t)=>{t.d(a,{A7:()=>p,DY:()=>h,E$:()=>N,J2:()=>g,Lx:()=>m,Pr:()=>x,U0:()=>f,UT:()=>o,XL:()=>u,ec:()=>y,gQ:()=>E,iV:()=>i,j:()=>s,lC:()=>c,r7:()=>v,vF:()=>d,vq:()=>l,xw:()=>b});const r=t(9722).A.create({baseURL:"https://task-manager-sigma-ashen.vercel.app/api",headers:{"ngrok-skip-browser-warning":"true"},timeout:3e4});r.interceptors.request.use((e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e}),(e=>Promise.reject(e)));const n=e=>{var a;return e.response?{message:(null===(a=e.response.data)||void 0===a?void 0:a.error)||"An error occurred",status:e.response.status}:e.request?{message:"No response from server. Please check your connection.",status:0}:{message:e.message||"An unexpected error occurred",status:-1}},s=()=>r.get("/tasks"),i=e=>r.get("/tasks/".concat(e)),o=e=>r.post("/tasks",e),c=(e,a)=>r.put("/tasks/".concat(e),a),l=e=>r.delete("/tasks/".concat(e)),d=(e,a)=>r.put("/tasks/".concat(e,"/priority"),{priority:a}),m=(e,a)=>r.post("/auth/login",{email:e,password:a}),u=async e=>r.post("/auth/google",{code:e}),h=(e,a,t,n)=>r.post("/auth/register",{firstName:e,lastName:a,email:t,password:n}),p=(e,a)=>r.post("/auth/verify-registration",{email:e,verificationCode:a}),g=e=>r.post("/auth/resend-verification",{email:e}),f=e=>r.post("/auth/forgot-password",{email:e}),b=(e,a,t)=>r.post("/auth/verify-code",{email:e,verificationCode:a,newPassword:t}),y=(e,a)=>r.post("/auth/change-password",{currentPassword:e,newPassword:a}),N=async()=>{try{return(await r.get("/profile")).data}catch(e){throw console.error("Error fetching profile:",e),e}},v=async e=>{try{return(await r.put("/profile",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error updating profile:",a),a}},x=async e=>{try{const a=Intl.DateTimeFormat().resolvedOptions().timeZone;return{success:!0,data:(await r.post("/ai/chat",{prompt:e},{headers:{"x-user-timezone":a}})).data}}catch(a){return{success:!1,error:n(a).message}}},E=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{const t=Intl.DateTimeFormat().resolvedOptions().timeZone;return{success:!0,data:(await r.post("/ai/chat-conversation",{message:e,conversationHistory:a},{headers:{"x-user-timezone":t}})).data}}catch(t){return{success:!1,error:n(t).message}}}},1291:(e,a,t)=>{t.d(a,{Ic:()=>s,fw:()=>n,wM:()=>i});var r=t(1535);const n=e=>{const a=new Date(e),t=new Date,n=Math.floor((t-a)/1e3);if(n<0){const e=Math.abs(n);return e<60?"Just now":e<60?"in ".concat(e," second").concat(1!==e?"s":""):e<3600?"in ".concat(Math.ceil(e/60)," minute").concat(1!==Math.ceil(e/60)?"s":""):e<86400?"in ".concat(Math.ceil(e/3600)," hour").concat(1!==Math.ceil(e/3600)?"s":""):e<604800?"in ".concat(Math.ceil(e/86400)," day").concat(1!==Math.ceil(e/86400)?"s":""):(0,r.GP)(a,"MMM dd, yyyy")}if(n<60)return"Just now";if(n<60)return"".concat(n," second").concat(1!==n?"s":""," ago");if(n<3600)return"".concat(Math.floor(n/60)," minute").concat(1!==Math.floor(n/60)?"s":""," ago");if(n<86400)return"".concat(Math.floor(n/3600)," hour").concat(1!==Math.floor(n/3600)?"s":""," ago");if(n<604800){const e=Math.floor(n/86400);return 1===e?"Yesterday":"".concat(e," days ago")}return(0,r.GP)(a,"MMM dd, yyyy")},s=e=>{const[a,t,r]=e.split("-").map(Number),n=new Date(a,t-1,r);if(isNaN(n))return"Invalid Date";return n.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"})},i=e=>{const a=new Date(e),t=a.getFullYear(),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),s=String(a.getHours()).padStart(2,"0"),i=String(a.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(n,"T").concat(s,":").concat(i)}},7081:(e,a,t)=>{t.d(a,{Hd:()=>s,NF:()=>o,ZW:()=>i});var r=t(2555),n=t(2532);const s=e=>{if(e<1){const a=Math.round(60*e);return"".concat(a," min").concat(1!==a?"s":"")}if(e<n.ST.ONE_DAY_HOURS){const a=e%1===0?e:e.toFixed(1);return"".concat(a," hr").concat(1!==e?"s":"")}const a=e/n.ST.ONE_DAY_HOURS;if(a<7){const e=a%1===0?a:a.toFixed(1);return"".concat(e," day").concat(1!==a?"s":"")}const t=a/7,r=t%1===0?t:t.toFixed(1);return"".concat(r," week").concat(1!==t?"s":"")},i=(e,a)=>{if(!Array.isArray(e)||!a)return e;const t=new Date(a);return e.map((e=>{if(e.remindBefore&&!e.customDate)return e;if(e.customDate){const a=new Date(e.customDate);if(!isNaN(a.getTime())&&a<t){const n=(t-a)/36e5;return(0,r.A)((0,r.A)({},e),{},{remindBefore:n})}}return e}))},o=e=>{if(!e||0===e.length)return"";const a=e.filter((e=>!e.type||e.type===n.j$.ONE_TIME)),t=e.some((e=>e.type===n.j$.DAILY)),r=e.some((e=>e.type===n.j$.WEEKLY)),i=[];if(a.length>0){const e=a.map((e=>s(e.remindBefore))).join(", ");i.push(e)}return t&&i.push("Daily"),r&&i.push("Weekly"),i.join(", ")}},2437:(e,a,t)=>{t.d(a,{qY:()=>n});var r=t(2532);const n=e=>r.Ez[e]||r.Ez[r.Rr.NOT_STARTED]}}]);
//# sourceMappingURL=343.cdacfd37.chunk.js.map