"use strict";(self.webpackChunktask_manager_frontend=self.webpackChunktask_manager_frontend||[]).push([[291],{2532:(e,a,t)=>{t.d(a,{D8:()=>c,Ez:()=>n,Rr:()=>s,ST:()=>i,UU:()=>d,Ym:()=>r,d5:()=>o,j$:()=>l});const r=[{value:1,label:"1 hr"},{value:24,label:"1 day"},{value:168,label:"1 week"}],s={NOT_STARTED:"not-started",IN_PROGRESS:"in-progress",COMPLETED:"completed"},n=(s.NOT_STARTED,s.IN_PROGRESS,s.COMPLETED,{[s.COMPLETED]:"#007a00",[s.IN_PROGRESS]:"#daa520",[s.NOT_STARTED]:"#a00000"}),o={TOKEN:"token",USER_INFO:"userInfo",THEME:"theme",AI_CHAT_MODE:"ai_chat_mode",AI_CHAT_HISTORY:"ai_chat_history"},i={ONE_MINUTE_MS:6e4,ONE_HOUR_MS:36e5,ONE_DAY_MS:864e5,TWO_DAYS_MS:1728e5,ONE_WEEK_MS:6048e5,ONE_HOUR_HOURS:1,ONE_DAY_HOURS:24,ONE_WEEK_HOURS:168},l={ONE_TIME:"one-time",DAILY:"daily",WEEKLY:"weekly"},c={REQUIRED_FIELD:"This field is required",INVALID_EMAIL:"Please enter a valid email address",PASSWORD_MISMATCH:"Passwords do not match",PASSWORD_TOO_SHORT:"Password must be at least 8 characters",INVALID_PHONE:"Please enter a valid phone number"},d={LOGIN_FAILED:"Login failed. Please try again.",REGISTRATION_FAILED:"Registration failed. Please try again.",VERIFICATION_FAILED:"Verification failed. Please try again.",PASSWORD_RESET_FAILED:"Password reset failed. Please try again.",PASSWORD_CHANGE_FAILED:"Failed to change password. Please try again.",PROFILE_UPDATE_FAILED:"Failed to update profile. Please try again.",TASK_FETCH_FAILED:"Failed to fetch tasks. Please try again.",TASK_CREATE_FAILED:"Failed to create task. Please try again.",TASK_UPDATE_FAILED:"Failed to update task. Please try again.",TASK_DELETE_FAILED:"Failed to delete task. Please try again.",NETWORK_ERROR:"Network error. Please check your connection.",GENERIC_ERROR:"Something went wrong. Please try again."}},4505:(e,a,t)=>{t.d(a,{A7:()=>E,DY:()=>m,E$:()=>f,J2:()=>g,Lx:()=>u,Pr:()=>S,U0:()=>h,UT:()=>i,XL:()=>p,ec:()=>A,gQ:()=>O,iV:()=>o,j:()=>n,lC:()=>l,r7:()=>v,vF:()=>d,vq:()=>c,xw:()=>_});const r=t(9722).A.create({baseURL:"https://task-manager-sigma-ashen.vercel.app/api",headers:{"ngrok-skip-browser-warning":"true"},timeout:3e4});r.interceptors.request.use(e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e));const s=e=>{var a;return e.response?{message:(null===(a=e.response.data)||void 0===a?void 0:a.error)||"An error occurred",status:e.response.status}:e.request?{message:"No response from server. Please check your connection.",status:0}:{message:e.message||"An unexpected error occurred",status:-1}},n=()=>r.get("/tasks"),o=e=>r.get("/tasks/".concat(e)),i=e=>r.post("/tasks",e),l=(e,a)=>r.put("/tasks/".concat(e),a),c=e=>r.delete("/tasks/".concat(e)),d=(e,a)=>r.put("/tasks/".concat(e,"/priority"),{priority:a}),u=(e,a)=>r.post("/auth/login",{email:e,password:a}),p=async e=>r.post("/auth/google",{code:e}),m=(e,a,t,s)=>r.post("/auth/register",{firstName:e,lastName:a,email:t,password:s}),E=(e,a)=>r.post("/auth/verify-registration",{email:e,verificationCode:a}),g=e=>r.post("/auth/resend-verification",{email:e}),h=e=>r.post("/auth/forgot-password",{email:e}),_=(e,a,t)=>r.post("/auth/verify-code",{email:e,verificationCode:a,newPassword:t}),A=(e,a)=>r.post("/auth/change-password",{currentPassword:e,newPassword:a}),f=async()=>{try{return(await r.get("/profile")).data}catch(e){throw console.error("Error fetching profile:",e),e}},v=async e=>{try{return(await r.put("/profile",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error updating profile:",a),a}},S=async e=>{try{const a=Intl.DateTimeFormat().resolvedOptions().timeZone;return{success:!0,data:(await r.post("/ai/chat",{prompt:e},{headers:{"x-user-timezone":a}})).data}}catch(a){return{success:!1,error:s(a).message}}},O=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{const t=Intl.DateTimeFormat().resolvedOptions().timeZone;return{success:!0,data:(await r.post("/ai/chat-conversation",{message:e,conversationHistory:a},{headers:{"x-user-timezone":t}})).data}}catch(t){return{success:!1,error:s(t).message}}}},7081:(e,a,t)=>{t.d(a,{Hd:()=>n,NF:()=>i,ZW:()=>o});var r=t(2555),s=t(2532);const n=e=>{if(e<1){const a=Math.round(60*e);return"".concat(a," min").concat(1!==a?"s":"")}if(e<s.ST.ONE_DAY_HOURS){const a=e%1===0?e:e.toFixed(1);return"".concat(a," hr").concat(1!==e?"s":"")}const a=e/s.ST.ONE_DAY_HOURS;if(a<7){const e=a%1===0?a:a.toFixed(1);return"".concat(e," day").concat(1!==a?"s":"")}const t=a/7,r=t%1===0?t:t.toFixed(1);return"".concat(r," week").concat(1!==t?"s":"")},o=(e,a)=>{if(!Array.isArray(e)||!a)return e;const t=new Date(a);return e.map(e=>{if(e.remindBefore&&!e.customDate)return e;if(e.customDate){const a=new Date(e.customDate);if(!isNaN(a.getTime())&&a<t){const s=(t-a)/36e5;return(0,r.A)((0,r.A)({},e),{},{remindBefore:s})}}return e})},i=e=>{if(!e||0===e.length)return"";const a=e.filter(e=>!e.type||e.type===s.j$.ONE_TIME),t=e.some(e=>e.type===s.j$.DAILY),r=e.some(e=>e.type===s.j$.WEEKLY),o=[];if(a.length>0){const e=a.map(e=>n(e.remindBefore)).join(", ");o.push(e)}return t&&o.push("Daily"),r&&o.push("Weekly"),o.join(", ")}},8123:(e,a,t)=>{t.d(a,{ZT:()=>l,ZQ:()=>i,lV:()=>d});var r=t(2555),s=t(3986),n=t(579);const o=["type","id","name","value","onChange","placeholder","required","className","label","error","disabled"],i=e=>{let{type:a="text",id:t,name:i,value:l,onChange:c,placeholder:d,required:u=!1,className:p="",label:m,error:E,disabled:g=!1}=e,h=(0,s.A)(e,o);return(0,n.jsxs)("div",{className:"form-input-wrapper mb-3",children:[m&&(0,n.jsxs)("label",{htmlFor:t,className:"form-label",children:[m,u&&(0,n.jsx)("span",{className:"text-danger ms-1",children:"*"})]}),(0,n.jsx)("input",(0,r.A)({type:a,id:t,name:i,value:l,onChange:c,placeholder:d,required:u,disabled:g,className:"form-control py-2 ".concat(E?"is-invalid":""," ").concat(p)},h)),E&&(0,n.jsx)("div",{className:"invalid-feedback d-block",children:E})]})},l=e=>{let{type:a="info",message:t,onClose:r,className:s=""}=e;if(!t)return null;const o={success:"alert-success",error:"alert-danger",warning:"alert-warning",info:"alert-info"}[a]||"alert-info";return(0,n.jsxs)("div",{className:"alert ".concat(o," ").concat(s," d-flex align-items-center justify-content-between"),role:"alert",children:[(0,n.jsx)("span",{children:t}),r&&(0,n.jsx)("button",{type:"button",className:"btn-close",onClick:r,"aria-label":"Close"})]})},c=["isLoading","children","loadingText","type","className","disabled","onClick","variant"],d=e=>{let{isLoading:a=!1,children:t,loadingText:o="Loading...",type:i="button",className:l="",disabled:d=!1,onClick:u,variant:p="primary"}=e,m=(0,s.A)(e,c);const E="primary"===p?"sign-in-btn":"btn-".concat(p);return(0,n.jsx)("button",(0,r.A)((0,r.A)({type:i,className:"btn ".concat(E," ").concat(l),disabled:d||a,onClick:u},m),{},{children:a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),o]}):t}))}},9997:(e,a,t)=>{t.d(a,{Ct:()=>c,lN:()=>n,M3:()=>d,Gv:()=>u});var r=t(2555),s=t(5043);const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[a,t]=(0,s.useState)(e),n=(0,s.useCallback)(e=>{const{name:a,value:s,type:n,checked:o}=e.target;t(e=>(0,r.A)((0,r.A)({},e),{},{[a]:"checkbox"===n?o:s}))},[]),o=(0,s.useCallback)(()=>{t(e)},[e]),i=(0,s.useCallback)((e,a)=>{t(t=>(0,r.A)((0,r.A)({},t),{},{[e]:a}))},[]);return{formData:a,handleChange:n,setFormData:t,resetForm:o,setFieldValue:i}};var o=t(2532);var i=t(8729),l=t(3216);const c=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const[a,t]=(0,s.useState)(""),{logout:r}=(0,i.A)(),n=(0,l.Zp)(),c=(0,s.useCallback)(()=>{t("")},[]),d=(0,s.useCallback)((a,s)=>{if(console.error("API Error:",a),e&&(e=>{var a;return 403===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)||403===(null===e||void 0===e?void 0:e.status)})(a))return r(),n("/login"),void t("Session expired. Please login again.");const i=function(e){var a,t,r,s;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.UU.GENERIC_ERROR;return e?null!==(a=e.response)&&void 0!==a&&null!==(t=a.data)&&void 0!==t&&t.message?e.response.data.message:null!==(r=e.response)&&void 0!==r&&null!==(s=r.data)&&void 0!==s&&s.error?e.response.data.error:e.message?e.message:n:n}(a,s);t(i)},[e,r,n]);return{error:a,setError:t,clearError:c,handleError:d}},d=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[a,t]=(0,s.useState)(e);return{isLoading:a,startLoading:(0,s.useCallback)(()=>{t(!0)},[]),stopLoading:(0,s.useCallback)(()=>{t(!1)},[]),setIsLoading:t}},u=()=>{const[e,a]=(0,s.useState)(""),t=(0,s.useCallback)(()=>{a("")},[]);return{passwordError:e,validatePassword:(0,s.useCallback)(e=>e?e.length<8?(a(o.D8.PASSWORD_TOO_SHORT),!1):(t(),!0):(a(o.D8.REQUIRED_FIELD),!1),[t]),validatePasswordMatch:(0,s.useCallback)((e,r)=>e!==r?(a(o.D8.PASSWORD_MISMATCH),!1):(t(),!0),[t]),validatePasswordStrength:(0,s.useCallback)(e=>{const a=/[A-Z]/.test(e),t=/[a-z]/.test(e),r=/\d/.test(e),s=/[!@#$%^&*(),.?":{}|<>]/.test(e);return{isStrong:a&&t&&r&&s,hasUpperCase:a,hasLowerCase:t,hasNumbers:r,hasSpecialChar:s}},[]),clearPasswordError:t}};t(7081)}}]);
//# sourceMappingURL=291.9bdd2838.chunk.js.map