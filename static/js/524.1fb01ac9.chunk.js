"use strict";(self.webpackChunktask_manager_frontend=self.webpackChunktask_manager_frontend||[]).push([[524],{4971:(e,s,r)=>{r.r(s),r.d(s,{default:()=>c});var a=r(2555),o=r(5043),n=r(3216),l=r(4505),t=(r(658),r(2891),r(8729)),d=(r(8123),r(9997),r(2532),r(579));const c=()=>{const[e,s]=(0,o.useState)({currentPassword:"",newPassword:"",confirmNewPassword:""}),[r,c]=(0,o.useState)(""),[i,m]=(0,o.useState)(""),w=(0,n.Zp)(),{logout:u}=(0,t.A)(),h=r=>{const{name:o,value:n}=r.target;s((0,a.A)((0,a.A)({},e),{},{[o]:n}))};return(0,d.jsx)("div",{className:"profile-container",children:(0,d.jsxs)("div",{className:"profile-card shadow rounded",children:[(0,d.jsx)("h2",{className:"profile-title text-center mb-4 bold-text",children:"Change Password"}),i&&(0,d.jsx)("p",{className:"text-success text-center",children:i}),r&&(0,d.jsx)("p",{className:"text-danger text-center",children:r}),(0,d.jsxs)("form",{onSubmit:async s=>{s.preventDefault();const{currentPassword:r,newPassword:a,confirmNewPassword:o}=e;if(r&&a&&o)if(a===o)try{await(0,l.ec)(r,a),m("Password changed successfully!"),c(""),setTimeout((()=>w("/profile-overview")),2e3)}catch(i){var n,t,d;console.error("Password change error:",(null===(n=i.response)||void 0===n?void 0:n.data)||i.message),c((null===(t=i.response)||void 0===t||null===(d=t.data)||void 0===d?void 0:d.message)||"Failed to change password. Please try again."),m(""),i&&403===i.status&&(u(),w("/login"))}else c("Passwords do not match.");else c("All fields are required.")},children:[(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)("label",{htmlFor:"currentPassword",className:"form-label",children:"Current Password"}),(0,d.jsx)("input",{type:"password",className:"form-control",id:"currentPassword",name:"currentPassword",value:e.currentPassword,onChange:h,required:!0})]}),(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)("label",{htmlFor:"newPassword",className:"form-label",children:"New Password"}),(0,d.jsx)("input",{type:"password",className:"form-control",id:"newPassword",name:"newPassword",value:e.newPassword,onChange:h,required:!0})]}),(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)("label",{htmlFor:"confirmNewPassword",className:"form-label",children:"Confirm New Password"}),(0,d.jsx)("input",{type:"password",className:"form-control",id:"confirmNewPassword",name:"confirmNewPassword",value:e.confirmNewPassword,onChange:h,required:!0})]}),(0,d.jsxs)("div",{className:"row mt-4",children:[(0,d.jsx)("div",{className:"col-12 col-md-6 mb-2 mb-md-0",children:(0,d.jsx)("button",{type:"button",className:"btn btn-secondary w-100",onClick:()=>w("/profile-overview"),children:"Cancel"})}),(0,d.jsx)("div",{className:"col-12 col-md-6",children:(0,d.jsx)("button",{type:"submit",className:"btn btn-dark w-100",children:"Save Changes"})})]})]})]})})}},2891:()=>{},658:()=>{}}]);
//# sourceMappingURL=524.1fb01ac9.chunk.js.map