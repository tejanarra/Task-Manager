{"version":3,"file":"static/js/929.f8965308.chunk.js","mappings":"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","sources":["utils/statusUtils.js","components/tasks/taskItem/TaskCard.js","components/tasks/AIChatModal/QuickMode.js","components/tasks/AIChatModal/ChatMessage.js","components/tasks/taskItem/TaskItem.js","components/tasks/AIChatModal/ChatMode.js","components/tasks/AIChatModal/TaskPreviewModal.js","components/tasks/AIChatModal/AIChatModal.js","components/tasks/AIChatModal/FloatingChatWidget.js","components/tasks/TaskList.js"],"sourcesContent":["import { TASK_STATUS, STATUS_COLORS, TASK_STATUS_LABELS } from \"../constants/appConstants\";\n\n/**\n * Gets the color for a task status\n * @param {string} status - The task status\n * @returns {string} - The hex color code\n */\nexport const getStatusColor = (status) => {\n  return STATUS_COLORS[status] || STATUS_COLORS[TASK_STATUS.NOT_STARTED];\n};\n\n/**\n * Gets the label for a task status\n * @param {string} status - The task status\n * @returns {string} - The human-readable label\n */\nexport const getStatusLabel = (status) => {\n  return TASK_STATUS_LABELS[status] || TASK_STATUS_LABELS[TASK_STATUS.NOT_STARTED];\n};\n\n/**\n * Checks if a status is valid\n * @param {string} status - The status to check\n * @returns {boolean} - True if valid\n */\nexport const isValidStatus = (status) => {\n  return Object.values(TASK_STATUS).includes(status);\n};\n\n/**\n * Gets all available statuses\n * @returns {Array} - Array of status objects with value and label\n */\nexport const getAllStatuses = () => {\n  return Object.values(TASK_STATUS).map(status => ({\n    value: status,\n    label: getStatusLabel(status),\n    color: getStatusColor(status),\n  }));\n};\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { formatRelativeTime } from \"../../../utils/dateUtils\";\nimport { getStatusColor } from \"../../../utils/statusUtils\";\nimport { getReminderSummary } from \"../../../utils/reminderUtils\";\nimport \"./Styles/TaskCard.css\";\n\nconst TaskCard = ({ theme, task, demoMode = false }) => {\n  const navigate = useNavigate();\n\n  const handleClick = () => {\n    if (!demoMode) {\n      navigate(`/tasks/${task.id}/edit`);\n    }\n  };\n\n  const stripColor = getStatusColor(task.status);\n  const reminderSummary = getReminderSummary(task.reminders);\n\n  return (\n    <div\n      className={`task-card ${theme === \"dark\" ? \"dark\" : \"\"}`}\n      onClick={handleClick}\n    >\n      <div className=\"task-strip\" style={{ backgroundColor: stripColor }}></div>\n\n      <div className=\"task-card-content\">\n        <i\n          className={`bi ${\n            task.status === \"completed\"\n              ? \"bi-check-circle\"\n              : task.status === \"in-progress\"\n              ? \"bi-hourglass\"\n              : \"bi-ban\"\n          } status-icon`}\n          style={{ color: stripColor }}\n        />\n\n        <h5 className=\"task-title\" style={{ color: stripColor }}>\n          {task.title}\n        </h5>\n        <p className=\"task-description\">{task.description}</p>\n\n        <div className=\"task-metadata\">\n          <div className=\"task-metadata-item\">\n            <strong>Created</strong>\n            <span>{formatRelativeTime(task.createdAt)}</span>\n          </div>\n          <div className=\"task-metadata-item\">\n            <strong>Deadline</strong>\n            <span>\n              {task.deadline\n                ? formatRelativeTime(task.deadline)\n                : \"No deadline set\"}\n            </span>\n          </div>\n        </div>\n\n        {reminderSummary && (\n          <div\n            className=\"reminder-indicator\"\n            title={`Reminders: ${reminderSummary}`}\n          >\n            <i className=\"bi bi-clock\"></i>\n            <small>{reminderSummary}</small>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TaskCard;\n","import { useState, useRef, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { generateAITask } from \"../../../services/api\";\n\nconst QuickMode = ({ setError, onClose }) => {\n  const navigate = useNavigate();\n  const [quickPrompt, setQuickPrompt] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    if (inputRef.current) inputRef.current.focus();\n  }, []);\n\n  const handleQuickGenerate = async () => {\n    if (!quickPrompt.trim()) return;\n    setIsLoading(true);\n    setError(null);\n\n    const result = await generateAITask(quickPrompt);\n    setIsLoading(false);\n\n    if (!result.success) {\n      setError(result.error);\n      return;\n    }\n\n    const aiTask = result.data;\n    const newTask = {\n      title: aiTask.title,\n      description: aiTask.description,\n      status: aiTask.status || \"not-started\",\n      deadline: aiTask.deadline,\n      reminders: aiTask.reminders || [],\n    };\n\n    // Close modal and navigate to editor with task data\n    onClose();\n    navigate(\"/tasks/new/edit\", { state: { task: newTask } });\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleQuickGenerate();\n    }\n  };\n\n  return (\n    <div className=\"quick-mode\">\n      <div className=\"quick-mode-content\">\n        <label className=\"form-label\">Describe your task:</label>\n        <textarea\n          ref={inputRef}\n          className=\"form-control\"\n          rows={4}\n          value={quickPrompt}\n          onChange={(e) => setQuickPrompt(e.target.value)}\n          onKeyDown={handleKeyPress}\n          placeholder=\"E.g., 'Prepare project report by Friday 5PM with reminders 1 day and 1 hour before'\"\n          disabled={isLoading}\n        />\n        <div className=\"quick-mode-suggestions\">\n          <small>Try these:</small>\n          {[\n            \"Schedule dentist appointment next Tuesday at 3pm\",\n            \"Plan weekend shopping with 1 day reminder\",\n            \"Prepare presentation for Monday with daily reminders\",\n          ].map((text) => (\n            <button\n              key={text}\n              className=\"suggestion-chip\"\n              onClick={() => setQuickPrompt(text)}\n              disabled={isLoading}\n            >\n              {text}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"modal-actions\">\n        <button\n          className=\"btn btn-secondary\"\n          onClick={onClose}\n          disabled={isLoading}\n        >\n          Cancel\n        </button>\n        <button\n          className=\"btn btn-primary\"\n          onClick={handleQuickGenerate}\n          disabled={!quickPrompt.trim() || isLoading}\n        >\n          {isLoading ? (\n            <>\n              <span className=\"spinner-border spinner-border-sm me-2\"></span>{\" \"}\n              Generating...\n            </>\n          ) : (\n            <>\n              <i className=\"bi bi-magic me-2\"></i> Generate Task\n            </>\n          )}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default QuickMode;\n","const ChatMessage = ({ msg, user, theme }) => {\n  const userAvatar = user.avatar;\n  const initials =\n    (user.firstName?.[0]?.toUpperCase() || \"\") +\n    (user.lastName?.[0]?.toUpperCase() || \"\");\n  const displayInitials = initials || \"?\";\n\n  // Format timestamp for WhatsApp-like display\n  const formatTime = (timestamp) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffInHours = (now - date) / (1000 * 60 * 60);\n\n    // If message is from today, show time only\n    if (diffInHours < 24 && date.getDate() === now.getDate()) {\n      return date.toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      });\n    }\n\n    // If yesterday\n    if (diffInHours < 48 && date.getDate() === now.getDate() - 1) {\n      return `Yesterday ${date.toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      })}`;\n    }\n\n    // Otherwise show date and time\n    return (\n      date.toLocaleDateString([], {\n        month: \"short\",\n        day: \"numeric\",\n      }) +\n      \" \" +\n      date.toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      })\n    );\n  };\n\n  // Format message content with basic markdown-like formatting\n  const formatMessageContent = (content) => {\n    if (!content) return \"\";\n\n    // Split by numbered lists (1., 2., etc.)\n    const parts = content.split(/(\\d+\\.\\s+[^\\n]+)/g);\n\n    return parts.map((part, index) => {\n      // Check if this is a numbered list item\n      if (/^\\d+\\.\\s+/.test(part)) {\n        const match = part.match(/^(\\d+)\\.\\s+(.+)/);\n        if (match) {\n          return (\n            <div\n              key={index}\n              style={{ marginLeft: \"0.5rem\", marginTop: \"0.25rem\" }}\n            >\n              <strong>{match[1]}.</strong> {match[2]}\n            </div>\n          );\n        }\n      }\n\n      // Process inline formatting\n      const processedPart = part\n        .split(/(\\*\\*[^*]+\\*\\*)/g) // Bold text\n        .map((segment, i) => {\n          if (segment.startsWith(\"**\") && segment.endsWith(\"**\")) {\n            return <strong key={i}>{segment.slice(2, -2)}</strong>;\n          }\n          return segment;\n        });\n\n      return <span key={index}>{processedPart}</span>;\n    });\n  };\n\n  return (\n    <div className={`chat-message ${msg.role}`}>\n      <div className=\"message-avatar\">\n        {msg.role === \"user\" ? (\n          userAvatar ? (\n            <img\n              src={userAvatar}\n              alt=\"User\"\n              style={{\n                width: \"100%\",\n                height: \"100%\",\n                borderRadius: \"50%\",\n                objectFit: \"cover\",\n              }}\n            />\n          ) : (\n            <div\n              style={{\n                width: \"100%\",\n                height: \"100%\",\n                borderRadius: \"50%\",\n                backgroundColor: theme === \"dark\" ? \"#ffffff\" : \"#000000\",\n                color: theme === \"dark\" ? \"#000000\" : \"#ffffff\",\n                fontWeight: \"bold\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                fontSize: \"0.85rem\",\n              }}\n            >\n              {displayInitials}\n            </div>\n          )\n        ) : (\n          <i className=\"bi bi-robot\"></i>\n        )}\n      </div>\n      <div className=\"message-content\">\n        <div className=\"message-text\">\n          <div className=\"message-text-content\">\n            {formatMessageContent(msg.content)}\n          </div>\n          <div className=\"message-time\">\n            {formatTime(msg.timestamp)}\n            {msg.role === \"user\" && (\n              <i\n                className=\"bi bi-check-all\"\n                style={{ fontSize: \"0.75rem\" }}\n              ></i>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatMessage;\n","import { useState, useEffect, useRef, useCallback } from \"react\";\nimport { deleteTask, updateTask } from \"../../../services/api\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport ConfirmationModal from \"../../layout/ConfirmationModal\";\nimport TaskReminders from \"./TaskReminders\";\nimport {\n  formatRelativeTime,\n  formatDateTimeLocal,\n} from \"../../../utils/dateUtils\";\nimport { REMINDER_INTERVALS } from \"../../../constants/appConstants\";\nimport \"./Styles/TaskItem.css\";\n\nconst TaskItem = ({\n  theme,\n  task,\n  setTasks,\n  isNewTask = false,\n  isChatPreview = false,\n  onSave = () => {},\n  onCancel = () => {},\n}) => {\n  const [isEditing, setIsEditing] = useState(isNewTask);\n  const [tempTitle, setTempTitle] = useState(task.title);\n  const [tempDescription, setTempDescription] = useState(task.description);\n  const [tempStatus, setTempStatus] = useState(task.status);\n  const [tempDeadline, setTempDeadline] = useState(task.deadline || null);\n  const [tempReminders, setTempReminders] = useState(\n    Array.isArray(task.reminders) ? task.reminders : []\n  );\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const cardRef = useRef(null);\n\n  //  Ensure reminders update when the AI-created task is previewed\n  useEffect(() => {\n    if (Array.isArray(task.reminders) && task.reminders.length > 0) {\n      setTempReminders(task.reminders);\n    }\n  }, [task.reminders]);\n\n  const handleCancel = useCallback(() => {\n    setTempTitle(task.title);\n    setTempDescription(task.description);\n    setTempStatus(task.status);\n    setTempDeadline(task.deadline || null);\n    setTempReminders(Array.isArray(task.reminders) ? task.reminders : []);\n    isNewTask ? onCancel(task.id) : setIsEditing(false);\n  }, [\n    task.title,\n    task.description,\n    task.status,\n    task.deadline,\n    task.reminders,\n    isNewTask,\n    onCancel,\n    task.id,\n  ]);\n\n  useEffect(() => {\n    // Only add click outside listener if NOT in chat preview\n    if (isChatPreview) return;\n    \n    const handleClickOutside = (e) => {\n      if (isEditing && cardRef.current && !cardRef.current.contains(e.target)) {\n        handleCancel();\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, [isEditing, handleCancel, isChatPreview]);\n\n  const handleSave = async () => {\n    if (!tempTitle.trim() || !tempDescription.trim()) return;\n\n    setIsLoading(true);\n\n    const changed =\n      tempTitle !== task.title ||\n      tempDescription !== task.description ||\n      tempStatus !== task.status ||\n      tempDeadline !== task.deadline ||\n      JSON.stringify(tempReminders) !== JSON.stringify(task.reminders);\n\n    if (!changed && !isNewTask) {\n      setIsEditing(false);\n      setIsLoading(false);\n      return;\n    }\n\n    const now = new Date();\n    const deadlineDate = tempDeadline ? new Date(tempDeadline) : null;\n    const diffInHours =\n      deadlineDate && deadlineDate > now\n        ? (deadlineDate - now) / (1000 * 60 * 60)\n        : 0;\n\n    const regenerateRecurringReminders = (reminders) => {\n      const hasDaily = reminders.some((r) => r.type === \"daily\");\n      const hasWeekly = reminders.some((r) => r.type === \"weekly\");\n\n      // Filter one-time reminders - handle BOTH remindAt (from backend) and remindBefore (legacy) formats\n      let filteredReminders = reminders.filter((r) => {\n        // Not a one-time reminder\n        if (r.type && r.type !== \"one-time\") return false;\n\n        // New format: remindAt (absolute timestamp from backend)\n        if (r.remindAt) {\n          const remindDate = new Date(r.remindAt);\n          return remindDate > now && remindDate < deadlineDate;\n        }\n\n        // Legacy format: remindBefore (relative hours)\n        if (typeof r.remindBefore === 'number') {\n          return r.remindBefore > 0 && r.remindBefore <= diffInHours;\n        }\n\n        return false;\n      });\n\n      if (hasDaily && diffInHours > 0) {\n        const maxDays = Math.floor(diffInHours / 24);\n        for (let day = 1; day <= maxDays; day++) {\n          filteredReminders.push({\n            remindBefore: day * 24,\n            sent: false,\n            type: \"daily\",\n            dayNumber: day,\n          });\n        }\n      }\n\n      if (hasWeekly && diffInHours > 0) {\n        const maxWeeks = Math.floor(diffInHours / (24 * 7));\n        for (let week = 1; week <= maxWeeks; week++) {\n          filteredReminders.push({\n            remindBefore: week * 24 * 7,\n            sent: false,\n            type: \"weekly\",\n            weekNumber: week,\n          });\n        }\n      }\n\n      return filteredReminders;\n    };\n\n    const finalReminders =\n      diffInHours > 0 ? regenerateRecurringReminders(tempReminders) : [];\n\n    const updatedTaskData = {\n      title: tempTitle.trim(),\n      description: tempDescription.trim(),\n      status: tempStatus,\n      deadline: tempDeadline ? deadlineDate.toISOString() : null,\n      reminders: finalReminders,\n    };\n\n    try {\n      if (isNewTask) {\n        onSave({ ...task, ...updatedTaskData });\n      } else {\n        const response = await updateTask(task.id, updatedTaskData);\n        setTasks((prev) =>\n          prev.map((t) => (t.id === response.data.id ? response.data : t))\n        );\n        setIsEditing(false);\n      }\n    } catch (error) {\n      console.error(\"Error updating task:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDelete = () => setShowDeleteModal(true);\n  const confirmDelete = async () => {\n    setIsLoading(true);\n    try {\n      await deleteTask(task.id);\n      setTasks((prev) => prev.filter((t) => t.id !== task.id));\n      setShowDeleteModal(false);\n    } catch (error) {\n      console.error(\"Error deleting task:\", error);\n    } finally {\n      setIsLoading(false);\n      setShowDeleteModal(false);\n    }\n  };\n\n  const getStripColor = (status) => {\n    switch (status) {\n      case \"completed\":\n        return \"#007a00\";\n      case \"in-progress\":\n        return \"#daa520\";\n      default:\n        return \"#a00000\";\n    }\n  };\n\n  const stripColor = getStripColor(task.status);\n  const isDeadlineInFuture =\n    tempDeadline && new Date(tempDeadline) > new Date();\n\n  //  Fixed  correctly include \"one-time\" reminders\n  const getReminderSummary = () => {\n    if (!tempReminders || tempReminders.length === 0) return null;\n\n    const dailyCount = tempReminders.filter((r) => r.type === \"daily\").length;\n    const weeklyCount = tempReminders.filter((r) => r.type === \"weekly\").length;\n    const oneTimeCount = tempReminders.filter(\n      (r) => r.type === \"one-time\" || !r.type\n    ).length;\n\n    const parts = [];\n    if (dailyCount > 0) parts.push(`Daily (${dailyCount})`);\n    if (weeklyCount > 0) parts.push(`Weekly (${weeklyCount})`);\n    if (oneTimeCount > 0) parts.push(`One-time (${oneTimeCount})`);\n\n    return parts.length > 0 ? parts.join(\", \") : null;\n  };\n\n  const reminderSummary = getReminderSummary();\n\n  return (\n    <>\n      <div\n        ref={cardRef}\n        className={`task-card ${theme === \"dark\" ? \"dark\" : \"\"} ${\n          isLoading ? \"loading\" : \"\"\n        } ${isNewTask ? \"new-task\" : \"\"} ${isChatPreview ? \"chat-preview\" : \"\"}`}\n        onClick={() => !isEditing && !isChatPreview && setIsEditing(true)}\n      >\n        <div\n          className=\"task-strip\"\n          style={{ backgroundColor: stripColor }}\n        ></div>\n\n        <div className=\"task-card-content\">\n          {!isEditing && (\n            <i\n              className={`bi ${\n                task.status === \"completed\"\n                  ? \"bi-check-circle\"\n                  : task.status === \"in-progress\"\n                  ? \"bi-hourglass\"\n                  : \"bi-ban\"\n              } status-icon`}\n              style={{ color: stripColor }}\n            />\n          )}\n\n          {isEditing ? (\n            <div className=\"task-form-grid\">\n              <div className=\"task-form-group full-width\">\n                <label className=\"form-label\">Title</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={tempTitle}\n                  onChange={(e) => setTempTitle(e.target.value)}\n                  placeholder=\"Enter task title...\"\n                />\n              </div>\n\n              <div className=\"task-form-group full-width\">\n                <label className=\"form-label\">Description</label>\n                <textarea\n                  className=\"form-control\"\n                  rows={3}\n                  value={tempDescription}\n                  onChange={(e) => setTempDescription(e.target.value)}\n                  placeholder=\"Enter task description...\"\n                />\n              </div>\n\n              <div className=\"task-form-group\">\n                <label className=\"form-label\">Status</label>\n                <select\n                  className=\"form-select\"\n                  value={tempStatus}\n                  onChange={(e) => setTempStatus(e.target.value)}\n                >\n                  <option value=\"not-started\">Not Started</option>\n                  <option value=\"in-progress\">In Progress</option>\n                  <option value=\"completed\">Completed</option>\n                </select>\n              </div>\n\n              <div className=\"task-form-group\">\n                <label className=\"form-label\">Deadline</label>\n                <input\n                  type=\"datetime-local\"\n                  className=\"form-control\"\n                  value={tempDeadline ? formatDateTimeLocal(tempDeadline) : \"\"}\n                  onChange={(e) => setTempDeadline(e.target.value)}\n                />\n              </div>\n\n              {isDeadlineInFuture && (\n                <div className=\"task-form-group full-width\">\n                  <TaskReminders\n                    tempDeadline={tempDeadline}\n                    tempReminders={tempReminders}\n                    setTempReminders={setTempReminders}\n                    theme={theme}\n                    ALL_INTERVALS={REMINDER_INTERVALS}\n                  />\n                </div>\n              )}\n            </div>\n          ) : (\n            <>\n              <h5 className=\"task-title\" style={{ color: stripColor }}>\n                {tempTitle}\n              </h5>\n              <p className=\"task-description\">{tempDescription}</p>\n            </>\n          )}\n\n          <div className=\"task-metadata\">\n            <div className=\"task-metadata-item\">\n              <strong>Created</strong>\n              <span>{formatRelativeTime(task.createdAt)}</span>\n            </div>\n            <div className=\"task-metadata-item\">\n              <strong>Deadline</strong>\n              <span>\n                {task.deadline\n                  ? formatRelativeTime(task.deadline)\n                  : \"No deadline set\"}\n              </span>\n            </div>\n          </div>\n\n          {isEditing && (\n            <div className=\"task-actions\">\n              {!isNewTask && (\n                <button\n                  className={`btn ${\n                    theme === \"dark\" ? \"btn-outline-danger\" : \"btn-secondary\"\n                  }`}\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleDelete();\n                  }}\n                  disabled={isLoading}\n                >\n                  {isLoading ? \"Deleting...\" : \"Delete\"}\n                </button>\n              )}\n              <button\n                className={`btn ${\n                  theme === \"dark\" ? \"btn-outline-light\" : \"btn-dark\"\n                }`}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleSave();\n                }}\n                disabled={\n                  !tempTitle.trim() || !tempDescription.trim() || isLoading\n                }\n              >\n                {isLoading ? \"Saving...\" : \"Save\"}\n              </button>\n            </div>\n          )}\n\n          {/*  Reminders now always show when available */}\n          {!isEditing && reminderSummary && (\n            <div\n              className=\"reminder-indicator\"\n              title={`Reminders: ${reminderSummary}`}\n            >\n              <i className=\"bi bi-clock\"></i>\n              <small>{reminderSummary}</small>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <ConfirmationModal\n        theme={theme}\n        show={showDeleteModal}\n        title=\"Delete Task\"\n        message=\"Are you sure you want to delete this task? This action cannot be undone.\"\n        onConfirm={confirmDelete}\n        onCancel={() => setShowDeleteModal(false)}\n      />\n    </>\n  );\n};\n\nexport default TaskItem;","import { useState, useRef, useEffect } from \"react\";\nimport { normalizeRemindersBeforeSave } from \"../../../utils/reminderUtils\";\n\nimport {\n  sendAIChatMessage,\n  generateAITask,\n  updateTask,\n  deleteTask,\n  createTask,\n} from \"../../../services/api\";\nimport ChatMessage from \"./ChatMessage\";\nimport TaskItem from \"../taskItem/TaskItem\";\nimport { useAuth } from \"../../../context/AuthContext\";\nimport { STORAGE_KEYS } from \"../../../constants/appConstants\";\nimport \"./Styles/ChatPreview.css\";\n\nconst CHAT_HISTORY_KEY = STORAGE_KEYS.AI_CHAT_HISTORY;\n\n// Compact Task Preview Badge Component\nconst TaskPreviewBadge = ({ task, theme }) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const getStatusText = () => {\n    if (task.confirmed) {\n      if (task.action === \"delete\") return \"Deleted\";\n      if (task.action === \"create\") return \"Created\";\n      return \"Updated\";\n    }\n    if (task.cancelled) return \"Cancelled\";\n    if (task.action === \"delete\") return \"Delete Request\";\n    if (task.action === \"create\") return \"New Task\";\n    return \"Update Request\";\n  };\n\n  return (\n    <div \n      className=\"task-preview-badge\"\n      onMouseEnter={() => setIsExpanded(true)}\n      onMouseLeave={() => setIsExpanded(false)}\n    >\n      <div className=\"badge-compact\">\n        <div className=\"badge-info\">\n          <div className=\"badge-status\">{getStatusText()}</div>\n          <div className=\"badge-title\">{task.title}</div>\n        </div>\n        <div className=\"badge-expand-hint\">\n          <i className={`bi bi-chevron-${isExpanded ? 'down' : 'right'}`}></i>\n        </div>\n      </div>\n\n      {isExpanded && (\n        <div className=\"badge-expanded-content\">\n          <TaskItem\n            theme={theme}\n            task={{\n              ...task,\n              title: task.title || \"\",\n              description: task.description || \"\",\n              reminders: Array.isArray(task.reminders) ? task.reminders : [],\n            }}\n            isNewTask={false}\n            isChatPreview={true}\n            isHistoryPreview={true}\n            onSave={() => {}}\n            onCancel={() => {}}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Delete Action Badge\nconst DeleteActionBadge = ({ task, theme }) => {\n  const getStatusText = () => {\n    if (task.confirmed) return \"Deleted\";\n    if (task.cancelled) return \"Delete Cancelled\";\n    return \"Delete Request\";\n  };\n\n  return (\n    <div className=\"delete-action-badge\">\n      <div className=\"delete-info\">\n        <div className=\"delete-status\">{getStatusText()}</div>\n        <div className=\"delete-title\">{task.title}</div>\n      </div>\n    </div>\n  );\n};\n\nconst ChatMode = ({ setError, theme, refreshTasks }) => {\n  const { user } = useAuth();\n\n  const [chatMessages, setChatMessages] = useState(() => {\n    try {\n      const saved = localStorage.getItem(CHAT_HISTORY_KEY);\n      return saved ? JSON.parse(saved) : [];\n    } catch (error) {\n      console.error(\"Error loading chat history:\", error);\n      return [];\n    }\n  });\n\n  const [chatInput, setChatInput] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [previewTask, setPreviewTask] = useState(null);\n  const chatEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    if (inputRef.current) inputRef.current.focus();\n  }, []);\n\n  useEffect(() => {\n    if (chatEndRef.current) {\n      chatEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }, [chatMessages, previewTask]);\n\n  useEffect(() => {\n    try {\n      localStorage.setItem(CHAT_HISTORY_KEY, JSON.stringify(chatMessages));\n    } catch (error) {\n      console.error(\"Error saving chat history:\", error);\n    }\n  }, [chatMessages]);\n\n  const handleChatSend = async () => {\n    if (!chatInput.trim()) return;\n\n    const userMessage = {\n      role: \"user\",\n      content: chatInput.trim(),\n      timestamp: new Date().toISOString(),\n    };\n\n    if (previewTask) {\n      setChatMessages((prev) => [\n        ...prev,\n        {\n          role: \"assistant\",\n          content: \"\",\n          timestamp: new Date().toISOString(),\n          preview: previewTask,\n        },\n      ]);\n      setPreviewTask(null);\n    }\n\n    setChatMessages((prev) => [...prev, userMessage]);\n    setChatInput(\"\");\n    setIsLoading(true);\n    setError(null);\n\n    setTimeout(() => {\n      if (inputRef.current) {\n        inputRef.current.focus();\n      }\n    }, 100);\n\n    const conversationHistory = chatMessages\n      .filter((msg) => msg.content)\n      .map((msg) => ({\n        role: msg.role,\n        content: msg.content,\n      }));\n\n    const result = await sendAIChatMessage(\n      userMessage.content,\n      conversationHistory\n    );\n\n    setIsLoading(false);\n    if (!result.success) {\n      setError(result.error);\n      return;\n    }\n\n    const { reply, previewUpdate } = result.data;\n\n    if (previewUpdate && previewUpdate.reminders) {\n      previewUpdate.reminders = normalizeRemindersBeforeSave(\n        previewUpdate.reminders,\n        previewUpdate.deadline\n      );\n    }\n\n    setChatMessages((prev) => [\n      ...prev,\n      {\n        role: \"assistant\",\n        content: reply,\n        timestamp: new Date().toISOString(),\n      },\n    ]);\n\n    if (previewUpdate) {\n      setPreviewTask({\n        ...previewUpdate,\n        _aiSuggested: true,\n        isUpdate:\n          previewUpdate.action === \"update\" ||\n          previewUpdate.action === \"delete\",\n        isNewTask: previewUpdate.action === \"create\" || previewUpdate.isNewTask,\n        createdAt: previewUpdate.createdAt || new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n      });\n    }\n  };\n\n  const handleGenerateFromChat = async () => {\n    if (chatMessages.filter((msg) => msg.content).length === 0) {\n      setError(\"No conversation found to generate task from\");\n      return;\n    }\n\n    setIsLoading(true);\n    setError(null);\n\n    if (previewTask) {\n      setChatMessages((prev) => [\n        ...prev,\n        {\n          role: \"assistant\",\n          content: \"\",\n          timestamp: new Date().toISOString(),\n          preview: previewTask,\n        },\n      ]);\n      setPreviewTask(null);\n    }\n\n    const conversationSummary = chatMessages\n      .filter((msg) => msg.content)\n      .map(\n        (msg) => `${msg.role === \"user\" ? \"User\" : \"Assistant\"}: ${msg.content}`\n      )\n      .join(\"\\n\");\n\n    const contextualPrompt = `Based on this conversation, create a task:\\n\\n${conversationSummary}\\n\\nCreate a detailed task with appropriate deadline and reminders.`;\n\n    const result = await generateAITask(contextualPrompt);\n    setIsLoading(false);\n\n    if (!result.success) {\n      setError(result.error);\n      return;\n    }\n\n    const aiTask = result.data;\n    setPreviewTask({\n      ...aiTask,\n      id: `temp-${Date.now()}`,\n      status: aiTask.status || \"not-started\",\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n      priority: 1,\n      _aiSuggested: true,\n      isNewTask: true,\n      action: \"create\",\n    });\n  };\n\n  const handleConfirmUpdate = async (task) => {\n    try {\n      if (!task) return;\n      setIsLoading(true);\n      setError(null);\n\n      const normalizedReminders = normalizeRemindersBeforeSave(\n        task.reminders || [],\n        task.deadline\n      );\n\n      let resultMessage = \"\";\n\n      if (task.action === \"delete\") {\n        await deleteTask(task.id);\n        resultMessage = `Successfully deleted \"${task.title}\"`;\n      } else if (task.action === \"create\") {\n        await createTask({\n          title: task.title,\n          description: task.description,\n          status: task.status,\n          deadline: task.deadline,\n          reminders: normalizedReminders,\n        });\n        resultMessage = `Successfully created \"${task.title}\"`;\n      } else {\n        await updateTask(task.id, {\n          title: task.title,\n          description: task.description,\n          status: task.status,\n          deadline: task.deadline,\n          reminders: normalizedReminders,\n        });\n        resultMessage = `Successfully updated \"${task.title}\"`;\n      }\n\n      await refreshTasks();\n\n      setChatMessages((prev) => [\n        ...prev,\n        {\n          role: \"assistant\",\n          content: \"\",\n          timestamp: new Date().toISOString(),\n          preview: { ...task, confirmed: true },\n        },\n        {\n          role: \"assistant\",\n          content: resultMessage,\n          timestamp: new Date().toISOString(),\n        },\n      ]);\n\n      setPreviewTask(null);\n    } catch (error) {\n      console.error(\"Error applying AI update:\", error);\n      setError(\"Failed to apply update.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleCancelPreview = () => {\n    if (previewTask) {\n      setChatMessages((prev) => [\n        ...prev,\n        {\n          role: \"assistant\",\n          content: \"\",\n          timestamp: new Date().toISOString(),\n          preview: { ...previewTask, cancelled: true },\n        },\n      ]);\n      setPreviewTask(null);\n    }\n  };\n\n  const resetChat = () => {\n    setChatMessages([]);\n    setError(null);\n    setPreviewTask(null);\n    try {\n      localStorage.removeItem(CHAT_HISTORY_KEY);\n    } catch (error) {\n      console.error(\"Error clearing chat history:\", error);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleChatSend();\n    }\n  };\n\n  return (\n    <div className=\"chat-mode\">\n      <div className=\"chat-messages\">\n        {chatMessages.length === 0 && !previewTask ? (\n          <div className=\"chat-empty-state\">\n            <i className=\"bi bi-chat-heart\"></i>\n            <p>Start a conversation with AI</p>\n            <small>Ask questions or describe your task step by step</small>\n          </div>\n        ) : (\n          <>\n            {chatMessages.map((msg, index) => {\n              // If message has preview, render it as badge\n              if (msg.preview) {\n                const task = msg.preview;\n                return (\n                  <div key={index} className=\"chat-message assistant\">\n                    <div className=\"message-avatar\">\n                      <i className=\"bi bi-robot\"></i>\n                    </div>\n                    <div className=\"message-content\">\n                      {task.action === \"delete\" ? (\n                        <DeleteActionBadge task={task} theme={theme} />\n                      ) : (\n                        <TaskPreviewBadge task={task} theme={theme} />\n                      )}\n                    </div>\n                  </div>\n                );\n              }\n\n              // Regular text message\n              if (msg.content) {\n                return (\n                  <ChatMessage\n                    key={index}\n                    msg={msg}\n                    user={user}\n                    theme={theme}\n                  />\n                );\n              }\n\n              return null;\n            })}\n\n            {/* Active preview task (with action buttons) */}\n            {previewTask && (\n              <div className=\"chat-message assistant\">\n                <div className=\"message-avatar\">\n                  <i className=\"bi bi-robot\"></i>\n                </div>\n                <div className=\"message-content w-100\">\n                  {previewTask.action === \"delete\" ? (\n                    <div className=\"active-delete-preview\">\n                      <div className=\"delete-preview-header\">\n                        <span className=\"delete-text\">\n                          Confirm deletion of{\" \"}\n                          <strong>\"{previewTask.title}\"</strong>?\n                        </span>\n                      </div>\n                      <div className=\"delete-preview-actions\">\n                        <button\n                          className=\"btn btn-danger btn-sm\"\n                          onClick={() => handleConfirmUpdate(previewTask)}\n                          disabled={isLoading}\n                          aria-label=\"Confirm delete task\"\n                        >\n                          {isLoading ? (\n                            <>\n                              <span className=\"spinner-border spinner-border-sm me-1\"></span>\n                              Deleting...\n                            </>\n                          ) : (\n                            <>\n                              <i className=\"bi bi-trash me-1\"></i>\n                              Delete\n                            </>\n                          )}\n                        </button>\n                        <button\n                          className=\"btn btn-secondary btn-sm\"\n                          onClick={handleCancelPreview}\n                          disabled={isLoading}\n                          aria-label=\"Cancel delete\"\n                        >\n                          <i className=\"bi bi-x-lg me-1\"></i>\n                          Cancel\n                        </button>\n                      </div>\n                    </div>\n                  ) : (\n                    <TaskItem\n                      theme={theme}\n                      task={{\n                        ...previewTask,\n                        title: previewTask.title || \"\",\n                        description: previewTask.description || \"\",\n                        reminders: Array.isArray(previewTask.reminders)\n                          ? previewTask.reminders\n                          : [],\n                      }}\n                      isNewTask={true}\n                      isChatPreview={true}\n                      onSave={handleConfirmUpdate}\n                      onCancel={handleCancelPreview}\n                    />\n                  )}\n                </div>\n              </div>\n            )}\n          </>\n        )}\n\n        {isLoading && (\n          <div className=\"chat-message assistant\">\n            <div className=\"message-avatar\">\n              <i className=\"bi bi-robot\"></i>\n            </div>\n            <div className=\"message-content\">\n              <div className=\"typing-indicator\">\n                <span></span>\n                <span></span>\n                <span></span>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div ref={chatEndRef} />\n      </div>\n\n      <div className=\"chat-input-container\">\n        <input\n          ref={inputRef}\n          type=\"text\"\n          className=\"form-control\"\n          value={chatInput}\n          onChange={(e) => setChatInput(e.target.value)}\n          onKeyDown={handleKeyPress}\n          placeholder=\"Type your message...\"\n          disabled={isLoading}\n          aria-label=\"Type your message to AI assistant\"\n        />\n        <button\n          className=\"send-button\"\n          onClick={handleChatSend}\n          disabled={!chatInput.trim() || isLoading}\n          aria-label=\"Send message\"\n        >\n          <i className=\"bi bi-send-fill\"></i>\n        </button>\n      </div>\n\n      <div className=\"chat-actions\">\n        <button\n          className=\"btn btn-sm btn-outline-secondary\"\n          onClick={resetChat}\n          disabled={isLoading || chatMessages.length === 0}\n          aria-label=\"Clear chat history\"\n        >\n          <i className=\"bi bi-arrow-clockwise me-1\"></i> Clear Chat\n        </button>\n        <button\n          className=\"btn btn-sm btn-primary\"\n          onClick={handleGenerateFromChat}\n          disabled={\n            isLoading || chatMessages.filter((msg) => msg.content).length === 0\n          }\n          aria-label=\"Generate task from conversation\"\n        >\n          <i className=\"bi bi-magic me-1\"></i> Generate Task\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatMode;","import TaskItem from \"../taskItem/TaskItem\";\n\nconst TaskPreviewModal = ({ theme, task, onClose, onSave }) => (\n  <div className=\"ai-preview-overlay\" onClick={onClose}>\n    <div className=\"ai-preview-modal\" onClick={(e) => e.stopPropagation()}>\n      <h5 className=\"mb-3\">\n        <i className=\"bi bi-eye\"></i> Task Preview\n      </h5>\n\n      <TaskItem\n        theme={theme}\n        task={task}\n        isNewTask={true}\n        onSave={onSave}\n        onCancel={onClose}\n      />\n\n      <div className=\"text-end mt-2\">\n        <button className=\"btn btn-secondary\" onClick={onClose}>\n          Cancel\n        </button>\n      </div>\n    </div>\n  </div>\n);\n\nexport default TaskPreviewModal;\n","import { useState, useEffect, useCallback, useRef } from \"react\";\nimport QuickMode from \"./QuickMode\";\nimport ChatMode from \"./ChatMode\";\nimport TaskPreviewModal from \"./TaskPreviewModal\";\nimport \"./Styles/AIChatModal.css\";\n\nconst AIChatModal = ({\n  show,\n  onClose,\n  onTaskGenerated,\n  theme,\n  refreshTasks,\n  isWidget = false,\n  showOptions = false,\n  setShowOptions = null,\n  chatMode = null,\n  onModeChange = null,\n  widgetSize = \"medium\",\n  onSizeChange = null,\n  optionsRef = null,\n}) => {\n  const [mode, setMode] = useState(\"quick\");\n  const [previewTask, setPreviewTask] = useState(null);\n  //  FIXED: Removed unused previewHistory state\n  const [error, setError] = useState(null);\n  const [isClosing, setIsClosing] = useState(false);\n  const scrollPositionRef = useRef(0);\n\n  useEffect(() => {\n    try {\n      const savedMode = localStorage.getItem(\"ai_chat_mode\");\n      if (savedMode && (savedMode === \"quick\" || savedMode === \"chat\")) {\n        setMode(savedMode);\n      }\n    } catch (error) {\n      console.error(\"Error loading chat mode:\", error);\n    }\n  }, []);\n\n  useEffect(() => {\n    try {\n      localStorage.setItem(\"ai_chat_mode\", mode);\n    } catch (error) {\n      console.error(\"Error saving chat mode:\", error);\n    }\n  }, [mode]);\n\n  const handleClose = useCallback(() => {\n    setIsClosing(true);\n    setTimeout(() => {\n      setIsClosing(false);\n      setError(null);\n      setPreviewTask(null);\n      onClose();\n    }, 250);\n  }, [onClose]);\n\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === \"Escape\" && show && !previewTask && !isWidget) {\n        handleClose();\n      }\n    };\n\n    if (show && !isWidget) {\n      scrollPositionRef.current = window.pageYOffset;\n      document.addEventListener(\"keydown\", handleEscape);\n      document.body.style.overflow = \"hidden\";\n      document.body.style.touchAction = \"none\";\n      document.body.style.position = \"fixed\";\n      document.body.style.width = \"100%\";\n      document.body.style.top = `-${scrollPositionRef.current}px`;\n    }\n\n    return () => {\n      if (!isWidget) {\n        document.removeEventListener(\"keydown\", handleEscape);\n        document.body.style.overflow = \"\";\n        document.body.style.touchAction = \"\";\n        document.body.style.position = \"\";\n        document.body.style.width = \"\";\n        document.body.style.top = \"\";\n        window.scrollTo(0, scrollPositionRef.current);\n      }\n    };\n  }, [show, previewTask, handleClose, isWidget]);\n\n  const handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget && !previewTask && !isWidget) {\n      handleClose();\n    }\n  };\n\n  if (!show && !isClosing) return null;\n\n  if (isWidget) {\n    return (\n      <>\n        <div className=\"ai-mode-selector\">\n          <button\n            className={`mode-button ${mode === \"quick\" ? \"active\" : \"\"}`}\n            onClick={() => setMode(\"quick\")}\n            aria-pressed={mode === \"quick\"}\n            aria-label=\"Switch to Quick Mode - Generate tasks quickly with a simple prompt\"\n          >\n            <i className=\"bi bi-lightning-charge\" aria-hidden=\"true\"></i> Quick\n          </button>\n\n          <button\n            className={`mode-button ${mode === \"chat\" ? \"active\" : \"\"}`}\n            onClick={() => setMode(\"chat\")}\n            aria-pressed={mode === \"chat\"}\n            aria-label=\"Switch to Chat Mode - Have a conversation to refine your task\"\n          >\n            <i className=\"bi bi-chat-dots\" aria-hidden=\"true\"></i> Chat\n          </button>\n        </div>\n\n        {error && (\n          <div className=\"error-banner\">\n            <i className=\"bi bi-exclamation-triangle\"></i> {error}\n            <button\n              onClick={() => setError(null)}\n              style={{\n                marginLeft: \"auto\",\n                background: \"none\",\n                border: \"none\",\n                color: \"inherit\",\n                cursor: \"pointer\",\n                padding: \"0 4px\",\n              }}\n              aria-label=\"Dismiss error\"\n            >\n              <i className=\"bi bi-x-lg\"></i>\n            </button>\n          </div>\n        )}\n\n        {mode === \"quick\" ? (\n          <QuickMode\n            setError={setError}\n            setPreviewTask={setPreviewTask}\n            onTaskGenerated={onTaskGenerated}\n            onClose={handleClose}\n            theme={theme}\n          />\n        ) : (\n          <ChatMode\n            setError={setError}\n            theme={theme}\n            refreshTasks={refreshTasks}\n            onClose={handleClose}\n            key={mode}\n          />\n        )}\n\n        {previewTask && (\n          <TaskPreviewModal\n            theme={theme}\n            task={previewTask}\n            onClose={() => setPreviewTask(null)}\n            onSave={(task) => {\n              onTaskGenerated(task);\n              setPreviewTask(null);\n              handleClose();\n            }}\n          />\n        )}\n      </>\n    );\n  }\n\n  return (\n    <div\n      className={`ai-modal-overlay ${isClosing ? \"closing\" : \"\"}`}\n      onClick={handleOverlayClick}\n    >\n      <div\n        className={`ai-modal-content ${theme === \"dark\" ? \"dark-mode\" : \"\"} ${\n          isClosing ? \"closing\" : \"\"\n        }`}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"ai-modal-header\">\n          <h3>\n            <i className=\"bi bi-robot\"></i> AI Task Assistant\n          </h3>\n          <div className=\"header-options-wrapper\">\n            {setShowOptions && (\n              <div className=\"floating-options\" ref={optionsRef}>\n                <button\n                  className=\"close-button\"\n                  onClick={() => setShowOptions(!showOptions)}\n                  aria-label=\"Options\"\n                  style={{ marginRight: \"8px\" }}\n                >\n                  <i className=\"bi bi-three-dots-vertical\"></i>\n                </button>\n\n                {showOptions && (\n                  <div\n                    className={`options-dropdown ${\n                      theme === \"dark\" ? \"dark\" : \"\"\n                    }`}\n                  >\n                    <div className=\"options-header\">Chat Mode</div>\n                    <button\n                      className={`option-item ${\n                        chatMode === \"widget\" ? \"active\" : \"\"\n                      }`}\n                      onClick={() => onModeChange(\"widget\")}\n                    >\n                      <i className=\"bi bi-window\"></i>\n                      <span>Floating Widget</span>\n                      {chatMode === \"widget\" && (\n                        <i className=\"bi bi-check2\"></i>\n                      )}\n                    </button>\n                    <button\n                      className={`option-item ${\n                        chatMode === \"drawer\" ? \"active\" : \"\"\n                      }`}\n                      onClick={() => onModeChange(\"drawer\")}\n                    >\n                      <i className=\"bi bi-layout-sidebar\"></i>\n                      <span>Sidebar Drawer</span>\n                      {chatMode === \"drawer\" && (\n                        <i className=\"bi bi-check2\"></i>\n                      )}\n                    </button>\n\n                    {onSizeChange && window.innerWidth > 768 && (\n                      <>\n                        <div className=\"options-divider\"></div>\n                        <div className=\"options-header\">Window Size</div>\n                        <button\n                          className={`option-item ${\n                            widgetSize === \"small\" ? \"active\" : \"\"\n                          }`}\n                          onClick={() => onSizeChange(\"small\")}\n                        >\n                          <i className=\"bi bi-phone\"></i>\n                          <span>Small</span>\n                          {widgetSize === \"small\" && (\n                            <i className=\"bi bi-check2\"></i>\n                          )}\n                        </button>\n                        <button\n                          className={`option-item ${\n                            widgetSize === \"medium\" ? \"active\" : \"\"\n                          }`}\n                          onClick={() => onSizeChange(\"medium\")}\n                        >\n                          <i className=\"bi bi-tablet\"></i>\n                          <span>Medium</span>\n                          {widgetSize === \"medium\" && (\n                            <i className=\"bi bi-check2\"></i>\n                          )}\n                        </button>\n                        <button\n                          className={`option-item ${\n                            widgetSize === \"large\" ? \"active\" : \"\"\n                          }`}\n                          onClick={() => onSizeChange(\"large\")}\n                        >\n                          <i className=\"bi bi-laptop\"></i>\n                          <span>Large</span>\n                          {widgetSize === \"large\" && (\n                            <i className=\"bi bi-check2\"></i>\n                          )}\n                        </button>\n                        <button\n                          className={`option-item ${\n                            widgetSize === \"fullscreen\" ? \"active\" : \"\"\n                          }`}\n                          onClick={() => onSizeChange(\"fullscreen\")}\n                        >\n                          <i className=\"bi bi-arrows-fullscreen\"></i>\n                          <span>Fullscreen</span>\n                          {widgetSize === \"fullscreen\" && (\n                            <i className=\"bi bi-check2\"></i>\n                          )}\n                        </button>\n                      </>\n                    )}\n                  </div>\n                )}\n              </div>\n            )}\n            <button\n              className=\"close-button\"\n              onClick={handleClose}\n              aria-label=\"Close AI Assistant\"\n            >\n              <i className=\"bi bi-x-lg\"></i>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"ai-mode-selector\">\n          <button\n            className={`mode-button ${mode === \"quick\" ? \"active\" : \"\"}`}\n            onClick={() => setMode(\"quick\")}\n            aria-pressed={mode === \"quick\"}\n          >\n            <i className=\"bi bi-lightning-charge\"></i> Quick\n          </button>\n          <button\n            className={`mode-button ${mode === \"chat\" ? \"active\" : \"\"}`}\n            onClick={() => setMode(\"chat\")}\n            aria-pressed={mode === \"chat\"}\n          >\n            <i className=\"bi bi-chat-dots\"></i> Chat\n          </button>\n        </div>\n\n        {error && (\n          <div className=\"error-banner\">\n            <i className=\"bi bi-exclamation-triangle\"></i> {error}\n            <button\n              onClick={() => setError(null)}\n              style={{\n                marginLeft: \"auto\",\n                background: \"none\",\n                border: \"none\",\n                color: \"inherit\",\n                cursor: \"pointer\",\n                padding: \"0 4px\",\n              }}\n              aria-label=\"Dismiss error\"\n            >\n              <i className=\"bi bi-x-lg\"></i>\n            </button>\n          </div>\n        )}\n\n        {mode === \"quick\" ? (\n          <QuickMode\n            setError={setError}\n            setPreviewTask={setPreviewTask}\n            onTaskGenerated={onTaskGenerated}\n            onClose={handleClose}\n            theme={theme}\n          />\n        ) : (\n          <ChatMode\n            setError={setError}\n            theme={theme}\n            refreshTasks={refreshTasks}\n            onClose={handleClose}\n            key={mode}\n          />\n        )}\n      </div>\n\n      {previewTask && (\n        <TaskPreviewModal\n          theme={theme}\n          task={previewTask}\n          onClose={() => setPreviewTask(null)}\n          onSave={(task) => {\n            onTaskGenerated(task);\n            setPreviewTask(null);\n            handleClose();\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default AIChatModal;\n","import { useState, useEffect, useRef, useCallback } from \"react\";\nimport AIChatModal from \"./AIChatModal\";\nimport \"./Styles/FloatingChatWidget.css\";\n\nconst FloatingChatWidget = ({ theme, onTaskGenerated, refreshTasks }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [showOptions, setShowOptions] = useState(false);\n  const [chatMode, setChatMode] = useState(() => {\n    const saved = localStorage.getItem(\"ai_chat_ui_mode\");\n    return saved || \"widget\";\n  });\n  const [widgetSize, setWidgetSize] = useState(() => {\n    const saved = localStorage.getItem(\"chat_widget_size\");\n    return saved || \"medium\";\n  });\n  const [buttonPosition, setButtonPosition] = useState(() => {\n    const saved = localStorage.getItem(\"chat_button_position\");\n    return saved\n      ? JSON.parse(saved)\n      : { x: window.innerWidth - 90, y: window.innerHeight - 90 };\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const [hasMoved, setHasMoved] = useState(false);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  const buttonRef = useRef(null);\n  const optionsRef = useRef(null);\n\n  // Helper function to get responsive button size and margin\n  const getButtonMetrics = useCallback(() => {\n    const width = window.innerWidth;\n    if (width <= 480) {\n      return { buttonSize: 52, margin: 20 };\n    } else if (width <= 768) {\n      return { buttonSize: 56, margin: 20 };\n    }\n    return { buttonSize: 60, margin: 24 };\n  }, []);\n\n  // Save button position\n  useEffect(() => {\n    localStorage.setItem(\n      \"chat_button_position\",\n      JSON.stringify(buttonPosition)\n    );\n  }, [buttonPosition]);\n\n  // Save widget size\n  useEffect(() => {\n    localStorage.setItem(\"chat_widget_size\", widgetSize);\n  }, [widgetSize]);\n\n  // Handle responsive repositioning on window resize\n  useEffect(() => {\n    let resizeTimeout;\n    const handleResize = () => {\n      clearTimeout(resizeTimeout);\n      resizeTimeout = setTimeout(() => {\n        setButtonPosition((prev) => {\n          const { buttonSize, margin } = getButtonMetrics();\n          const maxX = window.innerWidth - buttonSize - margin;\n          const maxY = window.innerHeight - buttonSize - margin;\n\n          // Clamp position to valid bounds\n          const x = Math.max(margin, Math.min(prev.x, maxX));\n          const y = Math.max(margin, Math.min(prev.y, maxY));\n\n          return { x, y };\n        });\n      }, 150); // Debounce to avoid excessive updates\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      clearTimeout(resizeTimeout);\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [getButtonMetrics]);\n\n  // Close options when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (optionsRef.current && !optionsRef.current.contains(e.target)) {\n        setShowOptions(false);\n      }\n    };\n\n    if (showOptions) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () =>\n        document.removeEventListener(\"mousedown\", handleClickOutside);\n    }\n  }, [showOptions]);\n\n  const snapToCorner = useCallback((x, y) => {\n    const windowWidth = window.innerWidth;\n    const windowHeight = window.innerHeight;\n    const { buttonSize, margin } = getButtonMetrics();\n\n    const corners = [\n      { x: margin, y: margin },\n      { x: windowWidth - buttonSize - margin, y: margin },\n      { x: margin, y: windowHeight - buttonSize - margin },\n      {\n        x: windowWidth - buttonSize - margin,\n        y: windowHeight - buttonSize - margin,\n      },\n    ];\n\n    let nearest = corners[0];\n    let minDistance = Math.hypot(x - corners[0].x, y - corners[0].y);\n\n    corners.forEach((corner) => {\n      const distance = Math.hypot(x - corner.x, y - corner.y);\n      if (distance < minDistance) {\n        minDistance = distance;\n        nearest = corner;\n      }\n    });\n\n    return { x: nearest.x, y: nearest.y };\n  }, [getButtonMetrics]);\n\n  const handleMouseDown = (e) => {\n    e.preventDefault();\n    setIsDragging(true);\n    setHasMoved(false);\n    const rect = buttonRef.current.getBoundingClientRect();\n    setDragOffset({\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top,\n    });\n  };\n\n  //  FIXED: Wrapped in useCallback to prevent unnecessary re-renders\n  const handleMouseMove = useCallback(\n    (e) => {\n      if (!isDragging) return;\n      const moveThreshold = 5;\n      const deltaX = Math.abs(e.clientX - dragOffset.x - buttonPosition.x);\n      const deltaY = Math.abs(e.clientY - dragOffset.y - buttonPosition.y);\n\n      if (deltaX > moveThreshold || deltaY > moveThreshold) {\n        setHasMoved(true);\n      }\n\n      const newX = e.clientX - dragOffset.x;\n      const newY = e.clientY - dragOffset.y;\n      setButtonPosition({ x: newX, y: newY });\n    },\n    [isDragging, dragOffset, buttonPosition]\n  );\n\n  //  FIXED: Wrapped in useCallback\n  const handleMouseUp = useCallback(\n    (e) => {\n      if (isDragging) {\n        if (hasMoved) {\n          const snapped = snapToCorner(buttonPosition.x, buttonPosition.y);\n          setButtonPosition(snapped);\n        }\n        setIsDragging(false);\n\n        // If didn't move significantly, open modal\n        if (!hasMoved) {\n          e.stopPropagation();\n          setIsOpen(true);\n        }\n\n        setTimeout(() => setHasMoved(false), 100);\n      }\n    },\n    [isDragging, hasMoved, buttonPosition, snapToCorner]\n  );\n\n  //  FIXED: Added proper dependencies\n  useEffect(() => {\n    if (isDragging) {\n      document.addEventListener(\"mousemove\", handleMouseMove);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n      return () => {\n        document.removeEventListener(\"mousemove\", handleMouseMove);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n      };\n    }\n  }, [isDragging, handleMouseMove, handleMouseUp]);\n\n  const handleTouchStart = (e) => {\n    const touch = e.touches[0];\n    setIsDragging(true);\n    setHasMoved(false);\n    const rect = buttonRef.current.getBoundingClientRect();\n    setDragOffset({\n      x: touch.clientX - rect.left,\n      y: touch.clientY - rect.top,\n    });\n  };\n\n  //  FIXED: Wrapped in useCallback\n  const handleTouchMove = useCallback(\n    (e) => {\n      if (!isDragging) return;\n      e.preventDefault();\n      const touch = e.touches[0];\n      const moveThreshold = 5;\n      const deltaX = Math.abs(touch.clientX - dragOffset.x - buttonPosition.x);\n      const deltaY = Math.abs(touch.clientY - dragOffset.y - buttonPosition.y);\n\n      if (deltaX > moveThreshold || deltaY > moveThreshold) {\n        setHasMoved(true);\n      }\n\n      const newX = touch.clientX - dragOffset.x;\n      const newY = touch.clientY - dragOffset.y;\n      setButtonPosition({ x: newX, y: newY });\n    },\n    [isDragging, dragOffset, buttonPosition]\n  );\n\n  //  FIXED: Wrapped in useCallback\n  const handleTouchEnd = useCallback(\n    (e) => {\n      if (isDragging) {\n        if (hasMoved) {\n          const snapped = snapToCorner(buttonPosition.x, buttonPosition.y);\n          setButtonPosition(snapped);\n        }\n        setIsDragging(false);\n\n        // If didn't move significantly, open modal\n        if (!hasMoved) {\n          e.preventDefault();\n          setIsOpen(true);\n        }\n\n        setTimeout(() => setHasMoved(false), 100);\n      }\n    },\n    [isDragging, hasMoved, buttonPosition, snapToCorner]\n  );\n\n  //  FIXED: Added proper dependencies\n  useEffect(() => {\n    if (isDragging) {\n      document.addEventListener(\"touchmove\", handleTouchMove, {\n        passive: false,\n      });\n      document.addEventListener(\"touchend\", handleTouchEnd);\n      return () => {\n        document.removeEventListener(\"touchmove\", handleTouchMove);\n        document.removeEventListener(\"touchend\", handleTouchEnd);\n      };\n    }\n  }, [isDragging, handleTouchMove, handleTouchEnd]);\n\n  const handleButtonClick = (e) => {\n    // This will only fire if mouse handlers don't prevent it\n    if (!isDragging && !hasMoved) {\n      setIsOpen(true);\n    }\n  };\n\n  const handleClose = () => {\n    setIsOpen(false);\n    setShowOptions(false);\n  };\n\n  const toggleChatMode = (mode) => {\n    setChatMode(mode);\n    localStorage.setItem(\"ai_chat_ui_mode\", mode);\n    setShowOptions(false);\n  };\n\n  const handleSizeChange = (size) => {\n    setWidgetSize(size);\n    setShowOptions(false);\n  };\n\n  const getWidgetStyles = () => {\n    const sizes = {\n      small: { width: \"320px\", height: \"450px\" },\n      medium: { width: \"400px\", height: \"600px\" },\n      large: { width: \"500px\", height: \"700px\" },\n      fullscreen: {\n        width: \"calc(100vw - 48px)\",\n        height: \"calc(100vh - 48px)\",\n        maxWidth: \"1200px\",\n        maxHeight: \"900px\",\n      },\n    };\n    return sizes[widgetSize] || sizes.medium;\n  };\n\n  return (\n    <>\n      {/* Floating Button - Only visible when chat is closed */}\n      {!isOpen && (\n        <button\n          ref={buttonRef}\n          className={`floating-chat-button ${theme === \"dark\" ? \"dark\" : \"\"} ${\n            isDragging ? \"dragging\" : \"\"\n          }`}\n          style={{\n            left: `${buttonPosition.x}px`,\n            top: `${buttonPosition.y}px`,\n          }}\n          onClick={handleButtonClick}\n          onMouseDown={handleMouseDown}\n          onTouchStart={handleTouchStart}\n          aria-label=\"Open AI Assistant chat - Drag to reposition\"\n        >\n          <i className=\"bi bi-cloud-fill\" aria-hidden=\"true\"></i>\n        </button>\n      )}\n\n      {/* Drawer Mode */}\n      {isOpen && chatMode === \"drawer\" && (\n        <AIChatModal\n          show={true}\n          onClose={handleClose}\n          onTaskGenerated={onTaskGenerated}\n          theme={theme}\n          refreshTasks={refreshTasks}\n          isWidget={false}\n          showOptions={showOptions}\n          setShowOptions={setShowOptions}\n          chatMode={chatMode}\n          onModeChange={toggleChatMode}\n          widgetSize={widgetSize}\n          onSizeChange={handleSizeChange}\n          optionsRef={optionsRef}\n        />\n      )}\n\n      {/* Widget Mode */}\n      {isOpen && chatMode === \"widget\" && (\n        <div\n          className={`floating-chat-modal ${theme === \"dark\" ? \"dark\" : \"\"} ${\n            widgetSize === \"fullscreen\" ? \"fullscreen\" : \"\"\n          }`}\n          style={getWidgetStyles()}\n        >\n          <div className=\"floating-modal-header\">\n            <div className=\"modal-header-title\">\n              <i className=\"bi bi-robot\"></i>\n              <span>AI Assistant</span>\n            </div>\n            <div className=\"modal-header-actions\">\n              <div className=\"floating-options\" ref={optionsRef}>\n                <button\n                  className=\"header-icon-button\"\n                  onClick={() => setShowOptions(!showOptions)}\n                  aria-label=\"Options\"\n                >\n                  <i className=\"bi bi-three-dots-vertical\"></i>\n                </button>\n\n                {showOptions && (\n                  <div\n                    className={`options-dropdown ${\n                      theme === \"dark\" ? \"dark\" : \"\"\n                    }`}\n                  >\n                    <div className=\"options-header\">Chat Mode</div>\n                    <button\n                      className={`option-item ${\n                        chatMode === \"widget\" ? \"active\" : \"\"\n                      }`}\n                      onClick={() => toggleChatMode(\"widget\")}\n                    >\n                      <i className=\"bi bi-window\"></i>\n                      <span>Floating Widget</span>\n                      {chatMode === \"widget\" && (\n                        <i className=\"bi bi-check2\"></i>\n                      )}\n                    </button>\n                    <button\n                      className={`option-item ${\n                        chatMode === \"drawer\" ? \"active\" : \"\"\n                      }`}\n                      onClick={() => toggleChatMode(\"drawer\")}\n                    >\n                      <i className=\"bi bi-layout-sidebar\"></i>\n                      <span>Sidebar Drawer</span>\n                      {chatMode === \"drawer\" && (\n                        <i className=\"bi bi-check2\"></i>\n                      )}\n                    </button>\n\n                    {window.innerWidth > 768 && (\n                      <>\n                        <div className=\"options-divider\"></div>\n\n                        <div className=\"options-header\">Window Size</div>\n                        <button\n                          className={`option-item ${\n                            widgetSize === \"small\" ? \"active\" : \"\"\n                          }`}\n                          onClick={() => handleSizeChange(\"small\")}\n                        >\n                          <i className=\"bi bi-phone\"></i>\n                          <span>Small</span>\n                          {widgetSize === \"small\" && (\n                            <i className=\"bi bi-check2\"></i>\n                          )}\n                        </button>\n                        <button\n                          className={`option-item ${\n                            widgetSize === \"medium\" ? \"active\" : \"\"\n                          }`}\n                          onClick={() => handleSizeChange(\"medium\")}\n                        >\n                          <i className=\"bi bi-tablet\"></i>\n                          <span>Medium</span>\n                          {widgetSize === \"medium\" && (\n                            <i className=\"bi bi-check2\"></i>\n                          )}\n                        </button>\n                        <button\n                          className={`option-item ${\n                            widgetSize === \"large\" ? \"active\" : \"\"\n                          }`}\n                          onClick={() => handleSizeChange(\"large\")}\n                        >\n                          <i className=\"bi bi-laptop\"></i>\n                          <span>Large</span>\n                          {widgetSize === \"large\" && (\n                            <i className=\"bi bi-check2\"></i>\n                          )}\n                        </button>\n                        <button\n                          className={`option-item ${\n                            widgetSize === \"fullscreen\" ? \"active\" : \"\"\n                          }`}\n                          onClick={() => handleSizeChange(\"fullscreen\")}\n                        >\n                          <i className=\"bi bi-arrows-fullscreen\"></i>\n                          <span>Fullscreen</span>\n                          {widgetSize === \"fullscreen\" && (\n                            <i className=\"bi bi-check2\"></i>\n                          )}\n                        </button>\n                      </>\n                    )}\n                  </div>\n                )}\n              </div>\n\n              <button\n                className=\"header-icon-button\"\n                onClick={handleClose}\n                aria-label=\"Close\"\n              >\n                <i className=\"bi bi-x-lg\"></i>\n              </button>\n            </div>\n          </div>\n\n          <div className=\"floating-modal-body\">\n            <AIChatModal\n              show={true}\n              onClose={handleClose}\n              onTaskGenerated={onTaskGenerated}\n              theme={theme}\n              refreshTasks={refreshTasks}\n              isWidget={true}\n            />\n          </div>\n        </div>\n      )}\n\n      {/* Drag Overlay */}\n      {isDragging && <div className=\"drag-overlay\" />}\n    </>\n  );\n};\n\nexport default FloatingChatWidget;\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { fetchTasks, updateTaskPriority } from \"../../services/api\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport TaskCard from \"./taskItem/TaskCard\";\nimport AIChatModal from \"./AIChatModal/AIChatModal\";\nimport FloatingChatWidget from \"./AIChatModal/FloatingChatWidget\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./TaskList.css\";\n\nimport {\n  DndContext,\n  closestCenter,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragOverlay,\n  MouseSensor,\n  TouchSensor,\n} from \"@dnd-kit/core\";\nimport {\n  SortableContext,\n  arrayMove,\n  useSortable,\n  rectSortingStrategy,\n} from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\n\nconst SortableTask = ({ task, theme }) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({\n    id: task.id,\n    transition: {\n      duration: 250,\n      easing: \"cubic-bezier(0.25, 0.8, 0.25, 1)\",\n    },\n  });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition:\n      transition || \"transform 250ms cubic-bezier(0.25, 0.8, 0.25, 1)\",\n    opacity: isDragging ? 0 : 1,\n    cursor: \"grab\",\n    touchAction: \"manipulation\",\n  };\n\n  return (\n    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>\n      <TaskCard theme={theme} task={task} />\n    </div>\n  );\n};\n\nconst TaskList = ({ theme }) => {\n  const navigate = useNavigate();\n  const { user, logout } = useAuth();\n  const [tasks, setTasks] = useState(null);\n  const [showAIModal, setShowAIModal] = useState(false);\n  const [activeId, setActiveId] = useState(null);\n  const [chatMode, setChatMode] = useState(() => {\n    const saved = localStorage.getItem(\"ai_chat_ui_mode\");\n    return saved || \"drawer\";\n  });\n\n  const sensors = useSensors(\n    useSensor(MouseSensor, {\n      activationConstraint: {\n        distance: 10,\n      },\n    }),\n    useSensor(TouchSensor, {\n      activationConstraint: {\n        delay: 200,\n        tolerance: 5,\n      },\n    }),\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 10,\n      },\n    })\n  );\n\n  // Listen for chat mode changes\n  useEffect(() => {\n    const handleChatModeChange = (e) => {\n      setChatMode(e.detail);\n      setShowAIModal(false); // Close drawer if switching to widget\n    };\n    const handleStorageChange = () => {\n      const saved = localStorage.getItem(\"ai_chat_ui_mode\");\n      if (saved && saved !== chatMode) {\n        setChatMode(saved);\n        setShowAIModal(false);\n      }\n    };\n    window.addEventListener(\"chatModeChanged\", handleChatModeChange);\n    window.addEventListener(\"storage\", handleStorageChange);\n    return () => {\n      window.removeEventListener(\"chatModeChanged\", handleChatModeChange);\n      window.removeEventListener(\"storage\", handleStorageChange);\n    };\n  }, [chatMode]);\n\n  const loadTasks = useCallback(async () => {\n    if (user) {\n      try {\n        const response = await fetchTasks();\n        setTasks(response.data.tasks || response.data);\n      } catch (error) {\n        console.error(\"Error loading tasks:\", error);\n        if (error.response && error.response.status === 403) logout();\n      }\n    }\n  }, [user, logout]);\n\n  useEffect(() => {\n    loadTasks();\n  }, [loadTasks]);\n\n  const refreshTasks = async () => {\n    try {\n      const response = await fetchTasks();\n      const tasksData = response.data.tasks || response.data;\n      setTasks(tasksData);\n      return tasksData;\n    } catch (error) {\n      console.error(\"Error refreshing tasks:\", error);\n    }\n  };\n\n  const handleDragStart = (event) => {\n    setActiveId(event.active.id);\n  };\n\n  const handleDragEnd = async (event) => {\n    const { active, over } = event;\n    setActiveId(null);\n\n    if (!over || active.id === over.id) return;\n\n    setTasks((prevTasks) => {\n      const oldIndex = prevTasks.findIndex((t) => t.id === active.id);\n      const newIndex = prevTasks.findIndex((t) => t.id === over.id);\n\n      if (oldIndex === -1 || newIndex === -1) return prevTasks;\n\n      const reordered = arrayMove(prevTasks, oldIndex, newIndex);\n\n      const updatePromises = reordered.map((task, idx) => {\n        const newPriority = idx + 1;\n        if (task.priority !== newPriority) {\n          return updateTaskPriority(task.id, newPriority).catch((err) => {\n            console.error(`Error updating priority for task ${task.id}:`, err);\n          });\n        }\n        return Promise.resolve();\n      });\n\n      Promise.all(updatePromises);\n\n      return reordered.map((task, idx) => ({\n        ...task,\n        priority: idx + 1,\n      }));\n    });\n  };\n\n  const handleDragCancel = () => {\n    setActiveId(null);\n  };\n\n  const handleAddTask = () => {\n    navigate(\"/tasks/new/edit\");\n  };\n\n  const handleAITaskGenerated = (aiGeneratedTask) => {\n    navigate(\"/tasks/new/edit\", { state: { task: aiGeneratedTask } });\n  };\n\n  const renderShimmerLoader = () => (\n    <div className=\"container mt-5\">\n      <div className=\"task-container\">\n        <div className=\"card-body p-3\">\n          <div className=\"d-flex flex-row justify-content-between align-items-center mb-3 header-container\">\n            <h2 className=\"card-title mb-0\">Your Tasks</h2>\n            <div className=\"d-flex gap-2 button-group\">\n              <button\n                className={`btn btn-outline-${\n                  theme === \"dark\" ? \"light\" : \"dark\"\n                } d-flex align-items-center gap-2`}\n                onClick={handleAddTask}\n                aria-label=\"Create new task\"\n              >\n                <i className=\"bi bi-plus-circle\" aria-hidden=\"true\"></i>\n                <span className=\"button-text\">New Task</span>\n              </button>\n            </div>\n          </div>\n\n          <div className=\"shimmer-list\">\n            {Array.from({ length: 5 }).map((_, index) => (\n              <div key={index} className=\"shimmer-task-item\">\n                <div className=\"shimmer-task-header\"></div>\n                <div className=\"shimmer-task-body\"></div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  if (!tasks) return renderShimmerLoader();\n\n  const sortedTasks = [...tasks].sort((a, b) => a.priority - b.priority);\n  const activeTask = activeId ? tasks.find((t) => t.id === activeId) : null;\n\n  return (\n    <>\n      <div className=\"container mt-5\">\n        <div className=\"task-container\">\n          <div className=\"card-body p-3\">\n            <div className=\"d-flex flex-row justify-content-between align-items-center mb-3 header-container\">\n              <h2 className=\"card-title mb-0\">Your Tasks</h2>\n              <div className=\"d-flex gap-2 button-group\">\n                <button\n                  className={`btn btn-outline-${\n                    theme === \"dark\" ? \"light\" : \"dark\"\n                  } d-flex align-items-center gap-2`}\n                  onClick={handleAddTask}\n                >\n                  <i className=\"bi bi-plus-circle\"></i>\n                  <span className=\"button-text\">New Task</span>\n                </button>\n              </div>\n            </div>\n\n            {tasks.length === 0 ? (\n              <div className=\"empty-state\">\n                <i className=\"bi bi-clipboard-check empty-state-icon\"></i>\n                <p\n                  className={`text-${\n                    theme === \"dark\" ? \"light\" : \"muted\"\n                  } mb-2`}\n                >\n                  No tasks yet\n                </p>\n                <small className=\"text-muted\">\n                  Create your first task or use AI Assistant to get started\n                </small>\n              </div>\n            ) : (\n              <DndContext\n                sensors={sensors}\n                collisionDetection={closestCenter}\n                onDragStart={handleDragStart}\n                onDragEnd={handleDragEnd}\n                onDragCancel={handleDragCancel}\n              >\n                <SortableContext\n                  items={sortedTasks.map((t) => t.id)}\n                  strategy={rectSortingStrategy}\n                >\n                  <div className=\"task-list\">\n                    {sortedTasks.map((task) => (\n                      <SortableTask key={task.id} task={task} theme={theme} />\n                    ))}\n                  </div>\n                </SortableContext>\n\n                <DragOverlay\n                  adjustScale={false}\n                  dropAnimation={{\n                    duration: 300,\n                    easing: \"cubic-bezier(0.25, 0.8, 0.25, 1)\",\n                  }}\n                  style={{\n                    cursor: \"grabbing\",\n                  }}\n                >\n                  {activeTask ? (\n                    <div\n                      style={{\n                        transform: \"scale(1.03) rotate(2deg)\",\n                        cursor: \"grabbing\",\n                        boxShadow:\n                          \"0 12px 24px rgba(0, 0, 0, 0.25), 0 4px 8px rgba(0, 0, 0, 0.15)\",\n                        borderRadius: \"10px\",\n                        transition:\n                          \"all 150ms cubic-bezier(0.25, 0.8, 0.25, 1)\",\n                      }}\n                    >\n                      <TaskCard theme={theme} task={activeTask} />\n                    </div>\n                  ) : null}\n                </DragOverlay>\n              </DndContext>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Drawer Mode */}\n      {chatMode === \"drawer\" && (\n        <AIChatModal\n          show={showAIModal}\n          onClose={() => setShowAIModal(false)}\n          onTaskGenerated={handleAITaskGenerated}\n          theme={theme}\n          refreshTasks={refreshTasks}\n        />\n      )}\n\n      {/* Widget/Drawer with Cloud Button */}\n      <FloatingChatWidget\n        theme={theme}\n        onTaskGenerated={handleAITaskGenerated}\n        refreshTasks={refreshTasks}\n      />\n    </>\n  );\n};\n\nexport default TaskList;\n"],"names":["getStatusColor","status","STATUS_COLORS","TASK_STATUS","NOT_STARTED","_ref","theme","task","demoMode","navigate","useNavigate","stripColor","reminderSummary","getReminderSummary","reminders","_jsxs","className","concat","onClick","handleClick","id","children","_jsx","style","backgroundColor","color","title","description","formatRelativeTime","createdAt","deadline","setError","onClose","quickPrompt","setQuickPrompt","useState","isLoading","setIsLoading","inputRef","useRef","useEffect","current","focus","handleQuickGenerate","async","trim","result","generateAITask","success","error","aiTask","data","newTask","state","ref","rows","value","onChange","e","target","onKeyDown","key","shiftKey","preventDefault","placeholder","disabled","map","text","_Fragment","_user$firstName","_user$firstName$","_user$lastName","_user$lastName$","msg","user","userAvatar","avatar","displayInitials","firstName","toUpperCase","lastName","role","src","alt","width","height","borderRadius","objectFit","fontWeight","display","alignItems","justifyContent","fontSize","content","split","part","index","test","match","marginLeft","marginTop","processedPart","segment","i","startsWith","endsWith","slice","formatMessageContent","timestamp","date","Date","now","diffInHours","getDate","toLocaleTimeString","hour","minute","toLocaleDateString","month","day","formatTime","setTasks","isNewTask","isChatPreview","onSave","onCancel","isEditing","setIsEditing","tempTitle","setTempTitle","tempDescription","setTempDescription","tempStatus","setTempStatus","tempDeadline","setTempDeadline","tempReminders","setTempReminders","Array","isArray","showDeleteModal","setShowDeleteModal","cardRef","length","handleCancel","useCallback","handleClickOutside","contains","document","addEventListener","removeEventListener","getStripColor","isDeadlineInFuture","dailyCount","filter","r","type","weeklyCount","oneTimeCount","parts","push","join","formatDateTimeLocal","TaskReminders","ALL_INTERVALS","REMINDER_INTERVALS","stopPropagation","JSON","stringify","deadlineDate","finalReminders","hasDaily","some","hasWeekly","filteredReminders","remindAt","remindDate","remindBefore","maxDays","Math","floor","sent","dayNumber","maxWeeks","week","weekNumber","regenerateRecurringReminders","updatedTaskData","toISOString","_objectSpread","response","updateTask","prev","t","console","handleSave","ConfirmationModal","show","message","onConfirm","deleteTask","CHAT_HISTORY_KEY","STORAGE_KEYS","AI_CHAT_HISTORY","TaskPreviewBadge","isExpanded","setIsExpanded","onMouseEnter","onMouseLeave","confirmed","action","cancelled","TaskItem","isHistoryPreview","DeleteActionBadge","_ref2","_ref3","refreshTasks","useAuth","chatMessages","setChatMessages","saved","localStorage","getItem","parse","chatInput","setChatInput","previewTask","setPreviewTask","chatEndRef","scrollIntoView","behavior","setItem","handleChatSend","userMessage","preview","setTimeout","conversationHistory","sendAIChatMessage","reply","previewUpdate","normalizeRemindersBeforeSave","_aiSuggested","isUpdate","updatedAt","handleConfirmUpdate","normalizedReminders","resultMessage","createTask","handleCancelPreview","ChatMessage","resetChat","removeItem","conversationSummary","contextualPrompt","priority","onTaskGenerated","isWidget","showOptions","setShowOptions","chatMode","onModeChange","widgetSize","onSizeChange","optionsRef","mode","setMode","isClosing","setIsClosing","scrollPositionRef","savedMode","handleClose","handleEscape","window","pageYOffset","body","overflow","touchAction","position","top","scrollTo","background","border","cursor","padding","QuickMode","ChatMode","TaskPreviewModal","currentTarget","marginRight","innerWidth","isOpen","setIsOpen","setChatMode","setWidgetSize","buttonPosition","setButtonPosition","x","y","innerHeight","isDragging","setIsDragging","hasMoved","setHasMoved","dragOffset","setDragOffset","buttonRef","getButtonMetrics","buttonSize","margin","resizeTimeout","handleResize","clearTimeout","maxX","maxY","max","min","snapToCorner","windowWidth","windowHeight","corners","nearest","minDistance","hypot","forEach","corner","distance","handleMouseMove","deltaX","abs","clientX","deltaY","clientY","newX","newY","handleMouseUp","snapped","handleTouchMove","touch","touches","handleTouchEnd","passive","toggleChatMode","handleSizeChange","size","left","onMouseDown","rect","getBoundingClientRect","onTouchStart","AIChatModal","getWidgetStyles","sizes","small","medium","large","fullscreen","maxWidth","maxHeight","SortableTask","attributes","listeners","setNodeRef","transform","transition","useSortable","duration","easing","CSS","Transform","toString","opacity","TaskCard","logout","tasks","showAIModal","setShowAIModal","activeId","setActiveId","sensors","useSensors","useSensor","MouseSensor","activationConstraint","TouchSensor","delay","tolerance","PointerSensor","handleChatModeChange","detail","handleStorageChange","loadTasks","fetchTasks","tasksData","handleAddTask","handleAITaskGenerated","aiGeneratedTask","from","_","sortedTasks","sort","a","b","activeTask","find","DndContext","collisionDetection","closestCenter","onDragStart","event","active","onDragEnd","over","prevTasks","oldIndex","findIndex","newIndex","reordered","arrayMove","updatePromises","idx","newPriority","updateTaskPriority","catch","err","Promise","resolve","all","onDragCancel","handleDragCancel","SortableContext","items","strategy","rectSortingStrategy","DragOverlay","adjustScale","dropAnimation","boxShadow","FloatingChatWidget"],"sourceRoot":""}