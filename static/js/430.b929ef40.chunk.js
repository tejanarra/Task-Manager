"use strict";(self.webpackChunktask_manager_frontend=self.webpackChunktask_manager_frontend||[]).push([[430],{5090:(e,a,s)=>{s.d(a,{A:()=>l});s(5043),s(8421),s(8123);var t=s(579);const l=e=>{let{theme:a,show:s,title:l="Confirm Action",message:n="Are you sure you want to proceed?",onConfirm:c,onCancel:o}=e;return s?(0,t.jsx)("div",{className:"custom-modal-overlay d-flex align-items-center justify-content-center",tabIndex:"-1",role:"dialog",onClick:o,children:(0,t.jsxs)("div",{className:"custom-modal-content",role:"document",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"custom-modal-header",children:[(0,t.jsx)("h5",{className:"modal2-title fw-bold",children:l}),(0,t.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:o})]}),(0,t.jsx)("div",{className:"custom-modal-body",children:(0,t.jsx)("p",{className:"text-".concat("dark"===a?"light":"muted"," mb-4"),children:n})}),(0,t.jsxs)("div",{className:"custom-modal-footer d-flex justify-content-end gap-2",children:[(0,t.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:o,children:"Cancel"}),(0,t.jsx)("button",{type:"button",className:"btn sign-in-btn",onClick:c,children:"Confirm"})]})]})}):null}},5353:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var t=s(5043),l=s(3216),n=s(4505),c=(s(658),s(8729)),o=s(5090),i=s(1291),r=(s(8123),s(9997),s(579));const d=e=>{var a,s;let{theme:d}=e;const[m,h]=(0,t.useState)(!1),{logout:u}=(0,c.A)(),[x,N]=(0,t.useState)(null),[v,j]=(0,t.useState)(""),f=(0,l.Zp)();(0,t.useEffect)((()=>{(async()=>{try{const e=await(0,n.E$)();if(e.avatar&&e.avatar.data){const a=function(e){var a="";return[].slice.call(new Uint8Array(e)).forEach((e=>a+=String.fromCharCode(e))),window.btoa(a)}(e.avatar.data);e.avatar="data:image/jpeg;base64,".concat(a)}N(e)}catch(e){j("Failed to fetch profile data."),e&&403===e.status&&(u(),f("/login")),console.log(e)}})()}),[u,f]);return v?(0,r.jsxs)("div",{className:"profile-container",children:[(0,r.jsx)("h2",{className:"profile-title",children:"Profile Overview"}),(0,r.jsx)("p",{className:"text-danger text-center",children:v})]}):x?(0,r.jsxs)("div",{className:"profile-container",children:[(0,r.jsxs)("div",{className:"profile-card shadow rounded",children:[(0,r.jsx)("h2",{className:"profile-title text-center mb-4",children:"Profile Overview"}),(0,r.jsxs)("div",{className:"text-center",children:[x.avatar?(0,r.jsx)("img",{src:x.avatar,alt:"Profile",className:"rounded-circle profile-image"}):(0,r.jsx)("div",{className:"initials-circle",children:(0,r.jsx)("span",{className:"initials-text",children:"".concat((null===(a=x.firstName)||void 0===a?void 0:a[0])||"").concat((null===(s=x.lastName)||void 0===s?void 0:s[0])||"").toUpperCase()})}),(0,r.jsx)("h3",{className:"mt-3",children:"".concat(x.firstName," ").concat(x.lastName)}),(0,r.jsx)("p",{className:"text-".concat("dark"===d?"light":"muted"," mb-4"),children:x.bio||"No bio available"})]}),(0,r.jsxs)("div",{className:"profile-details mt-4",children:[(0,r.jsxs)("div",{className:"detail-row",children:[(0,r.jsx)("strong",{className:"detail-label",children:"Email:"}),(0,r.jsx)("span",{className:"detail-value",children:x.email})]}),(0,r.jsxs)("div",{className:"detail-row",children:[(0,r.jsx)("strong",{className:"detail-label",children:"Phone:"}),(0,r.jsx)("span",{className:"detail-value",children:x.phoneNumber||"Not provided"})]}),(0,r.jsxs)("div",{className:"detail-row",children:[(0,r.jsx)("strong",{className:"detail-label",children:"Date of Birth:"}),(0,r.jsx)("span",{className:"detail-value",children:x.dob?(0,i.Ic)(x.dob):"Not provided"})]})]}),(0,r.jsxs)("div",{className:"row mt-4",children:[(0,r.jsx)("div",{className:"col-12 col-md-6 mb-2 mb-md-0",children:(0,r.jsx)("button",{className:"btn btn-secondary w-100",onClick:()=>f("/change-password"),children:"Change Password"})}),(0,r.jsx)("div",{className:"col-12 col-md-6",children:(0,r.jsx)("button",{className:"btn sign-in-btn w-100",onClick:()=>f("/edit-profile"),children:"Edit Profile"})})]}),(0,r.jsx)("div",{className:"row mt-2",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("button",{className:"btn btn-danger w-100",onClick:()=>{h(!0)},children:"Logout"})})})]}),(0,r.jsx)(o.A,{theme:d,show:m,title:"Logout",message:"Are you sure you want to log out?",onConfirm:()=>{u(),h(!1),f("/login")},onCancel:()=>h(!1)})]}):(0,r.jsx)("div",{className:"profile-container",children:(0,r.jsxs)("div",{className:"profile-card shadow rounded",children:[(0,r.jsx)("h2",{className:"profile-title text-center mb-4",children:"Profile Overview"}),(0,r.jsxs)("div",{className:"skeleton-loader",children:[(0,r.jsx)("div",{className:"skeleton-avatar mb-4"}),(0,r.jsx)("div",{className:"skeleton-line mb-3"}),(0,r.jsx)("div",{className:"skeleton-line mb-3"}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{className:"skeleton-detail-row mb-3"}),(0,r.jsx)("div",{className:"skeleton-detail-row mb-3"}),(0,r.jsx)("div",{className:"skeleton-detail-row"}),(0,r.jsxs)("div",{className:"row mt-4",children:[(0,r.jsx)("div",{className:"col-12 col-md-6 mb-2 mb-md-0",children:(0,r.jsx)("div",{className:"skeleton-button"})}),(0,r.jsx)("div",{className:"col-12 col-md-6",children:(0,r.jsx)("div",{className:"skeleton-button"})})]}),(0,r.jsx)("div",{className:"row mt-3",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("div",{className:"skeleton-button-lg"})})})]})]})})}},1291:(e,a,s)=>{s.d(a,{Ic:()=>n,fw:()=>l,wM:()=>c});var t=s(1535);const l=e=>{const a=new Date(e),s=new Date,l=Math.floor((s-a)/1e3);if(l<0){const e=Math.abs(l);return e<60?"Just now":e<60?"in ".concat(e," second").concat(1!==e?"s":""):e<3600?"in ".concat(Math.ceil(e/60)," minute").concat(1!==Math.ceil(e/60)?"s":""):e<86400?"in ".concat(Math.ceil(e/3600)," hour").concat(1!==Math.ceil(e/3600)?"s":""):e<604800?"in ".concat(Math.ceil(e/86400)," day").concat(1!==Math.ceil(e/86400)?"s":""):(0,t.GP)(a,"MMM dd, yyyy")}if(l<60)return"Just now";if(l<60)return"".concat(l," second").concat(1!==l?"s":""," ago");if(l<3600)return"".concat(Math.floor(l/60)," minute").concat(1!==Math.floor(l/60)?"s":""," ago");if(l<86400)return"".concat(Math.floor(l/3600)," hour").concat(1!==Math.floor(l/3600)?"s":""," ago");if(l<604800){const e=Math.floor(l/86400);return 1===e?"Yesterday":"".concat(e," days ago")}return(0,t.GP)(a,"MMM dd, yyyy")},n=e=>{const[a,s,t]=e.split("-").map(Number),l=new Date(a,s-1,t);if(isNaN(l))return"Invalid Date";return l.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"})},c=e=>{const a=new Date(e),s=a.getFullYear(),t=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0"),n=String(a.getHours()).padStart(2,"0"),c=String(a.getMinutes()).padStart(2,"0");return"".concat(s,"-").concat(t,"-").concat(l,"T").concat(n,":").concat(c)}},8421:()=>{},658:()=>{}}]);
//# sourceMappingURL=430.b929ef40.chunk.js.map