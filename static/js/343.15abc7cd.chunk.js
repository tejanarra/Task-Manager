"use strict";(self.webpackChunktask_manager_frontend=self.webpackChunktask_manager_frontend||[]).push([[343],{5090:(e,t,a)=>{a.d(t,{A:()=>n});a(8421);var r=a(579);const n=e=>{let{theme:t,show:a,title:n="Confirm Action",message:s="Are you sure you want to proceed?",onConfirm:i,onCancel:o}=e;return a?(0,r.jsx)("div",{className:"custom-modal-overlay d-flex align-items-center justify-content-center",tabIndex:"-1",role:"dialog",onClick:o,children:(0,r.jsxs)("div",{className:"custom-modal-content",role:"document",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"custom-modal-header",children:[(0,r.jsx)("h5",{className:"modal2-title fw-bold",children:n}),(0,r.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:o})]}),(0,r.jsx)("div",{className:"custom-modal-body",children:(0,r.jsx)("p",{className:"text-".concat("dark"===t?"light":"muted"," mb-4"),children:s})}),(0,r.jsxs)("div",{className:"custom-modal-footer d-flex justify-content-end gap-2",children:[(0,r.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:o,children:"Cancel"}),(0,r.jsx)("button",{type:"button",className:"btn sign-in-btn",onClick:i,children:"Confirm"})]})]})}):null}},6196:(e,t,a)=>{a.d(t,{A:()=>c});var r=a(5043),n=a(579);const s=e=>{let{value:t,label:a,checked:r,onChange:s,className:i="",disabled:o=!1}=e;return(0,n.jsx)("div",{className:"d-inline-block ".concat(i),children:(0,n.jsxs)("label",{className:"reminder-checkbox-label d-inline-flex align-items-center ".concat(o?"disabled":""),children:[(0,n.jsx)("input",{type:"checkbox",className:"form-check-input me-2",checked:r,onChange:e=>!o&&s(e.target.checked),disabled:o,"aria-label":"Set reminder for ".concat(a),"aria-describedby":"reminder-".concat(t,"-desc")}),(0,n.jsx)("span",{id:"reminder-".concat(t,"-desc"),children:a})]})})};var i=a(1291),o=a(7081);const c=e=>{let{tempDeadline:t,tempReminders:a,setTempReminders:c,theme:l,ALL_INTERVALS:d=[]}=e;const[m,u]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),f=new Date,g=t?new Date(t):null,y=g&&g>f?(g-f)/36e5:0,b=e=>!e.type||"one-time"===e.type,N=a.some((e=>"daily"===e.type)),v=a.some((e=>"weekly"===e.type)),E=d.filter((e=>e.value<=y)),x=a.filter((e=>{if(!b(e))return!1;if(e.remindBefore>y)return!1;return!d.some((t=>Math.abs(t.value-e.remindBefore)<.01))})).map((e=>{if(e.customDate)try{const t=new Date(e.customDate);return{value:e.remindBefore,label:t.toLocaleString(),customDate:e.customDate}}catch(t){console.warn("Error formatting customDate:",t)}if(g){const t=new Date(g.getTime()-36e5*e.remindBefore);return{value:e.remindBefore,label:t.toLocaleString()}}return{value:e.remindBefore,label:(0,o.Hd)(e.remindBefore)}})),_=(e,t)=>{c((a=>{if(t){return a.find((t=>b(t)&&Math.abs(t.remindBefore-e)<.01))?a:[...a,{remindBefore:e,sent:!1,type:"one-time"}]}return a.filter((t=>!b(t)||Math.abs(t.remindBefore-e)>=.01))}))},D=Math.floor(y/24),w=Math.floor(y/168);return(0,n.jsxs)("div",{className:"task-reminders-container",children:[(0,n.jsx)("div",{className:"reminders-dropdown",onClick:()=>p(!h),children:(0,n.jsxs)("div",{className:"reminders-dropdown-header",children:[(0,n.jsxs)("h6",{children:[(0,n.jsx)("i",{className:"bi bi-clock"})," Reminders",a.length>0&&(0,n.jsx)("span",{className:"reminder-count-badge",children:a.length})]}),h?(0,n.jsx)("i",{className:"bi bi-chevron-up"}):(0,n.jsx)("i",{className:"bi bi-chevron-down"})]})}),h&&(0,n.jsxs)("div",{className:"reminders-dropdown-content",children:[(D>0||w>0)&&(0,n.jsxs)("div",{className:"recurring-reminders-section",children:[(0,n.jsxs)("label",{className:"reminder-section-label",children:[(0,n.jsx)("i",{className:"bi bi-arrow-repeat"})," Recurring Reminders:"]}),(0,n.jsxs)("div",{className:"recurring-options",children:[D>0&&(0,n.jsxs)("div",{className:"recurring-option",children:[(0,n.jsx)("input",{type:"checkbox",checked:N,onChange:e=>{return t=e.target.checked,void c((e=>t?[...e.filter((e=>"daily"!==e.type)),{remindBefore:24,sent:!1,type:"daily"}]:e.filter((e=>"daily"!==e.type))));var t},id:"daily-reminders"}),(0,n.jsxs)("label",{htmlFor:"daily-reminders",children:["Every Day (up to ",D," reminder",1!==D?"s":"",")"]})]}),w>0&&(0,n.jsxs)("div",{className:"recurring-option",children:[(0,n.jsx)("input",{type:"checkbox",checked:v,onChange:e=>{return t=e.target.checked,void c((e=>t?[...e.filter((e=>"weekly"!==e.type)),{remindBefore:168,sent:!1,type:"weekly"}]:e.filter((e=>"weekly"!==e.type))));var t},id:"weekly-reminders"}),(0,n.jsxs)("label",{htmlFor:"weekly-reminders",children:["Every Week (up to ",w," reminder",1!==w?"s":"",")"]})]})]})]}),E.length>0&&(0,n.jsxs)("div",{className:"reminder-section",children:[(0,n.jsxs)("label",{className:"reminder-section-label",children:[(0,n.jsx)("i",{className:"bi bi-bell"})," One-time Reminders:"]}),(0,n.jsx)("div",{className:"reminder-grid",children:E.map((e=>{const t=!!a.find((t=>b(t)&&Math.abs(t.remindBefore-e.value)<.01));return(0,n.jsx)(s,{value:e.value,label:e.label,checked:t,onChange:t=>_(e.value,t)},e.value)}))})]}),(0,n.jsxs)("div",{className:"custom-reminder-section",children:[(0,n.jsxs)("label",{className:"reminder-section-label",children:[(0,n.jsx)("i",{className:"bi bi-calendar-plus"})," Add Custom Reminder:"]}),(0,n.jsxs)("div",{className:"custom-reminder-input-group",children:[(0,n.jsx)("input",{type:"datetime-local",value:m,onChange:e=>u(e.target.value),min:(0,i.wM)(f.toISOString()),max:t?(0,i.wM)(t):void 0}),(0,n.jsxs)("button",{className:"btn btn-sm ".concat("dark"===l?"btn-outline-light":"btn-outline-dark"),onClick:()=>{if(!m)return;const e=new Date(m);if(isNaN(e.getTime()))return void console.warn("Invalid date selected");if(!g||e>=g)return void console.warn("Custom reminder must be before deadline");if(e<=f)return void console.warn("Custom reminder must be in the future");const t=(g-e)/36e5;t>0&&t<=y&&(c((a=>a.some((e=>b(e)&&Math.abs(e.remindBefore-t)<.01))?a:[...a,{remindBefore:t,sent:!1,type:"one-time",customDate:e.toISOString()}])),u(""))},disabled:!m,children:[(0,n.jsx)("i",{className:"bi bi-plus-lg"})," Add"]})]})]}),x.length>0&&(0,n.jsxs)("div",{className:"reminder-section",children:[(0,n.jsxs)("label",{className:"reminder-section-label",children:[(0,n.jsx)("i",{className:"bi bi-calendar-check"})," Custom One-time Reminders:"]}),(0,n.jsx)("div",{className:"reminder-grid",children:x.map(((e,t)=>{const r=!!a.find((t=>b(t)&&Math.abs(t.remindBefore-e.value)<.01));return(0,n.jsx)(s,{value:e.value,label:e.label,checked:r,onChange:t=>_(e.value,t)},e.customDate||"".concat(e.value,"-").concat(t))}))})]}),a.length>0&&(0,n.jsx)("div",{className:"active-reminders-summary",children:(0,n.jsxs)("small",{children:[(0,n.jsx)("i",{className:"bi bi-info-circle"})," ",(0,n.jsx)("strong",{children:"Active:"}),N&&" Daily",N&&v&&",",v&&" Weekly",(N||v)&&a.filter(b).length>0&&",",a.filter(b).length>0&&" ".concat(a.filter(b).length," one-time")]})})]})]})}},2532:(e,t,a)=>{a.d(t,{D8:()=>l,Ez:()=>s,Rr:()=>n,ST:()=>o,UU:()=>d,Ym:()=>r,d5:()=>i,j$:()=>c});const r=[{value:1,label:"1 hr"},{value:24,label:"1 day"},{value:168,label:"1 week"}],n={NOT_STARTED:"not-started",IN_PROGRESS:"in-progress",COMPLETED:"completed"},s=(n.NOT_STARTED,n.IN_PROGRESS,n.COMPLETED,{[n.COMPLETED]:"#007a00",[n.IN_PROGRESS]:"#daa520",[n.NOT_STARTED]:"#a00000"}),i={TOKEN:"token",USER_INFO:"userInfo",THEME:"theme",AI_CHAT_MODE:"ai_chat_mode",AI_CHAT_HISTORY:"ai_chat_history"},o={ONE_MINUTE_MS:6e4,ONE_HOUR_MS:36e5,ONE_DAY_MS:864e5,TWO_DAYS_MS:1728e5,ONE_WEEK_MS:6048e5,ONE_HOUR_HOURS:1,ONE_DAY_HOURS:24,ONE_WEEK_HOURS:168},c={ONE_TIME:"one-time",DAILY:"daily",WEEKLY:"weekly"},l={REQUIRED_FIELD:"This field is required",INVALID_EMAIL:"Please enter a valid email address",PASSWORD_MISMATCH:"Passwords do not match",PASSWORD_TOO_SHORT:"Password must be at least 8 characters",INVALID_PHONE:"Please enter a valid phone number"},d={LOGIN_FAILED:"Login failed. Please try again.",REGISTRATION_FAILED:"Registration failed. Please try again.",VERIFICATION_FAILED:"Verification failed. Please try again.",PASSWORD_RESET_FAILED:"Password reset failed. Please try again.",PASSWORD_CHANGE_FAILED:"Failed to change password. Please try again.",PROFILE_UPDATE_FAILED:"Failed to update profile. Please try again.",TASK_FETCH_FAILED:"Failed to fetch tasks. Please try again.",TASK_CREATE_FAILED:"Failed to create task. Please try again.",TASK_UPDATE_FAILED:"Failed to update task. Please try again.",TASK_DELETE_FAILED:"Failed to delete task. Please try again.",NETWORK_ERROR:"Network error. Please check your connection.",GENERIC_ERROR:"Something went wrong. Please try again."}},4505:(e,t,a)=>{a.d(t,{A7:()=>p,DY:()=>h,E$:()=>N,J2:()=>f,Lx:()=>m,Pr:()=>E,U0:()=>g,UT:()=>o,XL:()=>u,ec:()=>b,gQ:()=>x,iV:()=>i,j:()=>s,lC:()=>c,r7:()=>v,vF:()=>d,vq:()=>l,xw:()=>y});const r=a(9722).A.create({baseURL:"https://task-manager-sigma-ashen.vercel.app/api",headers:{"ngrok-skip-browser-warning":"true"},timeout:3e4});r.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e)));const n=e=>{var t;return e.response?{message:(null===(t=e.response.data)||void 0===t?void 0:t.error)||"An error occurred",status:e.response.status}:e.request?{message:"No response from server. Please check your connection.",status:0}:{message:e.message||"An unexpected error occurred",status:-1}},s=()=>r.get("/tasks"),i=e=>r.get("/tasks/".concat(e)),o=e=>r.post("/tasks",e),c=(e,t)=>r.put("/tasks/".concat(e),t),l=e=>r.delete("/tasks/".concat(e)),d=(e,t)=>r.put("/tasks/".concat(e,"/priority"),{priority:t}),m=(e,t)=>r.post("/auth/login",{email:e,password:t}),u=async e=>r.post("/auth/google",{code:e}),h=(e,t,a,n)=>r.post("/auth/register",{firstName:e,lastName:t,email:a,password:n}),p=(e,t)=>r.post("/auth/verify-registration",{email:e,verificationCode:t}),f=e=>r.post("/auth/resend-verification",{email:e}),g=e=>r.post("/auth/forgot-password",{email:e}),y=(e,t,a)=>r.post("/auth/verify-code",{email:e,verificationCode:t,newPassword:a}),b=(e,t)=>r.post("/auth/change-password",{currentPassword:e,newPassword:t}),N=async()=>{try{return(await r.get("/profile")).data}catch(e){throw console.error("Error fetching profile:",e),e}},v=async e=>{try{return(await r.put("/profile",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error updating profile:",t),t}},E=async e=>{try{const t=Intl.DateTimeFormat().resolvedOptions().timeZone;return{success:!0,data:(await r.post("/ai/chat",{prompt:e},{headers:{"x-user-timezone":t}})).data}}catch(t){return{success:!1,error:n(t).message}}},x=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{const a=Intl.DateTimeFormat().resolvedOptions().timeZone;return{success:!0,data:(await r.post("/ai/chat-conversation",{message:e,conversationHistory:t},{headers:{"x-user-timezone":a}})).data}}catch(a){return{success:!1,error:n(a).message}}}},1291:(e,t,a)=>{a.d(t,{Ic:()=>s,fw:()=>n,wM:()=>i});var r=a(1535);const n=e=>{const t=new Date(e),a=new Date,n=Math.floor((a-t)/1e3);if(n<0){const e=Math.abs(n);return e<60?"Just now":e<60?"in ".concat(e," second").concat(1!==e?"s":""):e<3600?"in ".concat(Math.ceil(e/60)," minute").concat(1!==Math.ceil(e/60)?"s":""):e<86400?"in ".concat(Math.ceil(e/3600)," hour").concat(1!==Math.ceil(e/3600)?"s":""):e<604800?"in ".concat(Math.ceil(e/86400)," day").concat(1!==Math.ceil(e/86400)?"s":""):(0,r.GP)(t,"MMM dd, yyyy")}if(n<60)return"Just now";if(n<60)return"".concat(n," second").concat(1!==n?"s":""," ago");if(n<3600)return"".concat(Math.floor(n/60)," minute").concat(1!==Math.floor(n/60)?"s":""," ago");if(n<86400)return"".concat(Math.floor(n/3600)," hour").concat(1!==Math.floor(n/3600)?"s":""," ago");if(n<604800){const e=Math.floor(n/86400);return 1===e?"Yesterday":"".concat(e," days ago")}return(0,r.GP)(t,"MMM dd, yyyy")},s=e=>{const[t,a,r]=e.split("-").map(Number),n=new Date(t,a-1,r);if(isNaN(n))return"Invalid Date";return n.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"})},i=e=>{const t=new Date(e),a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0");return"".concat(a,"-").concat(r,"-").concat(n,"T").concat(s,":").concat(i)}},7081:(e,t,a)=>{a.d(t,{Hd:()=>s,NF:()=>o,ZW:()=>i});var r=a(2555),n=a(2532);const s=e=>{if(e<1){const t=Math.round(60*e);return"".concat(t," min").concat(1!==t?"s":"")}if(e<n.ST.ONE_DAY_HOURS){const t=e%1===0?e:e.toFixed(1);return"".concat(t," hr").concat(1!==e?"s":"")}const t=e/n.ST.ONE_DAY_HOURS;if(t<7){const e=t%1===0?t:t.toFixed(1);return"".concat(e," day").concat(1!==t?"s":"")}const a=t/7,r=a%1===0?a:a.toFixed(1);return"".concat(r," week").concat(1!==a?"s":"")},i=(e,t)=>{if(!Array.isArray(e)||!t)return e;const a=new Date(t);return e.map((e=>{if(e.remindBefore&&!e.customDate)return e;if(e.customDate){const t=new Date(e.customDate);if(!isNaN(t.getTime())&&t<a){const n=(a-t)/36e5;return(0,r.A)((0,r.A)({},e),{},{remindBefore:n})}}return e}))},o=e=>{if(!e||0===e.length)return"";const t=e.filter((e=>!e.type||e.type===n.j$.ONE_TIME)),a=e.some((e=>e.type===n.j$.DAILY)),r=e.some((e=>e.type===n.j$.WEEKLY)),i=[];if(t.length>0){const e=t.map((e=>s(e.remindBefore))).join(", ");i.push(e)}return a&&i.push("Daily"),r&&i.push("Weekly"),i.join(", ")}},2437:(e,t,a)=>{a.d(t,{qY:()=>n});var r=a(2532);const n=e=>r.Ez[e]||r.Ez[r.Rr.NOT_STARTED]}}]);
//# sourceMappingURL=343.15abc7cd.chunk.js.map