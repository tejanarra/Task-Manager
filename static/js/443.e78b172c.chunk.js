"use strict";(self.webpackChunktask_manager_frontend=self.webpackChunktask_manager_frontend||[]).push([[443],{869:(e,a,s)=>{s.d(a,{A:()=>l});s(43),s(421);var t=s(579);const l=e=>{let{theme:a,show:s,title:l="Confirm Action",message:o="Are you sure you want to proceed?",onConfirm:n,onCancel:i}=e;return s?(0,t.jsx)("div",{className:"custom-modal-overlay d-flex align-items-center justify-content-center",tabIndex:"-1",role:"dialog",onClick:i,children:(0,t.jsxs)("div",{className:"custom-modal-content",role:"document",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"custom-modal-header",children:[(0,t.jsx)("h5",{className:"modal2-title fw-bold",children:l}),(0,t.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:i})]}),(0,t.jsx)("div",{className:"custom-modal-body",children:(0,t.jsx)("p",{className:"text-".concat("dark"===a?"light":"muted"," mb-4"),children:o})}),(0,t.jsxs)("div",{className:"custom-modal-footer d-flex justify-content-end gap-2",children:[(0,t.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:i,children:"Cancel"}),(0,t.jsx)("button",{type:"button",className:"btn sign-in-btn",onClick:n,children:"Confirm"})]})]})}):null}},443:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var t=s(43),l=s(216),o=s(505),n=(s(210),s(729)),i=s(869),r=s(291),c=s(579);const d=e=>{var a,s;let{theme:d}=e;const[m,h]=(0,t.useState)(!1),{logout:u}=(0,n.A)(),[v,x]=(0,t.useState)(null),[N,p]=(0,t.useState)(""),j=(0,l.Zp)();(0,t.useEffect)((()=>{(async()=>{try{const e=await(0,o.E$)();if(e.avatar&&e.avatar.data){const a=function(e){var a="";return[].slice.call(new Uint8Array(e)).forEach((e=>a+=String.fromCharCode(e))),window.btoa(a)}(e.avatar.data);e.avatar="data:image/jpeg;base64,".concat(a)}x(e)}catch(e){p("Failed to fetch profile data."),e&&403===e.status&&(u(),j("/login")),console.log(e)}})()}),[u,j]);return N?(0,c.jsxs)("div",{className:"profile-container",children:[(0,c.jsx)("h2",{className:"profile-title",children:"Profile Overview"}),(0,c.jsx)("p",{className:"text-danger text-center",children:N})]}):v?(0,c.jsxs)("div",{className:"profile-container",children:[(0,c.jsxs)("div",{className:"profile-card shadow rounded",children:[(0,c.jsx)("h2",{className:"profile-title text-center mb-4",children:"Profile Overview"}),(0,c.jsxs)("div",{className:"text-center",children:[v.avatar?(0,c.jsx)("img",{src:v.avatar,alt:"Profile",className:"rounded-circle profile-image"}):(0,c.jsx)("div",{className:"initials-circle",children:(0,c.jsx)("span",{className:"initials-text",children:"".concat((null===(a=v.firstName)||void 0===a?void 0:a[0])||"").concat((null===(s=v.lastName)||void 0===s?void 0:s[0])||"").toUpperCase()})}),(0,c.jsx)("h3",{className:"mt-3",children:"".concat(v.firstName," ").concat(v.lastName)}),(0,c.jsx)("p",{className:"text-".concat("dark"===d?"light":"muted"," mb-4"),children:v.bio||"No bio available"})]}),(0,c.jsxs)("div",{className:"profile-details mt-4",children:[(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("strong",{className:"detail-label",children:"Email:"}),(0,c.jsx)("span",{className:"detail-value",children:v.email})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("strong",{className:"detail-label",children:"Phone:"}),(0,c.jsx)("span",{className:"detail-value",children:v.phoneNumber||"Not provided"})]}),(0,c.jsxs)("div",{className:"detail-row",children:[(0,c.jsx)("strong",{className:"detail-label",children:"Date of Birth:"}),(0,c.jsx)("span",{className:"detail-value",children:v.dob?(0,r.Ic)(v.dob):"Not provided"})]})]}),(0,c.jsxs)("div",{className:"row mt-4",children:[(0,c.jsx)("div",{className:"col-12 col-md-6 mb-2 mb-md-0",children:(0,c.jsx)("button",{className:"btn btn-secondary w-100",onClick:()=>j("/change-password"),children:"Change Password"})}),(0,c.jsx)("div",{className:"col-12 col-md-6",children:(0,c.jsx)("button",{className:"btn sign-in-btn w-100",onClick:()=>j("/edit-profile"),children:"Edit Profile"})})]}),(0,c.jsx)("div",{className:"row mt-2",children:(0,c.jsx)("div",{className:"col-12",children:(0,c.jsx)("button",{className:"btn btn-danger w-100",onClick:()=>{h(!0)},children:"Logout"})})})]}),(0,c.jsx)(i.A,{theme:d,show:m,title:"Logout",message:"Are you sure you want to log out?",onConfirm:()=>{u(),h(!1),j("/login")},onCancel:()=>h(!1)})]}):(0,c.jsx)("div",{className:"profile-container",children:(0,c.jsxs)("div",{className:"profile-card shadow rounded",children:[(0,c.jsx)("h2",{className:"profile-title text-center mb-4",children:"Profile Overview"}),(0,c.jsxs)("div",{className:"skeleton-loader",children:[(0,c.jsx)("div",{className:"skeleton-avatar mb-4"}),(0,c.jsx)("div",{className:"skeleton-line mb-3"}),(0,c.jsx)("div",{className:"skeleton-line mb-3"}),(0,c.jsx)("hr",{}),(0,c.jsx)("div",{className:"skeleton-detail-row mb-3"}),(0,c.jsx)("div",{className:"skeleton-detail-row mb-3"}),(0,c.jsx)("div",{className:"skeleton-detail-row"}),(0,c.jsxs)("div",{className:"row mt-4",children:[(0,c.jsx)("div",{className:"col-12 col-md-6 mb-2 mb-md-0",children:(0,c.jsx)("div",{className:"skeleton-button"})}),(0,c.jsx)("div",{className:"col-12 col-md-6",children:(0,c.jsx)("div",{className:"skeleton-button"})})]}),(0,c.jsx)("div",{className:"row mt-3",children:(0,c.jsx)("div",{className:"col-12",children:(0,c.jsx)("div",{className:"skeleton-button-lg"})})})]})]})})}},505:(e,a,s)=>{s.d(a,{A7:()=>v,DY:()=>u,E$:()=>f,J2:()=>x,Lx:()=>m,Pr:()=>g,U0:()=>N,UT:()=>n,XL:()=>h,eY:()=>d,ec:()=>j,gQ:()=>w,j:()=>o,lC:()=>i,r7:()=>b,vF:()=>c,vq:()=>r,xw:()=>p});var t=s(555);const l=s(722).A.create({baseURL:"http://localhost:5001/api",headers:{"ngrok-skip-browser-warning":"true"},timeout:3e4});l.interceptors.request.use((e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e}),(e=>Promise.reject(e)));const o=()=>l.get("/tasks"),n=e=>l.post("/tasks",(0,t.A)((0,t.A)({},e),{},{deadlineUTC:e.deadlineUTC||null})),i=(e,a)=>{var s;return l.put("/tasks/".concat(e),(0,t.A)((0,t.A)({},a),{},{deadlineUTC:null!==(s=a.deadlineUTC)&&void 0!==s?s:null}))},r=e=>l.delete("/tasks/".concat(e)),c=(e,a)=>l.put("/tasks/".concat(e,"/priority"),{priority:a}),d=(e,a)=>l.patch("/tasks/".concat(e,"/reminders"),{action:"overwrite",reminders:a}),m=(e,a)=>l.post("/auth/login",{email:e,password:a}),h=e=>l.post("/auth/google",{code:e}),u=(e,a,s,t)=>l.post("/auth/register",{firstName:e,lastName:a,email:s,password:t}),v=(e,a)=>l.post("/auth/verify-registration",{email:e,verificationCode:a}),x=e=>l.post("/auth/resend-verification",{email:e}),N=e=>l.post("/auth/forgot-password",{email:e}),p=(e,a,s)=>l.post("/auth/verify-code",{email:e,verificationCode:a,newPassword:s}),j=(e,a)=>l.post("/auth/change-password",{currentPassword:e,newPassword:a}),f=()=>l.get("/profile").then((e=>e.data)),b=e=>l.put("/profile",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>e.data)),g=e=>l.post("/ai/chat",{prompt:e}).then((e=>({success:!0,data:e.data}))),w=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return l.post("/ai/chat-conversation",{message:e,conversationHistory:a})}},291:(e,a,s)=>{s.d(a,{Ic:()=>o,fw:()=>l,wM:()=>t});const t=e=>{if(!e)return"";const a=new Date(e),s=6e4*a.getTimezoneOffset();return new Date(a.getTime()-s).toISOString().slice(0,16)},l=e=>{if(!e)return"No date";const a=(new Date(e)-new Date)/864e5;return a>1?"".concat(Math.floor(a)," days left"):a>0?"Tomorrow":a>-1?"Today":"".concat(Math.abs(Math.ceil(a))," days ago")},o=e=>{if(!e)return"";return new Date(e).toLocaleString("en-US",{day:"numeric",month:"long",year:"numeric"})}},421:()=>{},210:()=>{}}]);
//# sourceMappingURL=443.e78b172c.chunk.js.map