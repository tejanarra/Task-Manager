{"version":3,"file":"static/js/821.0212a5ae.chunk.js","mappings":"uKAIA,MAqDA,EArD0BA,IAOnB,IAPoB,MACzBC,EAAK,KACLC,EAAI,MACJC,EAAQ,iBAAgB,QACxBC,EAAU,oCAAmC,UAC7CC,EAAS,SACTC,GACDN,EACC,OAAKE,GAGHK,EAAAA,EAAAA,KAAA,OACEC,UAAU,wEACVC,SAAS,KACTC,KAAK,SACLC,QAASL,EAASM,UAElBC,EAAAA,EAAAA,MAAA,OACEL,UAAU,uBACVE,KAAK,WACLC,QAAUG,GAAMA,EAAEC,kBAAkBH,SAAA,EAEpCC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,sBAAqBI,SAAA,EAClCL,EAAAA,EAAAA,KAAA,MAAIC,UAAU,uBAAsBI,SAAET,KACtCI,EAAAA,EAAAA,KAAA,UACES,KAAK,SACLR,UAAU,YACV,aAAW,QACXG,QAASL,QAGbC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAmBI,UAChCL,EAAAA,EAAAA,KAAA,KAAGC,UAAS,QAAAS,OAAoB,SAAVhB,EAAmB,QAAU,QAAO,SAAQW,SAC/DR,OAGLS,EAAAA,EAAAA,MAAA,OAAKL,UAAU,uDAAsDI,SAAA,EACnEL,EAAAA,EAAAA,KAAA,UACES,KAAK,SACLR,UAAU,oBACVG,QAASL,EAASM,SACnB,YAGDL,EAAAA,EAAAA,KAAA,UAAQS,KAAK,SAASR,UAAU,kBAAkBG,QAASN,EAAUO,SAAC,oBApC5D,IAyCV,C,gHChDV,MA+FA,EA/FiBZ,IAAsB,IAArB,MAAEC,EAAK,KAAEiB,GAAMlB,EAC/B,MAAMmB,GAAWC,EAAAA,EAAAA,MAiBXC,EAXiBC,KACrB,OAAQA,GACN,IAAK,YACH,MAAO,UACT,IAAK,cACH,MAAO,UACT,QACE,MAAO,UACX,EAGiBC,CAAcL,EAAKI,QAmBhCE,EAjBqBC,MACzB,IAAKP,EAAKQ,WAAuC,IAA1BR,EAAKQ,UAAUC,OAAc,OAAO,KAE3D,MAAMC,EAAaV,EAAKQ,UAAUG,QAAQC,GAAiB,UAAXA,EAAEd,OAAkBW,OAC9DI,EAAcb,EAAKQ,UAAUG,QAAQC,GAAiB,WAAXA,EAAEd,OAAmBW,OAChEK,EAAed,EAAKQ,UAAUG,QACjCC,GAAiB,aAAXA,EAAEd,OAAwBc,EAAEd,OACnCW,OAEIM,EAAQ,GAKd,OAJIL,EAAa,GAAGK,EAAMC,KAAK,UAADjB,OAAWW,EAAU,MAC/CG,EAAc,GAAGE,EAAMC,KAAK,WAADjB,OAAYc,EAAW,MAClDC,EAAe,GAAGC,EAAMC,KAAK,aAADjB,OAAce,EAAY,MAEnDC,EAAMN,OAAS,EAAIM,EAAME,KAAK,MAAQ,IAAI,EAG3BV,GAExB,OACEZ,EAAAA,EAAAA,MAAA,OACEL,UAAS,aAAAS,OAAyB,SAAVhB,EAAmB,OAAS,IACpDU,QAvCgByB,KAClBjB,EAAS,UAADF,OAAWC,EAAKmB,GAAE,SAAQ,EAsCXzB,SAAA,EAErBL,EAAAA,EAAAA,KAAA,OACEC,UAAU,aACV8B,MAAO,CAAEC,gBAAiBlB,MAG5BR,EAAAA,EAAAA,MAAA,OAAKL,UAAU,oBAAmBI,SAAA,EAChCL,EAAAA,EAAAA,KAAA,KACEC,UAAS,MAAAS,OACS,cAAhBC,EAAKI,OACD,kBACgB,gBAAhBJ,EAAKI,OACL,eACA,SAAQ,gBAEdgB,MAAO,CAAEE,MAAOnB,MAGlBd,EAAAA,EAAAA,KAAA,MAAIC,UAAU,aAAa8B,MAAO,CAAEE,MAAOnB,GAAaT,SACrDM,EAAKf,SAERI,EAAAA,EAAAA,KAAA,KAAGC,UAAU,mBAAkBI,SAAEM,EAAKuB,eAEtC5B,EAAAA,EAAAA,MAAA,OAAKL,UAAU,gBAAeI,SAAA,EAC5BC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,qBAAoBI,SAAA,EACjCL,EAAAA,EAAAA,KAAA,UAAAK,SAAQ,aACRL,EAAAA,EAAAA,KAAA,QAAAK,UAAO8B,EAAAA,EAAAA,IAAmBxB,EAAKyB,iBAEjC9B,EAAAA,EAAAA,MAAA,OAAKL,UAAU,qBAAoBI,SAAA,EACjCL,EAAAA,EAAAA,KAAA,UAAAK,SAAQ,cACRL,EAAAA,EAAAA,KAAA,QAAAK,SACGM,EAAK0B,UACFF,EAAAA,EAAAA,IAAmBxB,EAAK0B,UACxB,0BAKTpB,IACCX,EAAAA,EAAAA,MAAA,OACEL,UAAU,qBACVL,MAAK,cAAAc,OAAgBO,GAAkBZ,SAAA,EAEvCL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,iBACbD,EAAAA,EAAAA,KAAA,SAAAK,SAAQY,YAIV,ECcV,EA1GkBxB,IAA4B,IAA3B,SAAE6C,EAAQ,QAAEC,GAAS9C,EACtC,MAAMmB,GAAWC,EAAAA,EAAAA,OACV2B,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,KACxCC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,GACrCG,GAAWC,EAAAA,EAAAA,QAAO,OAExBC,EAAAA,EAAAA,YAAU,KACJF,EAASG,SAASH,EAASG,QAAQC,OAAO,GAC7C,IAEH,MAAMC,EAAsBC,UAC1B,IAAKX,EAAYY,OAAQ,OACzBR,GAAa,GACbN,EAAS,MAET,MAAMe,QAAeC,EAAAA,EAAAA,IAAed,GAGpC,GAFAI,GAAa,IAERS,EAAOE,QAEV,YADAjB,EAASe,EAAOG,OAIlB,MAAMC,EAASJ,EAAOK,KAChBC,EAAU,CACd/D,MAAO6D,EAAO7D,MACdsC,YAAauB,EAAOvB,YACpBnB,OAAQ0C,EAAO1C,QAAU,cACzBsB,SAAUoB,EAAOpB,SACjBlB,UAAWsC,EAAOtC,WAAa,IAIjCoB,IACA3B,EAAS,kBAAmB,CAAEgD,MAAO,CAAEjD,KAAMgD,IAAY,EAU3D,OACErD,EAAAA,EAAAA,MAAA,OAAKL,UAAU,aAAYI,SAAA,EACzBC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,qBAAoBI,SAAA,EACjCL,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYI,SAAC,yBAC9BL,EAAAA,EAAAA,KAAA,YACE6D,IAAKhB,EACL5C,UAAU,eACV6D,KAAM,EACNC,MAAOvB,EACPwB,SAAWzD,GAAMkC,EAAelC,EAAE0D,OAAOF,OACzCG,UAjBgB3D,IACR,UAAVA,EAAE4D,KAAoB5D,EAAE6D,WAC1B7D,EAAE8D,iBACFnB,IACF,EAcMoB,YAAY,sFACZC,SAAU5B,KAEZrC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,yBAAwBI,SAAA,EACrCL,EAAAA,EAAAA,KAAA,SAAAK,SAAO,eACN,CACC,mDACA,4CACA,wDACAmE,KAAKC,IACLzE,EAAAA,EAAAA,KAAA,UAEEC,UAAU,kBACVG,QAASA,IAAMqC,EAAegC,GAC9BF,SAAU5B,EAAUtC,SAEnBoE,GALIA,YAWbnE,EAAAA,EAAAA,MAAA,OAAKL,UAAU,gBAAeI,SAAA,EAC5BL,EAAAA,EAAAA,KAAA,UACEC,UAAU,oBACVG,QAASmC,EACTgC,SAAU5B,EAAUtC,SACrB,YAGDL,EAAAA,EAAAA,KAAA,UACEC,UAAU,kBACVG,QAAS8C,EACTqB,UAAW/B,EAAYY,QAAUT,EAAUtC,SAE1CsC,GACCrC,EAAAA,EAAAA,MAAAoE,EAAAA,SAAA,CAAArE,SAAA,EACEL,EAAAA,EAAAA,KAAA,QAAMC,UAAU,0CAAgD,IAAI,oBAItEK,EAAAA,EAAAA,MAAAoE,EAAAA,SAAA,CAAArE,SAAA,EACEL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,qBAAuB,2BAKxC,ECpGG0E,EAA+BA,CAACxD,EAAWkB,KACtD,IAAKuC,MAAMC,QAAQ1D,KAAekB,EAAU,OAAOlB,EAEnD,MAAM2D,EAAe,IAAIC,KAAK1C,GAE9B,OAAOlB,EAAUqD,KAAKjD,IAEpB,GAAIA,EAAEyD,eAAiBzD,EAAE0D,WAAY,OAAO1D,EAG5C,GAAIA,EAAE0D,WAAY,CAChB,MAAMA,EAAa,IAAIF,KAAKxD,EAAE0D,YAC9B,IAAKC,MAAMD,EAAWE,YAAcF,EAAaH,EAAc,CAC7D,MAAMM,GAAaN,EAAeG,GAAU,KAC5C,OAAAI,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAY9D,GAAC,IAAEyD,aAAcI,GAC/B,CACF,CAGA,OAAO7D,CAAC,GACR,ECqEJ,EA7FoB9B,IAA2B,IAAD6F,EAAAC,EAAAC,EAAAC,EAAA,IAAzB,IAAEC,EAAG,KAAEC,EAAI,MAAEjG,GAAOD,EACvC,MAAMmG,EAAaD,EAAKE,OAIlBC,IAFW,QAAdR,EAAAK,EAAKI,iBAAS,IAAAT,GAAK,QAALC,EAAdD,EAAiB,UAAE,IAAAC,OAAL,EAAdA,EAAqBS,gBAAiB,MACzB,QAAbR,EAAAG,EAAKM,gBAAQ,IAAAT,GAAK,QAALC,EAAbD,EAAgB,UAAE,IAAAC,OAAL,EAAbA,EAAoBO,gBAAiB,KACJ,IAkCpC,OACE1F,EAAAA,EAAAA,MAAA,OAAKL,UAAS,gBAAAS,OAAkBgF,EAAIvF,MAAOE,SAAA,EACzCL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBI,SACf,SAAbqF,EAAIvF,KACHyF,GACE5F,EAAAA,EAAAA,KAAA,OACEkG,IAAKN,EACLO,IAAI,OACJpE,MAAO,CACLqE,MAAO,OACPC,OAAQ,OACRC,aAAc,MACdC,UAAW,YAIfvG,EAAAA,EAAAA,KAAA,OACE+B,MAAO,CACLqE,MAAO,OACPC,OAAQ,OACRC,aAAc,MACdtE,gBAA2B,SAAVtC,EAAmB,UAAY,UAChDuC,MAAiB,SAAVvC,EAAmB,UAAY,UACtC8G,WAAY,OACZC,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,SAAU,WACVvG,SAEDyF,KAIL9F,EAAAA,EAAAA,KAAA,KAAGC,UAAU,mBAGjBD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kBAAiBI,UAC9BC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,eAAcI,SAAA,EAC3BL,EAAAA,EAAAA,KAAA,QAAM+B,MAAO,CAAE8E,aAAc,OAAQJ,QAAS,SAAUpG,SACrDqF,EAAIoB,WAEPxG,EAAAA,EAAAA,MAAA,OAAKL,UAAU,eAAcI,SAAA,CAzEjB0G,KAClB,MAAMC,EAAO,IAAIjC,KAAKgC,GAChBE,EAAM,IAAIlC,KACVmC,GAAeD,EAAMD,GAAI,KAG/B,OAAIE,EAAc,IAAMF,EAAKG,YAAcF,EAAIE,UACtCH,EAAKI,mBAAmB,GAAI,CACjCC,KAAM,UACNC,OAAQ,YAKRJ,EAAc,IAAMF,EAAKG,YAAcF,EAAIE,UAAY,EACnD,aAANzG,OAAoBsG,EAAKI,mBAAmB,GAAI,CAC9CC,KAAM,UACNC,OAAQ,aAKLN,EAAKO,mBAAmB,GAAI,CACjCC,MAAO,QACPC,IAAK,YACF,IAAMT,EAAKI,mBAAmB,GAAI,CACrCC,KAAM,UACNC,OAAQ,WACR,EA8COI,CAAWhC,EAAIqB,WACF,SAAbrB,EAAIvF,OACHH,EAAAA,EAAAA,KAAA,KAAGC,UAAU,kBAAkB8B,MAAO,CAAE6E,SAAU,uBAKtD,E,6BCnFV,MAAMe,EAAgB,CACpB,CAAE5D,MAAO,EAAG6D,MAAO,QACnB,CAAE7D,MAAO,GAAI6D,MAAO,SACpB,CAAE7D,MAAO,IAAK6D,MAAO,WAGvB,SAASC,EAAiBC,GACxB,OAAIA,EAAI,EAAS,GAANpH,OAAUqH,KAAKC,MAAU,GAAJF,GAAO,QACnCG,OAAOC,UAAUJ,GAAU,GAANpH,OAAUoH,EAAC,OAAApH,OAAMoH,EAAI,EAAI,IAAM,IAClD,GAANpH,OAAUoH,EAAC,OACb,CAEA,MA4WA,EA5WiBrI,IAOV,IAPW,MAChBC,EAAK,KACLiB,EAAI,SACJwH,EAAQ,UACRC,GAAY,EAAK,OACjBC,EAASA,OAAQ,SACjBtI,EAAWA,QACZN,EACC,MAAO6I,EAAWC,IAAgB7F,EAAAA,EAAAA,UAAS0F,IACpCI,EAAWC,IAAgB/F,EAAAA,EAAAA,UAAS/B,EAAKf,QACzC8I,EAAiBC,IAAsBjG,EAAAA,EAAAA,UAAS/B,EAAKuB,cACrD0G,EAAYC,IAAiBnG,EAAAA,EAAAA,UAAS/B,EAAKI,SAC3C+H,EAAcC,IAAmBrG,EAAAA,EAAAA,UAAS/B,EAAK0B,UAAY,OAC3D2G,EAAeC,IAAoBvG,EAAAA,EAAAA,UACxCkC,MAAMC,QAAQlE,EAAKQ,WAAaR,EAAKQ,UAAY,KAE5C+H,EAAiBC,IAAsBzG,EAAAA,EAAAA,WAAS,IAChDC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,GACrC0G,GAAUtG,EAAAA,EAAAA,QAAO,OAGvBC,EAAAA,EAAAA,YAAU,KACJ6B,MAAMC,QAAQlE,EAAKQ,YAAcR,EAAKQ,UAAUC,OAAS,GAC3D6H,EAAiBtI,EAAKQ,UACxB,GACC,CAACR,EAAKQ,YAET,MAAMkI,GAAeC,EAAAA,EAAAA,cAAY,KAC/Bb,EAAa9H,EAAKf,OAClB+I,EAAmBhI,EAAKuB,aACxB2G,EAAclI,EAAKI,QACnBgI,EAAgBpI,EAAK0B,UAAY,MACjC4G,EAAiBrE,MAAMC,QAAQlE,EAAKQ,WAAaR,EAAKQ,UAAY,IAClEiH,EAAYrI,EAASY,EAAKmB,IAAMyG,GAAa,EAAM,GAClD,CACD5H,EAAKf,MACLe,EAAKuB,YACLvB,EAAKI,OACLJ,EAAK0B,SACL1B,EAAKQ,UACLiH,EACArI,EACAY,EAAKmB,MAGPiB,EAAAA,EAAAA,YAAU,KACR,MAAMwG,EAAsBhJ,IACtB+H,GAAac,EAAQpG,UAAYoG,EAAQpG,QAAQwG,SAASjJ,EAAE0D,SAC9DoF,GACF,EAGF,OADAI,SAASC,iBAAiB,YAAaH,GAChC,IAAME,SAASE,oBAAoB,YAAaJ,EAAmB,GACzE,CAACjB,EAAWe,IAEf,MAmHMvI,EAXiBC,KACrB,OAAQA,GACN,IAAK,YACH,MAAO,UACT,IAAK,cACH,MAAO,UACT,QACE,MAAO,UACX,EAGiBC,CAAcL,EAAKI,QAChC6I,EACJd,GAAgB,IAAI/D,KAAK+D,GAAgB,IAAI/D,KAoBzC9D,EAjBqBC,MACzB,IAAK8H,GAA0C,IAAzBA,EAAc5H,OAAc,OAAO,KAEzD,MAAMC,EAAa2H,EAAc1H,QAAQC,GAAiB,UAAXA,EAAEd,OAAkBW,OAC7DI,EAAcwH,EAAc1H,QAAQC,GAAiB,WAAXA,EAAEd,OAAmBW,OAC/DK,EAAeuH,EAAc1H,QAChCC,GAAiB,aAAXA,EAAEd,OAAwBc,EAAEd,OACnCW,OAEIM,EAAQ,GAKd,OAJIL,EAAa,GAAGK,EAAMC,KAAK,UAADjB,OAAWW,EAAU,MAC/CG,EAAc,GAAGE,EAAMC,KAAK,WAADjB,OAAYc,EAAW,MAClDC,EAAe,GAAGC,EAAMC,KAAK,aAADjB,OAAce,EAAY,MAEnDC,EAAMN,OAAS,EAAIM,EAAME,KAAK,MAAQ,IAAI,EAG3BV,GAExB,OACEZ,EAAAA,EAAAA,MAAAoE,EAAAA,SAAA,CAAArE,SAAA,EACEC,EAAAA,EAAAA,MAAA,OACEuD,IAAKuF,EACLnJ,UAAS,aAAAS,OAAyB,SAAVhB,EAAmB,OAAS,GAAE,KAAAgB,OACpDiC,EAAY,UAAY,GAAE,KAAAjC,OACxB0H,EAAY,WAAa,IAC7BhI,QAASA,KAAOkI,GAAaC,GAAa,GAAMlI,SAAA,EAEhDL,EAAAA,EAAAA,KAAA,OACEC,UAAU,aACV8B,MAAO,CAAEC,gBAAiBlB,MAG5BR,EAAAA,EAAAA,MAAA,OAAKL,UAAU,oBAAmBI,SAAA,EAC9BiI,IACAtI,EAAAA,EAAAA,KAAA,KACEC,UAAS,MAAAS,OACS,cAAhBC,EAAKI,OACD,kBACgB,gBAAhBJ,EAAKI,OACL,eACA,SAAQ,gBAEdgB,MAAO,CAAEE,MAAOnB,KAInBwH,GACChI,EAAAA,EAAAA,MAAA,OAAKL,UAAU,iBAAgBI,SAAA,EAC7BC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,6BAA4BI,SAAA,EACzCL,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYI,SAAC,WAC9BL,EAAAA,EAAAA,KAAA,SACES,KAAK,OACLR,UAAU,eACV8D,MAAOyE,EACPxE,SAAWzD,GAAMkI,EAAalI,EAAE0D,OAAOF,OACvCO,YAAY,4BAIhBhE,EAAAA,EAAAA,MAAA,OAAKL,UAAU,6BAA4BI,SAAA,EACzCL,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYI,SAAC,iBAC9BL,EAAAA,EAAAA,KAAA,YACEC,UAAU,eACV6D,KAAM,EACNC,MAAO2E,EACP1E,SAAWzD,GAAMoI,EAAmBpI,EAAE0D,OAAOF,OAC7CO,YAAY,kCAIhBhE,EAAAA,EAAAA,MAAA,OAAKL,UAAU,kBAAiBI,SAAA,EAC9BL,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYI,SAAC,YAC9BC,EAAAA,EAAAA,MAAA,UACEL,UAAU,cACV8D,MAAO6E,EACP5E,SAAWzD,GAAMsI,EAActI,EAAE0D,OAAOF,OAAO1D,SAAA,EAE/CL,EAAAA,EAAAA,KAAA,UAAQ+D,MAAM,cAAa1D,SAAC,iBAC5BL,EAAAA,EAAAA,KAAA,UAAQ+D,MAAM,cAAa1D,SAAC,iBAC5BL,EAAAA,EAAAA,KAAA,UAAQ+D,MAAM,YAAW1D,SAAC,qBAI9BC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,kBAAiBI,SAAA,EAC9BL,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYI,SAAC,cAC9BL,EAAAA,EAAAA,KAAA,SACES,KAAK,iBACLR,UAAU,eACV8D,MAAO+E,GAAee,EAAAA,EAAAA,IAAoBf,GAAgB,GAC1D9E,SAAWzD,GAAMwI,EAAgBxI,EAAE0D,OAAOF,YAI7C6F,IACC5J,EAAAA,EAAAA,KAAA,OAAKC,UAAU,6BAA4BI,UACzCL,EAAAA,EAAAA,KAAC8J,EAAAA,EAAa,CACZhB,aAAcA,EACdE,cAAeA,EACfC,iBAAkBA,EAClBvJ,MAAOA,EACPiI,cAAeA,EACfE,iBAAkBA,UAM1BvH,EAAAA,EAAAA,MAAAoE,EAAAA,SAAA,CAAArE,SAAA,EACEL,EAAAA,EAAAA,KAAA,MAAIC,UAAU,aAAa8B,MAAO,CAAEE,MAAOnB,GAAaT,SACrDmI,KAEHxI,EAAAA,EAAAA,KAAA,KAAGC,UAAU,mBAAkBI,SAAEqI,QAIrCpI,EAAAA,EAAAA,MAAA,OAAKL,UAAU,gBAAeI,SAAA,EAC5BC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,qBAAoBI,SAAA,EACjCL,EAAAA,EAAAA,KAAA,UAAAK,SAAQ,aACRL,EAAAA,EAAAA,KAAA,QAAAK,UAAO8B,EAAAA,EAAAA,IAAmBxB,EAAKyB,iBAEjC9B,EAAAA,EAAAA,MAAA,OAAKL,UAAU,qBAAoBI,SAAA,EACjCL,EAAAA,EAAAA,KAAA,UAAAK,SAAQ,cACRL,EAAAA,EAAAA,KAAA,QAAAK,SACGM,EAAK0B,UACFF,EAAAA,EAAAA,IAAmBxB,EAAK0B,UACxB,0BAKTiG,IACChI,EAAAA,EAAAA,MAAA,OAAKL,UAAU,eAAcI,SAAA,EACzB+H,IACApI,EAAAA,EAAAA,KAAA,UACEC,UAAS,OAAAS,OACG,SAAVhB,EAAmB,qBAAuB,iBAE5CU,QAAUG,IACRA,EAAEC,kBA1KO2I,GAAmB,EA2Kd,EAEhB5E,SAAU5B,EAAUtC,SAEnBsC,EAAY,cAAgB,YAGjC3C,EAAAA,EAAAA,KAAA,UACEC,UAAS,OAAAS,OACG,SAAVhB,EAAmB,oBAAsB,YAE3CU,QAAUG,IACRA,EAAEC,kBAhRC2C,WACjB,IAAKqF,EAAUpF,SAAWsF,EAAgBtF,OAAQ,OAWlD,GATAR,GAAa,KAGX4F,IAAc7H,EAAKf,OACnB8I,IAAoB/H,EAAKuB,aACzB0G,IAAejI,EAAKI,QACpB+H,IAAiBnI,EAAK0B,UACtB0H,KAAKC,UAAUhB,KAAmBe,KAAKC,UAAUrJ,EAAKQ,cAEvCiH,EAGf,OAFAG,GAAa,QACb3F,GAAa,GAIf,MAAMqE,EAAM,IAAIlC,KACVD,EAAegE,EAAe,IAAI/D,KAAK+D,GAAgB,KACvD5B,EACJpC,GAAgBA,EAAemC,GAC1BnC,EAAemC,GAAG,KACnB,EAsCAgD,EACJ/C,EAAc,EArCsB/F,KACpC,MAAM+I,EAAW/I,EAAUgJ,MAAM5I,GAAiB,UAAXA,EAAEd,OACnC2J,EAAYjJ,EAAUgJ,MAAM5I,GAAiB,WAAXA,EAAEd,OAE1C,IAAI4J,EAAoBlJ,EAAUG,QAC/BC,IACa,aAAXA,EAAEd,OAAwBc,EAAEd,OAASc,EAAEyD,cAAgBkC,IAG5D,GAAIgD,GAAYhD,EAAc,EAAG,CAC/B,MAAMoD,EAAUvC,KAAKwC,MAAMrD,EAAc,IACzC,IAAK,IAAIO,EAAM,EAAGA,GAAO6C,EAAS7C,IAChC4C,EAAkB1I,KAAK,CACrBqD,aAAoB,GAANyC,EACd+C,MAAM,EACN/J,KAAM,QACNgK,UAAWhD,GAGjB,CAEA,GAAI2C,GAAalD,EAAc,EAAG,CAChC,MAAMwD,EAAW3C,KAAKwC,MAAMrD,EAAW,KACvC,IAAK,IAAIyD,EAAO,EAAGA,GAAQD,EAAUC,IACnCN,EAAkB1I,KAAK,CACrBqD,aAAqB,GAAP2F,EAAY,EAC1BH,MAAM,EACN/J,KAAM,SACNmK,WAAYD,GAGlB,CAEA,OAAON,CAAiB,EAINQ,CAA6B7B,GAAiB,GAE5D8B,EAAkB,CACtBlL,MAAO4I,EAAUpF,OACjBlB,YAAawG,EAAgBtF,OAC7BrC,OAAQ6H,EACRvG,SAAUyG,EAAehE,EAAaiG,cAAgB,KACtD5J,UAAW8I,GAGb,IACE,GAAI7B,EACFC,GAAMhD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI1E,GAASmK,QAChB,CACL,MAAME,QAAiBC,EAAAA,EAAAA,IAAWtK,EAAKmB,GAAIgJ,GAC3C3C,GAAU+C,GACRA,EAAK1G,KAAK2G,GAAOA,EAAErJ,KAAOkJ,EAAStH,KAAK5B,GAAKkJ,EAAStH,KAAOyH,MAE/D5C,GAAa,EACf,CACF,CAAE,MAAO/E,GACP4H,QAAQ5H,MAAM,uBAAwBA,EACxC,CAAC,QACCZ,GAAa,EACf,GA2LcyI,EAAY,EAEd9G,UACGiE,EAAUpF,SAAWsF,EAAgBtF,QAAUT,EACjDtC,SAEAsC,EAAY,YAAc,aAM/B2F,GAAarH,IACbX,EAAAA,EAAAA,MAAA,OACEL,UAAU,qBACVL,MAAK,cAAAc,OAAgBO,GAAkBZ,SAAA,EAEvCL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,iBACbD,EAAAA,EAAAA,KAAA,SAAAK,SAAQY,cAMhBjB,EAAAA,EAAAA,KAACsL,EAAAA,EAAiB,CAChB5L,MAAOA,EACPC,KAAMuJ,EACNtJ,MAAM,cACNC,QAAQ,2EACRC,UApNgBqD,UACpBP,GAAa,GACb,UACQ2I,EAAAA,EAAAA,IAAW5K,EAAKmB,IACtBqG,GAAU+C,GAASA,EAAK5J,QAAQ6J,GAAMA,EAAErJ,KAAOnB,EAAKmB,OACpDqH,GAAmB,EACrB,CAAE,MAAO3F,GACP4H,QAAQ5H,MAAM,uBAAwBA,EACxC,CAAC,QACCZ,GAAa,GACbuG,GAAmB,EACrB,GA0MIpJ,SAAUA,IAAMoJ,GAAmB,OAEpC,EC9WDqC,EAAmB,kBA4WzB,EA1WiB/L,IAAwC,IAAvC,SAAE6C,EAAQ,MAAE5C,EAAK,aAAE+L,GAAchM,EACjD,MAAM,KAAEkG,IAAS+F,EAAAA,EAAAA,MAGVC,EAAcC,IAAmBlJ,EAAAA,EAAAA,WAAS,KAC/C,IACE,MAAMmJ,EAAQC,aAAaC,QAAQP,GACnC,OAAOK,EAAQ9B,KAAKiC,MAAMH,GAAS,EACrC,CAAE,MAAOrI,GAEP,OADA4H,QAAQ5H,MAAM,8BAA+BA,GACtC,EACT,MAGKyI,EAAWC,IAAgBxJ,EAAAA,EAAAA,UAAS,KACpCC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,IACpCyJ,EAAaC,IAAkB1J,EAAAA,EAAAA,UAAS,MACzC2J,GAAavJ,EAAAA,EAAAA,QAAO,MACpBD,GAAWC,EAAAA,EAAAA,QAAO,OAExBC,EAAAA,EAAAA,YAAU,KACJF,EAASG,SAASH,EAASG,QAAQC,OAAO,GAC7C,KAEHF,EAAAA,EAAAA,YAAU,KAAO,IAADuJ,EACI,QAAlBA,EAAAD,EAAWrJ,eAAO,IAAAsJ,GAAlBA,EAAoBC,eAAe,CAAEC,SAAU,UAAW,GACzD,CAACb,EAAcQ,KAGlBpJ,EAAAA,EAAAA,YAAU,KACR,IACE+I,aAAaW,QAAQjB,EAAkBzB,KAAKC,UAAU2B,GACxD,CAAE,MAAOnI,GACP4H,QAAQ5H,MAAM,6BAA8BA,EAC9C,IACC,CAACmI,IAKJ,MAAMe,EAAiBvJ,UACrB,IAAK8I,EAAU7I,OAAQ,OAEvB,MAAMuJ,EAAc,CAClBxM,KAAM,OACN2G,QAASmF,EAAU7I,OACnB2D,WAAW,IAAIhC,MAAOgG,eAGxBa,GAAiBV,GAAS,IAAIA,EAAMyB,KACpCT,EAAa,IACbtJ,GAAa,GACbN,EAAS,MAET,MAAMsK,EAAsBjB,EAAanH,KAAKkB,IAAG,CAC/CvF,KAAMuF,EAAIvF,KACV2G,QAASpB,EAAIoB,YAGTzD,QAAewJ,EAAAA,EAAAA,IACnBF,EAAY7F,QACZ8F,GAIF,GADAhK,GAAa,IACRS,EAAOE,QAEV,YADAjB,EAASe,EAAOG,OAIlB,MAAM,MAAEsJ,EAAK,cAAEC,GAAkB1J,EAAOK,KAEpCqJ,GAAiBA,EAAc5L,YACjC4L,EAAc5L,UAAYwD,EACxBoI,EAAc5L,UACd4L,EAAc1K,WAKlBuJ,GAAiBV,GAAS,IACrBA,EACH,CACE/K,KAAM,YACN2G,QAASgG,EACT/F,WAAW,IAAIhC,MAAOgG,kBAKtBgC,GACFX,GAAc/G,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACX0H,GAAa,IAChBC,cAAc,EACdC,SAC2B,WAAzBF,EAAcG,QACW,WAAzBH,EAAcG,OAChB9E,UAAoC,WAAzB2E,EAAcG,QAAuBH,EAAc3E,UAC9DhG,UAAW2K,EAAc3K,YAAa,IAAI2C,MAAOgG,cACjDoC,WAAW,IAAIpI,MAAOgG,gBAE1B,EAgDIqC,EAAsBjK,UAC1B,IACE,IAAKxC,EAAM,OACXiC,GAAa,GACbN,EAAS,MAGT,MAAM+K,EAAsB1I,EAC1BhE,EAAKQ,WAAa,GAClBR,EAAK0B,UAGP,IAAIiL,EAAgB,GAEA,WAAhB3M,EAAKuM,cACD3B,EAAAA,EAAAA,IAAW5K,EAAKmB,IACtBwL,EAAa,oCAAA5M,OAAwBC,EAAKf,MAAK,OACtB,WAAhBe,EAAKuM,cACRK,EAAAA,EAAAA,IAAW,CACf3N,MAAOe,EAAKf,MACZsC,YAAavB,EAAKuB,YAClBnB,OAAQJ,EAAKI,OACbsB,SAAU1B,EAAK0B,SACflB,UAAWkM,IAEbC,EAAa,4BAAA5M,OAA0BC,EAAKf,MAAK,cAE3CqL,EAAAA,EAAAA,IAAWtK,EAAKmB,GAAI,CACxBlC,MAAOe,EAAKf,MACZsC,YAAavB,EAAKuB,YAClBnB,OAAQJ,EAAKI,OACbsB,SAAU1B,EAAK0B,SACflB,UAAWkM,IAEbC,EAAa,wBAAA5M,OAAsBC,EAAKf,MAAK,aAGzC6L,IACNW,EAAe,MACfR,GAAiBV,GAAS,IACrBA,EACH,CACE/K,KAAM,YACN2G,QAASwG,EACTvG,WAAW,IAAIhC,MAAOgG,iBAG5B,CAAE,MAAOvH,GACP4H,QAAQ5H,MAAM,4BAA6BA,GAC3ClB,EAAS,0BACX,CAAC,QACCM,GAAa,EACf,GAGI4K,EAAsBA,IAAMpB,EAAe,MA0BjD,OACE9L,EAAAA,EAAAA,MAAA,OAAKL,UAAU,YAAWI,SAAA,EACxBC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,gBAAeI,SAAA,CAEH,IAAxBsL,EAAavK,QAAiB+K,EAO7BR,EAAanH,KAAI,CAACkB,EAAK+H,KACrBzN,EAAAA,EAAAA,KAAC0N,EAAW,CAAahI,IAAKA,EAAKC,KAAMA,EAAMjG,MAAOA,GAApC+N,MAPpBnN,EAAAA,EAAAA,MAAA,OAAKL,UAAU,mBAAkBI,SAAA,EAC/BL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBACbD,EAAAA,EAAAA,KAAA,KAAAK,SAAG,kCACHL,EAAAA,EAAAA,KAAA,SAAAK,SAAO,wDASV8L,IACC7L,EAAAA,EAAAA,MAAA,OAAKL,UAAU,yBAAwBI,SAAA,EACrCL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBI,UAC7BL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,mBAEfD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBAAuBI,SACZ,WAAvB8L,EAAYe,QACX5M,EAAAA,EAAAA,MAAA,OACEL,UAAS,iCAAAS,OACG,SAAVhB,EACI,qBACA,sBACHW,SAAA,EAEHC,EAAAA,EAAAA,MAAA,MAAIL,UAAU,OAAMI,SAAA,CAAC,uCACCL,EAAAA,EAAAA,KAAA,UAAAK,SAAS8L,EAAYvM,QAAe,QAE1DU,EAAAA,EAAAA,MAAA,OAAKL,UAAU,eAAcI,SAAA,EAC3BL,EAAAA,EAAAA,KAAA,UACEC,UAAU,wBACVG,QAASA,IAAMgN,EAAoBjB,GACnC5H,SAAU5B,EAAUtC,SAEnBsC,EAAY,cAAgB,YAE/B3C,EAAAA,EAAAA,KAAA,UACEC,UAAU,2BACVG,QAASoN,EACTjJ,SAAU5B,EAAUtC,SACrB,kBAMLL,EAAAA,EAAAA,KAAC2N,EAAQ,CACPjO,MAAOA,EACPiB,MAAI0E,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACC8G,GAAW,IACdvM,MAAOuM,EAAYvM,OAAS,GAC5BsC,YAAaiK,EAAYjK,aAAe,GACxCf,UAAWyD,MAAMC,QAAQsH,EAAYhL,WACjCgL,EAAYhL,UACZ,KAENiH,WAAW,EACXC,OAAQ+E,EACRrN,SAAUyN,SAQnB7K,IACCrC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,yBAAwBI,SAAA,EACrCL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBI,UAC7BL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,mBAEfD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kBAAiBI,UAC9BC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,mBAAkBI,SAAA,EAC/BL,EAAAA,EAAAA,KAAA,YACAA,EAAAA,EAAAA,KAAA,YACAA,EAAAA,EAAAA,KAAA,oBAMRA,EAAAA,EAAAA,KAAA,OAAK6D,IAAKwI,QAIZ/L,EAAAA,EAAAA,MAAA,OAAKL,UAAU,uBAAsBI,SAAA,EACnCL,EAAAA,EAAAA,KAAA,SACE6D,IAAKhB,EACLpC,KAAK,OACLR,UAAU,eACV8D,MAAOkI,EACPjI,SAAWzD,GAAM2L,EAAa3L,EAAE0D,OAAOF,OACvCG,UA5GgB3D,IACR,UAAVA,EAAE4D,KAAoB5D,EAAE6D,WAC1B7D,EAAE8D,iBACFqI,IACF,EAyGMpI,YAAY,uBACZC,SAAU5B,KAEZ3C,EAAAA,EAAAA,KAAA,UACEC,UAAU,cACVG,QAASsM,EACTnI,UAAW0H,EAAU7I,QAAUT,EAAUtC,UAEzCL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,0BAKjBK,EAAAA,EAAAA,MAAA,OAAKL,UAAU,eAAcI,SAAA,EAC3BC,EAAAA,EAAAA,MAAA,UACEL,UAAU,mCACVG,QAxIUwN,KAChBhC,EAAgB,IAChBtJ,EAAS,MACT8J,EAAe,MACf,IACEN,aAAa+B,WAAWrC,EAC1B,CAAE,MAAOhI,GACP4H,QAAQ5H,MAAM,+BAAgCA,EAChD,GAiIMe,SAAU5B,GAAqC,IAAxBgJ,EAAavK,OAAaf,SAAA,EAEjDL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,+BAAiC,kBAEhDK,EAAAA,EAAAA,MAAA,UACEL,UAAU,yBACVG,QArPuB+C,UAC7B,GAA4B,IAAxBwI,EAAavK,OAEf,YADAkB,EAAS,+CAIXM,GAAa,GACbN,EAAS,MAET,MAAMwL,EAAsBnC,EACzBnH,KACEkB,GAAG,GAAAhF,OAAqB,SAAbgF,EAAIvF,KAAkB,OAAS,YAAW,MAAAO,OAAKgF,EAAIoB,WAEhElF,KAAK,MAEFmM,EAAgB,iDAAArN,OAAoDoN,EAAmB,uEAEvFzK,QAAeC,EAAAA,EAAAA,IAAeyK,GAGpC,GAFAnL,GAAa,IAERS,EAAOE,QAEV,YADAjB,EAASe,EAAOG,OAIlB,MAAMC,EAASJ,EAAOK,KACtB0I,GAAc/G,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACX5B,GAAM,IACT3B,GAAG,QAADpB,OAAUqE,KAAKkC,OACjBlG,OAAQ0C,EAAO1C,QAAU,cACzBqB,WAAW,IAAI2C,MAAOgG,cACtBoC,WAAW,IAAIpI,MAAOgG,cACtBiD,SAAU,EACVhB,cAAc,EACd5E,WAAW,EACX8E,OAAQ,WACR,EAkNI3I,SAAU5B,GAAqC,IAAxBgJ,EAAavK,OAAaf,SAAA,EAEjDL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,qBAAuB,yBAGpC,EC5VV,EAxByBR,IAAA,IAAC,MAAEC,EAAK,KAAEiB,EAAI,QAAE4B,EAAO,OAAE8F,GAAQ5I,EAAA,OACxDO,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qBAAqBG,QAASmC,EAAQlC,UACnDC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,mBAAmBG,QAAUG,GAAMA,EAAEC,kBAAkBH,SAAA,EACpEC,EAAAA,EAAAA,MAAA,MAAIL,UAAU,OAAMI,SAAA,EAClBL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,cAAgB,oBAG/BD,EAAAA,EAAAA,KAAC2N,EAAQ,CACPjO,MAAOA,EACPiB,KAAMA,EACNyH,WAAW,EACXC,OAAQA,EACRtI,SAAUwC,KAGZvC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeI,UAC5BL,EAAAA,EAAAA,KAAA,UAAQC,UAAU,oBAAoBG,QAASmC,EAAQlC,SAAC,iBAKxD,ECwJR,EAzKoBZ,IAMb,IANc,KACnBE,EAAI,QACJ4C,EAAO,gBACP0L,EAAe,MACfvO,EAAK,aACL+L,GACDhM,EACC,MAAOyO,EAAMC,IAAWzL,EAAAA,EAAAA,UAAS,UAC1ByJ,EAAaC,IAAkB1J,EAAAA,EAAAA,UAAS,OACxCc,EAAOlB,IAAYI,EAAAA,EAAAA,UAAS,OAC5B0L,EAAWC,IAAgB3L,EAAAA,EAAAA,WAAS,IAG3CK,EAAAA,EAAAA,YAAU,KACR,IACE,MAAMuL,EAAYxC,aAAaC,QAAQ,iBACnCuC,GAA4B,UAAdA,GAAuC,SAAdA,GACzCH,EAAQG,EAEZ,CAAE,MAAO9K,GACP4H,QAAQ5H,MAAM,2BAA4BA,EAC5C,IACC,KAGHT,EAAAA,EAAAA,YAAU,KACR,IACE+I,aAAaW,QAAQ,eAAgByB,EACvC,CAAE,MAAO1K,GACP4H,QAAQ5H,MAAM,0BAA2BA,EAC3C,IACC,CAAC0K,KAGJnL,EAAAA,EAAAA,YAAU,KACR,MAAMwL,EAAgBhO,IACN,WAAVA,EAAE4D,KAAoBxE,IAASwM,GACjCqC,GACF,EASF,OANI7O,IACF8J,SAASC,iBAAiB,UAAW6E,GAErC9E,SAASgF,KAAK1M,MAAM2M,SAAW,UAG1B,KACLjF,SAASE,oBAAoB,UAAW4E,GACxC9E,SAASgF,KAAK1M,MAAM2M,SAAW,OAAO,CACvC,GACA,CAAC/O,EAAMwM,IAEV,MAAMqC,EAAcA,KAClBH,GAAa,GAEbM,YAAW,KACTN,GAAa,GACb/L,EAAS,MACTC,GAAS,GACR,IAAI,EAST,OAAK5C,GAASyO,GAGZ9N,EAAAA,EAAAA,MAAA,OACEL,UAAS,oBAAAS,OAAsB0N,EAAY,UAAY,IACvDhO,QAXwBG,IACtBA,EAAE0D,SAAW1D,EAAEqO,eAAkBzC,GACnCqC,GACF,EAQ8BnO,SAAA,EAE5BC,EAAAA,EAAAA,MAAA,OACEL,UAAS,oBAAAS,OAAgC,SAAVhB,EAAmB,YAAc,GAAE,KAAAgB,OAAI0N,EAAY,UAAY,IAC9FhO,QAAUG,GAAMA,EAAEC,kBAAkBH,SAAA,EAGpCC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,kBAAiBI,SAAA,EAC9BC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EACEL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gBAAkB,yBAEjCD,EAAAA,EAAAA,KAAA,UACEC,UAAU,eACVG,QAASoO,EACT,aAAW,qBAAoBnO,UAE/BL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,qBAKjBK,EAAAA,EAAAA,MAAA,OAAKL,UAAU,mBAAkBI,SAAA,EAC/BC,EAAAA,EAAAA,MAAA,UACEL,UAAS,eAAAS,OAA0B,UAATwN,EAAmB,SAAW,IACxD9N,QAASA,IAAM+N,EAAQ,SACvB,eAAuB,UAATD,EAAiB7N,SAAA,EAE/BL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,2BAA6B,aAE5CK,EAAAA,EAAAA,MAAA,UACEL,UAAS,eAAAS,OAA0B,SAATwN,EAAkB,SAAW,IACvD9N,QAASA,IAAM+N,EAAQ,QACvB,eAAuB,SAATD,EAAgB7N,SAAA,EAE9BL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,oBAAsB,cAKtCuD,IACClD,EAAAA,EAAAA,MAAA,OAAKL,UAAU,eAAcI,SAAA,EAC3BL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,+BAAiC,IAAEuD,GAChDxD,EAAAA,EAAAA,KAAA,UACEI,QAASA,IAAMkC,EAAS,MACxBP,MAAO,CACL8M,WAAY,OACZC,WAAY,OACZC,OAAQ,OACR9M,MAAO,UACP+M,OAAQ,UACRC,QAAS,SAEX,aAAW,gBAAe5O,UAE1BL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,oBAMT,UAATiO,GACClO,EAAAA,EAAAA,KAACkP,EAAS,CACR5M,SAAUA,EACV8J,eAAgBA,EAChB6B,gBAAiBA,EACjB1L,QAASiM,EACT9O,MAAOA,KAGTM,EAAAA,EAAAA,KAACmP,EAAQ,CACP7M,SAAUA,EACV5C,MAAOA,EACP+L,aAAcA,EACdlJ,QAASiM,OAMdrC,IACCnM,EAAAA,EAAAA,KAACoP,EAAgB,CACf1P,MAAOA,EACPiB,KAAMwL,EACN5J,QAASA,IAAM6J,EAAe,MAC9B/D,OAAS1H,IACPsN,EAAgBtN,GAChByL,EAAe,MACfoC,GAAa,OA5FS,IAgGxB,E,8BC/IV,MAAMa,EAAe5P,IAAsB,IAArB,KAAEkB,EAAI,MAAEjB,GAAOD,EACnC,MAAM,WACJ6P,EAAU,UACVC,EAAS,WACTC,EAAU,UACVC,EAAS,WACTC,EAAU,WACVC,IACEC,EAAAA,EAAAA,IAAY,CACd9N,GAAInB,EAAKmB,GACT4N,WAAY,CACVG,SAAU,IACVC,OAAQ,sCAIN/N,EAAQ,CACZ0N,UAAWM,EAAAA,GAAIC,UAAUC,SAASR,GAClCC,WACEA,GAAc,mDAChBQ,QAASP,EAAa,EAAI,EAC1BX,OAAQ,OAERmB,YAAa,gBAGf,OACEnQ,EAAAA,EAAAA,KAAA,OAAAqF,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CAAKxB,IAAK2L,EAAYzN,MAAOA,GAAWuN,GAAgBC,GAAS,IAAAlP,UAC/DL,EAAAA,EAAAA,KAACoQ,EAAQ,CAAC1Q,MAAOA,EAAOiB,KAAMA,MAC1B,EA4QV,EAvQiB0P,IAAgB,IAAf,MAAE3Q,GAAO2Q,EACzB,MAAMzP,GAAWC,EAAAA,EAAAA,OACX,KAAE8E,EAAI,OAAE2K,IAAW5E,EAAAA,EAAAA,MAClB6E,EAAOpI,IAAYzF,EAAAA,EAAAA,UAAS,OAC5B8N,EAAaC,IAAkB/N,EAAAA,EAAAA,WAAS,IACxCgO,EAAUC,IAAejO,EAAAA,EAAAA,UAAS,MAGnCkO,GAAUC,EAAAA,EAAAA,KACdC,EAAAA,EAAAA,IAAUC,EAAAA,GAAa,CACrBC,qBAAsB,CACpBC,SAAU,OAGdH,EAAAA,EAAAA,IAAUI,EAAAA,GAAa,CACrBF,qBAAsB,CACpBG,MAAO,IACPC,UAAW,MAGfN,EAAAA,EAAAA,IAAUO,EAAAA,GAAe,CACvBL,qBAAsB,CACpBC,SAAU,OAKVK,GAAYhI,EAAAA,EAAAA,cAAYnG,UAC5B,GAAIwC,EACF,IACE,MAAMqF,QAAiBuG,EAAAA,EAAAA,KACvBpJ,EAAS6C,EAAStH,KACpB,CAAE,MAAOF,GACP4H,QAAQ5H,MAAM,uBAAwBA,GAClCA,EAAMwH,UAAsC,MAA1BxH,EAAMwH,SAASjK,QAAgBuP,GACvD,CACF,GACC,CAAC3K,EAAM2K,KAEVvN,EAAAA,EAAAA,YAAU,KACRuO,GAAW,GACV,CAACA,IA6GJ,IAAKf,EAAO,OAzCVvQ,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBI,UAC7BL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBI,UAC7BC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,gBAAeI,SAAA,EAC5BC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,mFAAkFI,SAAA,EAC/FL,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kBAAiBI,SAAC,gBAChCC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,4BAA2BI,SAAA,EACxCC,EAAAA,EAAAA,MAAA,UACEL,UAAS,mBAAAS,OACG,SAAVhB,EAAmB,QAAU,OAAM,cAErC6E,UAAQ,EAAAlE,SAAA,EAERL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBACbD,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAAaI,SAAC,qBAGhCC,EAAAA,EAAAA,MAAA,UACEL,UAAS,mBAAAS,OACG,SAAVhB,EAAmB,QAAU,OAAM,oCAErC6E,UAAQ,EAAAlE,SAAA,EAERL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,uBACbD,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAAaI,SAAC,uBAKpCL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAcI,SAC1BuE,MAAM4M,KAAK,CAAEpQ,OAAQ,IAAKoD,KAAI,CAACiN,EAAGhE,KACjCnN,EAAAA,EAAAA,MAAA,OAAiBL,UAAU,oBAAmBI,SAAA,EAC5CL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yBACfD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBAFPwN,cActB,MAAMiE,EAAc,IAAInB,GAAOoB,MAAK,CAACC,EAAGC,IAAMD,EAAE5D,SAAW6D,EAAE7D,WACvD8D,EAAapB,EAAWH,EAAMwB,MAAM5G,GAAMA,EAAErJ,KAAO4O,IAAY,KAGrE,OACEpQ,EAAAA,EAAAA,MAAAoE,EAAAA,SAAA,CAAArE,SAAA,EACEL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBI,UAC7BL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBI,UAC7BC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,gBAAeI,SAAA,EAC5BC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,mFAAkFI,SAAA,EAC/FL,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kBAAiBI,SAAC,gBAChCC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,4BAA2BI,SAAA,EACxCC,EAAAA,EAAAA,MAAA,UACEL,UAAS,mBAAAS,OACG,SAAVhB,EAAmB,QAAU,OAAM,cAErCU,QAASA,IAAMqQ,GAAe,GAAMpQ,SAAA,EAEpCL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBACbD,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAAaI,SAAC,qBAGhCC,EAAAA,EAAAA,MAAA,UACEL,UAAS,mBAAAS,OACG,SAAVhB,EAAmB,QAAU,OAAM,oCAErCU,QAjFM4R,KACpBpR,EAAS,kBAAkB,EAgFUP,SAAA,EAEvBL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,uBACbD,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAAaI,SAAC,sBAKlB,IAAjBkQ,EAAMnP,QACLd,EAAAA,EAAAA,MAAA,OAAKL,UAAU,cAAaI,SAAA,EAC1BL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4CACbD,EAAAA,EAAAA,KAAA,KACEC,UAAS,QAAAS,OACG,SAAVhB,EAAmB,QAAU,QAAO,SAC9BW,SACT,kBAGDL,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYI,SAAC,kEAKhCC,EAAAA,EAAAA,MAAC2R,EAAAA,GAAU,CACTrB,QAASA,EACTsB,mBAAoBC,EAAAA,GACpBC,YAvJWC,IACvB1B,EAAY0B,EAAMC,OAAOxQ,GAAG,EAuJhByQ,UApJQpP,UACpB,MAAM,OAAEmP,EAAM,KAAEE,GAASH,EACzB1B,EAAY,MAEP6B,GAAQF,EAAOxQ,KAAO0Q,EAAK1Q,IAEhCqG,GAAUsK,IACR,MAAMC,EAAWD,EAAUE,WAAWxH,GAAMA,EAAErJ,KAAOwQ,EAAOxQ,KACtD8Q,EAAWH,EAAUE,WAAWxH,GAAMA,EAAErJ,KAAO0Q,EAAK1Q,KAE1D,IAAkB,IAAd4Q,IAAiC,IAAdE,EAAiB,OAAOH,EAE/C,MAAMI,GAAYC,EAAAA,EAAAA,IAAUL,EAAWC,EAAUE,GAG3CG,EAAiBF,EAAUrO,KAAI,CAAC7D,EAAMqS,KAC1C,MAAMC,EAAcD,EAAM,EAC1B,OAAIrS,EAAKqN,WAAaiF,GACbC,EAAAA,EAAAA,IAAmBvS,EAAKmB,GAAImR,GAAaE,OAAOC,IACrDhI,QAAQ5H,MAAM,oCAAD9C,OAAqCC,EAAKmB,GAAE,KAAKsR,EAAI,IAG/DC,QAAQC,SAAS,IAM1B,OAHAD,QAAQE,IAAIR,GAGLF,EAAUrO,KAAI,CAAC7D,EAAMqS,KAAG3N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAC1B1E,GAAI,IACPqN,SAAUgF,EAAM,KACf,GACH,EAqHUQ,aAlHWC,KACvB9C,EAAY,KAAK,EAiH0BtQ,SAAA,EAE/BL,EAAAA,EAAAA,KAAC0T,EAAAA,GAAe,CACdC,MAAOjC,EAAYlN,KAAK2G,GAAMA,EAAErJ,KAChC8R,SAAUC,EAAAA,GAAoBxT,UAE9BL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWI,SACvBqR,EAAYlN,KAAK7D,IAChBX,EAAAA,EAAAA,KAACqP,EAAY,CAAe1O,KAAMA,EAAMjB,MAAOA,GAA5BiB,EAAKmB,WAK9B9B,EAAAA,EAAAA,KAAC8T,EAAAA,GAAW,CACVC,aAAa,EACbC,cAAe,CACbnE,SAAU,IACVC,OAAQ,oCAEV/N,MAAO,CACLiN,OAAQ,YACR3O,SAEDyR,GACC9R,EAAAA,EAAAA,KAAA,OACE+B,MAAO,CACL0N,UAAW,2BACXT,OAAQ,WACRiF,UACE,iEACF3N,aAAc,OACdoJ,WACE,8CACFrP,UAEFL,EAAAA,EAAAA,KAACoQ,EAAQ,CAAC1Q,MAAOA,EAAOiB,KAAMmR,MAE9B,kBAQhB9R,EAAAA,EAAAA,KAACkU,EAAW,CACVvU,KAAM6Q,EACNjO,QAASA,IAAMkO,GAAe,GAC9BxC,gBAzJyBkG,IAE7BvT,EAAS,kBAAmB,CAAEgD,MAAO,CAAEjD,KAAMwT,IAAoB,EAwJ7DzU,MAAOA,EACP+L,aAtNetI,UACnB,IACE,MAAM6H,QAAiBuG,EAAAA,EAAAA,KAEvB,OADApJ,EAAS6C,EAAStH,MACXsH,EAAStH,IAClB,CAAE,MAAOF,GACP4H,QAAQ5H,MAAM,0BAA2BA,EAC3C,OAiNG,C,sDC/TP,MA4BA,EA5ByB/D,IAAA,IAAC,MACxBsE,EAAK,MACL6D,EAAK,QACLwM,EAAO,SACPpQ,EAAQ,UACR/D,EAAY,GAAE,SACdsE,GAAW,GACZ9E,EAAA,OACCO,EAAAA,EAAAA,KAAA,OAAKC,UAAS,kBAAAS,OAAoBT,GAAYI,UAC5CC,EAAAA,EAAAA,MAAA,SACEL,UAAS,4DAAAS,OACP6D,EAAW,WAAa,IACvBlE,SAAA,EAEHL,EAAAA,EAAAA,KAAA,SACES,KAAK,WACLR,UAAU,wBACVmU,QAASA,EACTpQ,SAAWzD,IAAOgE,GAAYP,EAASzD,EAAE0D,OAAOmQ,SAChD7P,SAAUA,EACV,iCAAA7D,OAAgCkH,GAChC,+BAAAlH,OAA8BqD,EAAK,YAErC/D,EAAAA,EAAAA,KAAA,QAAM8B,GAAE,YAAApB,OAAcqD,EAAK,SAAQ1D,SAAEuH,QAEnC,E,aCtBD,MAAMC,EAAoBC,IAC/B,GAAIA,EAAI,EAAG,MAAM,GAANpH,OAAUqH,KAAKC,MAAU,GAAJF,GAAO,QACvC,GAAIA,EAAI,GACN,MAAM,GAANpH,OAAUoH,EAAI,IAAM,EAAIA,EAAIA,EAAEuM,QAAQ,GAAE,OAAA3T,OAAY,IAANoH,EAAU,IAAM,IAChE,MAAMwM,EAAOxM,EAAI,GACjB,GAAIwM,EAAO,EACT,MAAM,GAAN5T,OAAU4T,EAAO,IAAM,EAAIA,EAAOA,EAAKD,QAAQ,GAAE,QAAA3T,OACtC,IAAT4T,EAAa,IAAM,IAEvB,MAAMC,EAAQD,EAAO,EACrB,MAAM,GAAN5T,OAAU6T,EAAQ,IAAM,EAAIA,EAAQA,EAAMF,QAAQ,GAAE,SAAA3T,OACxC,IAAV6T,EAAc,IAAM,GAAE,EA4W1B,EAxWsB9U,IAMf,IANgB,aACrBqJ,EAAY,cACZE,EAAa,iBACbC,EAAgB,MAChBvJ,EAAK,cACLiI,GACDlI,EACC,MAAO+U,EAAgBC,IAAqB/R,EAAAA,EAAAA,UAAS,KAC9CgS,EAAQC,IAAajS,EAAAA,EAAAA,WAAS,GAE/BuE,EAAM,IAAIlC,KACVD,EAAegE,EAAe,IAAI/D,KAAK+D,GAAgB,KACvD5B,EACJpC,GAAgBA,EAAemC,GAC1BnC,EAAemC,GAAG,KACnB,EAGA2N,EAAqBrT,IACjBA,EAAEd,MAAmB,aAAXc,EAAEd,KAIhBoU,EAAoB7L,EAAcmB,MAAM5I,GAAiB,UAAXA,EAAEd,OAGhDqU,EAAqB9L,EAAcmB,MAAM5I,GAAiB,WAAXA,EAAEd,OAqCjDsU,EAAmBpN,EAAcrG,QAAQ0T,GAAMA,EAAEjR,OAASmD,IAG1D+N,EAAkBjM,EACrB1H,QAAQC,IACP,IAAKqT,EAAkBrT,GAAI,OAAO,EAClC,GAAIA,EAAEyD,aAAekC,EAAa,OAAO,EAOzC,OAJuBS,EAAcwC,MAClC+K,GAAOnN,KAAKoN,IAAID,EAAGnR,MAAQxC,EAAEyD,cAAgB,KAG1B,IAEvBR,KAAKjD,IAEJ,GAAIA,EAAE0D,WACJ,IACE,MAAM+B,EAAO,IAAIjC,KAAKxD,EAAE0D,YACxB,MAAO,CACLlB,MAAOxC,EAAEyD,aACT4C,MAAOZ,EAAKoO,iBACZnQ,WAAY1D,EAAE0D,WAElB,CAAE,MAAOmO,GACPhI,QAAQiK,KAAK,+BAAgCjC,EAC/C,CAIF,GAAItO,EAAc,CAChB,MAAMwQ,EAAe,IAAIvQ,KACvBD,EAAaK,UAA6B,KAAjB5D,EAAEyD,cAE7B,MAAO,CACLjB,MAAOxC,EAAEyD,aACT4C,MAAO0N,EAAaF,iBAExB,CAGA,MAAO,CACLrR,MAAOxC,EAAEyD,aACT4C,MAAOC,EAAiBtG,EAAEyD,cAC3B,IAICuQ,EAAiBA,CAACxR,EAAOqQ,KAC7BnL,GAAkBiC,IAChB,GAAIkJ,EAAS,CAMX,OAJiBlJ,EAAK6G,MACnBxQ,GAAMqT,EAAkBrT,IAAMwG,KAAKoN,IAAI5T,EAAEyD,aAAejB,GAAS,MAS7DmH,EALE,IACFA,EACH,CAAElG,aAAcjB,EAAOyG,MAAM,EAAO/J,KAAM,YAIhD,CAEE,OAAOyK,EAAK5J,QACTC,IACEqT,EAAkBrT,IAAMwG,KAAKoN,IAAI5T,EAAEyD,aAAejB,IAAU,KAEnE,GACA,EAkDEuG,EAAUvC,KAAKwC,MAAMrD,EAAc,IACnCwD,EAAW3C,KAAKwC,MAAMrD,EAAW,KAEvC,OACE5G,EAAAA,EAAAA,MAAA,OAAKL,UAAU,2BAA0BI,SAAA,EAEvCL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qBAAqBG,QAASA,IAAMuU,GAAWD,GAAQrU,UACpEC,EAAAA,EAAAA,MAAA,OAAKL,UAAU,4BAA2BI,SAAA,EACxCC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EACEL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gBAAkB,aAC9B+I,EAAc5H,OAAS,IACtBpB,EAAAA,EAAAA,KAAA,QAAMC,UAAU,uBAAsBI,SACnC2I,EAAc5H,YAIpBsT,GACC1U,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBAEbD,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAMlByU,IACCpU,EAAAA,EAAAA,MAAA,OAAKL,UAAU,6BAA4BI,SAAA,EAEvCiK,EAAU,GAAKI,EAAW,KAC1BpK,EAAAA,EAAAA,MAAA,OAAKL,UAAU,8BAA6BI,SAAA,EAC1CC,EAAAA,EAAAA,MAAA,SAAOL,UAAU,yBAAwBI,SAAA,EACvCL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,uBAAyB,4BAExCK,EAAAA,EAAAA,MAAA,OAAKL,UAAU,oBAAmBI,SAAA,CAC/BiK,EAAU,IACThK,EAAAA,EAAAA,MAAA,OAAKL,UAAU,mBAAkBI,SAAA,EAC/BL,EAAAA,EAAAA,KAAA,SACES,KAAK,WACL2T,QAASS,EACT7Q,SAAWzD,IAAMiV,OAlMPpB,EAkM4B7T,EAAE0D,OAAOmQ,aAjMjEnL,GAAkBiC,GACZkJ,EAGK,IADclJ,EAAK5J,QAAQC,GAAiB,UAAXA,EAAEd,OAGxC,CAAEuE,aAAc,GAAIwF,MAAM,EAAO/J,KAAM,UAIlCyK,EAAK5J,QAAQC,GAAiB,UAAXA,EAAEd,SAXJ2T,KAkM8C,EACxDtS,GAAG,qBAELxB,EAAAA,EAAAA,MAAA,SAAOmV,QAAQ,kBAAiBpV,SAAA,CAAC,oBACbiK,EAAQ,YACb,IAAZA,EAAgB,IAAM,GAAG,UAI/BI,EAAW,IACVpK,EAAAA,EAAAA,MAAA,OAAKL,UAAU,mBAAkBI,SAAA,EAC/BL,EAAAA,EAAAA,KAAA,SACES,KAAK,WACL2T,QAASU,EACT9Q,SAAWzD,IAAMmV,OA/LNtB,EA+L4B7T,EAAE0D,OAAOmQ,aA9LlEnL,GAAkBiC,GACZkJ,EAGK,IADelJ,EAAK5J,QAAQC,GAAiB,WAAXA,EAAEd,OAGzC,CAAEuE,aAAc,IAAKwF,MAAM,EAAO/J,KAAM,WAInCyK,EAAK5J,QAAQC,GAAiB,WAAXA,EAAEd,SAXH2T,KA+L8C,EACzDtS,GAAG,sBAELxB,EAAAA,EAAAA,MAAA,SAAOmV,QAAQ,mBAAkBpV,SAAA,CAAC,qBACbqK,EAAS,YACd,IAAbA,EAAiB,IAAM,GAAG,gBAStCqK,EAAiB3T,OAAS,IACzBd,EAAAA,EAAAA,MAAA,OAAKL,UAAU,mBAAkBI,SAAA,EAC/BC,EAAAA,EAAAA,MAAA,SAAOL,UAAU,yBAAwBI,SAAA,EACvCL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,eAAiB,2BAEhCD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeI,SAC3B0U,EAAiBvQ,KAAKmR,IACrB,MAKMvB,IALWpL,EAAc+I,MAC5BxQ,GACCqT,EAAkBrT,IAClBwG,KAAKoN,IAAI5T,EAAEyD,aAAe2Q,EAAK5R,OAAS,MAG5C,OACE/D,EAAAA,EAAAA,KAAC4V,EAAgB,CAEf7R,MAAO4R,EAAK5R,MACZ6D,MAAO+N,EAAK/N,MACZwM,QAASA,EACTpQ,SAAWoQ,GACTmB,EAAeI,EAAK5R,MAAOqQ,IALxBuB,EAAK5R,MAOV,UAQZzD,EAAAA,EAAAA,MAAA,OAAKL,UAAU,0BAAyBI,SAAA,EACtCC,EAAAA,EAAAA,MAAA,SAAOL,UAAU,yBAAwBI,SAAA,EACvCL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,wBAA0B,4BAEzCK,EAAAA,EAAAA,MAAA,OAAKL,UAAU,8BAA6BI,SAAA,EAC1CL,EAAAA,EAAAA,KAAA,SACES,KAAK,iBACLsD,MAAOyQ,EACPxQ,SAAWzD,GAAMkU,EAAkBlU,EAAE0D,OAAOF,OAC5C8R,KAAKhM,EAAAA,EAAAA,IAAoB5C,EAAI8D,eAC7B+K,IACEhN,GAAee,EAAAA,EAAAA,IAAoBf,QAAgBiN,KAGvDzV,EAAAA,EAAAA,MAAA,UACEL,UAAS,cAAAS,OACG,SAAVhB,EAAmB,oBAAsB,oBAE3CU,QAjKkB4V,KAC9B,IAAKxB,EAAgB,OAErB,MAAMyB,EAAe,IAAIlR,KAAKyP,GAC9B,GAAItP,MAAM+Q,EAAa9Q,WAErB,YADAiG,QAAQiK,KAAK,yBAIf,IAAKvQ,GAAgBmR,GAAgBnR,EAEnC,YADAsG,QAAQiK,KAAK,2CAIf,GAAIY,GAAgBhP,EAElB,YADAmE,QAAQiK,KAAK,yCAIf,MAAMa,GAASpR,EAAemR,GAAY,KAEtCC,EAAQ,GAAKA,GAAShP,IACxB+B,GAAkBiC,GAEDA,EAAKf,MACjB5I,GAAMqT,EAAkBrT,IAAMwG,KAAKoN,IAAI5T,EAAEyD,aAAekR,GAAS,MAc7DhL,EAVE,IACFA,EACH,CACElG,aAAckR,EACd1L,MAAM,EACN/J,KAAM,WACNwE,WAAYgR,EAAalL,kBAMjC0J,EAAkB,IACpB,EAwHYlQ,UAAWiQ,EAAenU,SAAA,EAE1BL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,kBAAoB,gBAMtCgV,EAAgB7T,OAAS,IACxBd,EAAAA,EAAAA,MAAA,OAAKL,UAAU,mBAAkBI,SAAA,EAC/BC,EAAAA,EAAAA,MAAA,SAAOL,UAAU,yBAAwBI,SAAA,EACvCL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,yBAA2B,kCAG1CD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeI,SAC3B4U,EAAgBzQ,KAAI,CAACmR,EAAMlI,KAC1B,MAKM2G,IALWpL,EAAc+I,MAC5BxQ,GACCqT,EAAkBrT,IAClBwG,KAAKoN,IAAI5T,EAAEyD,aAAe2Q,EAAK5R,OAAS,MAG5C,OACE/D,EAAAA,EAAAA,KAAC4V,EAAgB,CAEf7R,MAAO4R,EAAK5R,MACZ6D,MAAO+N,EAAK/N,MACZwM,QAASA,EACTpQ,SAAWoQ,GACTmB,EAAeI,EAAK5R,MAAOqQ,IALxBuB,EAAK1Q,YAAU,GAAAvE,OAAOiV,EAAK5R,MAAK,KAAArD,OAAI+M,GAOzC,SAQXzE,EAAc5H,OAAS,IACtBpB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,2BAA0BI,UACvCC,EAAAA,EAAAA,MAAA,SAAAD,SAAA,EACEL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBAAwB,KAACD,EAAAA,EAAAA,KAAA,UAAAK,SAAQ,YAC7CwU,GAAqB,SACrBA,GAAqBC,GAAsB,IAC3CA,GAAsB,WACrBD,GAAqBC,IACrB9L,EAAc1H,OAAOsT,GAAmBxT,OAAS,GACjD,IACD4H,EAAc1H,OAAOsT,GAAmBxT,OAAS,GAAC,IAAAV,OAC7CsI,EAAc1H,OAAOsT,GAAmBxT,OAAM,uBAM1D,C,0LCtXV,MAAM+U,E,OAAMC,EAAMC,OAAO,CACvBC,QAAS,kDAETC,QAAS,CACP,6BAA8B,QAEhCC,QAAS,MAGXL,EAAIM,aAAaC,QAAQC,KACtBC,IACC,MAAMC,EAAQ/K,aAAaC,QAAQ,SAInC,OAHI8K,IACFD,EAAOL,QAAQO,cAAa,UAAApW,OAAamW,IAEpCD,CAAM,IAEdpT,GAAU6P,QAAQ0D,OAAOvT,KAI5B,MAAMwT,EAAkBxT,IACD,IAADyT,EAApB,OAAIzT,EAAMwH,SAED,CACLnL,SAA4B,QAAnBoX,EAAAzT,EAAMwH,SAAStH,YAAI,IAAAuT,OAAA,EAAnBA,EAAqBzT,QAAS,oBACvCzC,OAAQyC,EAAMwH,SAASjK,QAEhByC,EAAMkT,QAER,CACL7W,QAAS,yDACTkB,OAAQ,GAIH,CACLlB,QAAS2D,EAAM3D,SAAW,+BAC1BkB,QAAS,EAEb,EAIWwQ,EAAaA,IAAM4E,EAAIe,IAAI,UAC3BC,EAAiBC,GAAWjB,EAAIe,IAAI,UAADxW,OAAW0W,IAC9C7J,EAAc5J,GAAYwS,EAAIkB,KAAK,SAAU1T,GAC7CsH,EAAaA,CAACmM,EAAQE,IACjCnB,EAAIoB,IAAI,UAAD7W,OAAW0W,GAAUE,GACjB/L,EAAc6L,GAAWjB,EAAIqB,OAAO,UAAD9W,OAAW0W,IAC9ClE,EAAqBA,CAACkE,EAAQpJ,IACzCmI,EAAIoB,IAAI,UAAD7W,OAAW0W,EAAM,aAAa,CAAEpJ,aAG5ByJ,EAAYA,CAACC,EAAOC,IACxBxB,EAAIkB,KAAK,cAAe,CAAEK,QAAOC,aAG7BC,EAAkBzU,SACtBgT,EAAIkB,KAAK,eAAgB,CAAEQ,KAAMC,IAG7BC,EAAeA,CAAChS,EAAWE,EAAUyR,EAAOC,IAChDxB,EAAIkB,KAAK,iBAAkB,CAAEtR,YAAWE,WAAUyR,QAAOC,aAGrDK,EAAyBA,CAACN,EAAOO,IACrC9B,EAAIkB,KAAK,4BAA6B,CAAEK,QAAOO,qBAG3CC,EAAwBR,GAC5BvB,EAAIkB,KAAK,4BAA6B,CAAEK,UAGpCS,EAA6BT,GACjCvB,EAAIkB,KAAK,wBAAyB,CAAEK,UAGhCU,EAAgBA,CAACV,EAAOO,EAAkBI,IAC9ClC,EAAIkB,KAAK,oBAAqB,CACnCK,QACAO,mBACAI,gBAISC,EAAiBA,CAACC,EAAiBF,IACvClC,EAAIkB,KAAK,wBAAyB,CAAEkB,kBAAiBF,gBAMjDG,EAAarV,UACxB,IAEE,aADuBgT,EAAIe,IAAI,aACfxT,IAClB,CAAE,MAAO0P,GAEP,MADAhI,QAAQ5H,MAAM,0BAA2B4P,GACnCA,CACR,GAGWqF,EAAgBtV,UAC3B,IAME,aALuBgT,EAAIoB,IAAI,WAAYmB,EAAU,CACnDnC,QAAS,CACP,eAAgB,0BAGJ7S,IAClB,CAAE,MAAO0P,GAEP,MADAhI,QAAQ5H,MAAM,0BAA2B4P,GACnCA,CACR,GAIW9P,EAAiBH,UAC5B,IACE,MAAMwV,EAAWC,KAAKC,iBAAiBC,kBAAkBC,SAMzD,MAAO,CAAExV,SAAS,EAAMG,YALDyS,EAAIkB,KACzB,WACA,CAAE2B,UACF,CAAEzC,QAAS,CAAE,kBAAmBoC,MAEKjV,KACzC,CAAE,MAAOF,GAEP,MAAO,CAAED,SAAS,EAAOC,MADPwT,EAAexT,GACS3D,QAC5C,GAGWgN,EAAoB1J,eAAOtD,GAAuC,IAA9B+M,EAAmBqM,UAAA7X,OAAA,QAAA2U,IAAAkD,UAAA,GAAAA,UAAA,GAAG,GACrE,IACE,MAAMN,EAAWC,KAAKC,iBAAiBC,kBAAkBC,SAMzD,MAAO,CAAExV,SAAS,EAAMG,YALDyS,EAAIkB,KACzB,wBACA,CAAExX,UAAS+M,uBACX,CAAE2J,QAAS,CAAE,kBAAmBoC,MAEKjV,KACzC,CAAE,MAAOF,GAEP,MAAO,CAAED,SAAS,EAAOC,MADPwT,EAAexT,GACS3D,QAC5C,CACF,C,iEClJO,MAAMsC,EAAsB+W,IACjC,MAAMlS,EAAO,IAAIjC,KAAKmU,GAChBjS,EAAM,IAAIlC,KACVoU,EAAgBpR,KAAKwC,OAAOtD,EAAMD,GAAQ,KAEhD,GAAImS,EAAgB,EAAG,CACrB,MAAMC,EAAarR,KAAKoN,IAAIgE,GAC5B,OAAIC,EAHmB,GAGmB,WACtCA,EAAa,GAAU,MAAN1Y,OAAa0Y,EAAU,WAAA1Y,OAAyB,IAAf0Y,EAAmB,IAAM,IAC3EA,EAAa,KAAY,MAAN1Y,OAAaqH,KAAKsR,KAAKD,EAAa,IAAG,WAAA1Y,OAAyC,IAA/BqH,KAAKsR,KAAKD,EAAa,IAAY,IAAM,IAC7GA,EAAa,MAAa,MAAN1Y,OAAaqH,KAAKsR,KAAKD,EAAa,MAAK,SAAA1Y,OAAyC,IAAjCqH,KAAKsR,KAAKD,EAAa,MAAc,IAAM,IAChHA,EAAa,OAAc,MAAN1Y,OAAaqH,KAAKsR,KAAKD,EAAa,OAAM,QAAA1Y,OAAyC,IAAlCqH,KAAKsR,KAAKD,EAAa,OAAe,IAAM,KAC/GE,EAAAA,EAAAA,IAAOtS,EAAM,eACtB,CACE,GAAImS,EAVmB,GAUe,MAAO,WAC7C,GAAIA,EAAgB,GAAI,MAAM,GAANzY,OAAUyY,EAAa,WAAAzY,OAA4B,IAAlByY,EAAsB,IAAM,GAAE,QACvF,GAAIA,EAAgB,KAAM,MAAM,GAANzY,OAAUqH,KAAKwC,MAAM4O,EAAgB,IAAG,WAAAzY,OAA6C,IAAnCqH,KAAKwC,MAAM4O,EAAgB,IAAY,IAAM,GAAE,QAC3H,GAAIA,EAAgB,MAAO,MAAM,GAANzY,OAAUqH,KAAKwC,MAAM4O,EAAgB,MAAK,SAAAzY,OAA6C,IAArCqH,KAAKwC,MAAM4O,EAAgB,MAAc,IAAM,GAAE,QAC9H,GAAIA,EAAgB,OAAQ,CAC1B,MAAM7E,EAAOvM,KAAKwC,MAAM4O,EAAgB,OACxC,OAAgB,IAAT7E,EAAa,YAAW,GAAA5T,OAAM4T,EAAI,YAC3C,CACA,OAAOgF,EAAAA,EAAAA,IAAOtS,EAAM,eACtB,EAGWuS,EAAsBL,IACjC,MAAOM,EAAMhS,EAAOC,GAAOyR,EAAWO,MAAM,KAAKjV,IAAIyD,QAC/CjB,EAAO,IAAIjC,KAAKyU,EAAMhS,EAAQ,EAAGC,GACvC,GAAIvC,MAAM8B,GAAO,MAAO,eAExB,OAAOA,EAAKoO,eAAe,QADX,CAAEoE,KAAM,UAAWhS,MAAO,OAAQC,IAAK,WACX,EAGjCoC,EAAuBqP,IAClC,MAAMlS,EAAO,IAAIjC,KAAKmU,GAChBM,EAAOxS,EAAK0S,cACZlS,EAAQmS,OAAO3S,EAAK4S,WAAa,GAAGC,SAAS,EAAG,KAChDpS,EAAMkS,OAAO3S,EAAKG,WAAW0S,SAAS,EAAG,KACzC3D,EAAQyD,OAAO3S,EAAK8S,YAAYD,SAAS,EAAG,KAC5CE,EAAUJ,OAAO3S,EAAKgT,cAAcH,SAAS,EAAG,KACtD,MAAM,GAANnZ,OAAU8Y,EAAI,KAAA9Y,OAAI8G,EAAK,KAAA9G,OAAI+G,EAAG,KAAA/G,OAAIwV,EAAK,KAAAxV,OAAIqZ,EAAO,C","sources":["components/ConfirmationModal.js","components/taskItem/TaskCard.js","components/AIChatModal/QuickMode.js","utils/reminderHelpers.js","components/AIChatModal/ChatMessage.js","components/taskItem/TaskItem.js","components/AIChatModal/ChatMode.js","components/AIChatModal/TaskPreviewModal.js","components/AIChatModal/AIChatModal.js","components/TaskList.js","components/taskItem/ReminderCheckbox.js","components/taskItem/TaskReminders.js","services/api.js","utils/dateUtils.js"],"sourcesContent":["import React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../Styles/ConfirmationModal.css\";\n\nconst ConfirmationModal = ({\n  theme,\n  show,\n  title = \"Confirm Action\",\n  message = \"Are you sure you want to proceed?\",\n  onConfirm,\n  onCancel,\n}) => {\n  if (!show) return null;\n\n  return (\n    <div\n      className=\"custom-modal-overlay d-flex align-items-center justify-content-center\"\n      tabIndex=\"-1\"\n      role=\"dialog\"\n      onClick={onCancel}\n    >\n      <div\n        className=\"custom-modal-content\"\n        role=\"document\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"custom-modal-header\">\n          <h5 className=\"modal2-title fw-bold\">{title}</h5>\n          <button\n            type=\"button\"\n            className=\"btn-close\"\n            aria-label=\"Close\"\n            onClick={onCancel}\n          ></button>\n        </div>\n        <div className=\"custom-modal-body\">\n          <p className={`text-${theme === \"dark\" ? \"light\" : \"muted\"} mb-4`}>\n            {message}\n          </p>\n        </div>\n        <div className=\"custom-modal-footer d-flex justify-content-end gap-2\">\n          <button\n            type=\"button\"\n            className=\"btn btn-secondary\"\n            onClick={onCancel}\n          >\n            Cancel\n          </button>\n          <button type=\"button\" className=\"btn sign-in-btn\" onClick={onConfirm}>\n            Confirm\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ConfirmationModal;\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { formatRelativeTime } from \"../../utils/dateUtils\";\nimport \"./Styles/TaskCard.css\";\n\nconst TaskCard = ({ theme, task }) => {\n  const navigate = useNavigate();\n\n  const handleClick = () => {\n    navigate(`/tasks/${task.id}/edit`);\n  };\n\n  const getStripColor = (status) => {\n    switch (status) {\n      case \"completed\":\n        return \"#007a00\";\n      case \"in-progress\":\n        return \"#daa520\";\n      default:\n        return \"#a00000\";\n    }\n  };\n\n  const stripColor = getStripColor(task.status);\n\n  const getReminderSummary = () => {\n    if (!task.reminders || task.reminders.length === 0) return null;\n\n    const dailyCount = task.reminders.filter((r) => r.type === \"daily\").length;\n    const weeklyCount = task.reminders.filter((r) => r.type === \"weekly\").length;\n    const oneTimeCount = task.reminders.filter(\n      (r) => r.type === \"one-time\" || !r.type\n    ).length;\n\n    const parts = [];\n    if (dailyCount > 0) parts.push(`Daily (${dailyCount})`);\n    if (weeklyCount > 0) parts.push(`Weekly (${weeklyCount})`);\n    if (oneTimeCount > 0) parts.push(`One-time (${oneTimeCount})`);\n\n    return parts.length > 0 ? parts.join(\", \") : null;\n  };\n\n  const reminderSummary = getReminderSummary();\n\n  return (\n    <div\n      className={`task-card ${theme === \"dark\" ? \"dark\" : \"\"}`}\n      onClick={handleClick}\n    >\n      <div\n        className=\"task-strip\"\n        style={{ backgroundColor: stripColor }}\n      ></div>\n\n      <div className=\"task-card-content\">\n        <i\n          className={`bi ${\n            task.status === \"completed\"\n              ? \"bi-check-circle\"\n              : task.status === \"in-progress\"\n              ? \"bi-hourglass\"\n              : \"bi-ban\"\n          } status-icon`}\n          style={{ color: stripColor }}\n        />\n\n        <h5 className=\"task-title\" style={{ color: stripColor }}>\n          {task.title}\n        </h5>\n        <p className=\"task-description\">{task.description}</p>\n\n        <div className=\"task-metadata\">\n          <div className=\"task-metadata-item\">\n            <strong>Created</strong>\n            <span>{formatRelativeTime(task.createdAt)}</span>\n          </div>\n          <div className=\"task-metadata-item\">\n            <strong>Deadline</strong>\n            <span>\n              {task.deadline\n                ? formatRelativeTime(task.deadline)\n                : \"No deadline set\"}\n            </span>\n          </div>\n        </div>\n\n        {reminderSummary && (\n          <div\n            className=\"reminder-indicator\"\n            title={`Reminders: ${reminderSummary}`}\n          >\n            <i className=\"bi bi-clock\"></i>\n            <small>{reminderSummary}</small>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TaskCard;","import { useState, useRef, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { generateAITask } from \"../../services/api\";\n\nconst QuickMode = ({ setError, onClose }) => {\n  const navigate = useNavigate();\n  const [quickPrompt, setQuickPrompt] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    if (inputRef.current) inputRef.current.focus();\n  }, []);\n\n  const handleQuickGenerate = async () => {\n    if (!quickPrompt.trim()) return;\n    setIsLoading(true);\n    setError(null);\n\n    const result = await generateAITask(quickPrompt);\n    setIsLoading(false);\n\n    if (!result.success) {\n      setError(result.error);\n      return;\n    }\n\n    const aiTask = result.data;\n    const newTask = {\n      title: aiTask.title,\n      description: aiTask.description,\n      status: aiTask.status || \"not-started\",\n      deadline: aiTask.deadline,\n      reminders: aiTask.reminders || [],\n    };\n\n    // Close modal and navigate to editor with task data\n    onClose();\n    navigate(\"/tasks/new/edit\", { state: { task: newTask } });\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleQuickGenerate();\n    }\n  };\n\n  return (\n    <div className=\"quick-mode\">\n      <div className=\"quick-mode-content\">\n        <label className=\"form-label\">Describe your task:</label>\n        <textarea\n          ref={inputRef}\n          className=\"form-control\"\n          rows={4}\n          value={quickPrompt}\n          onChange={(e) => setQuickPrompt(e.target.value)}\n          onKeyDown={handleKeyPress}\n          placeholder=\"E.g., 'Prepare project report by Friday 5PM with reminders 1 day and 1 hour before'\"\n          disabled={isLoading}\n        />\n        <div className=\"quick-mode-suggestions\">\n          <small>Try these:</small>\n          {[\n            \"Schedule dentist appointment next Tuesday at 3pm\",\n            \"Plan weekend shopping with 1 day reminder\",\n            \"Prepare presentation for Monday with daily reminders\",\n          ].map((text) => (\n            <button\n              key={text}\n              className=\"suggestion-chip\"\n              onClick={() => setQuickPrompt(text)}\n              disabled={isLoading}\n            >\n              {text}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"modal-actions\">\n        <button\n          className=\"btn btn-secondary\"\n          onClick={onClose}\n          disabled={isLoading}\n        >\n          Cancel\n        </button>\n        <button\n          className=\"btn btn-primary\"\n          onClick={handleQuickGenerate}\n          disabled={!quickPrompt.trim() || isLoading}\n        >\n          {isLoading ? (\n            <>\n              <span className=\"spinner-border spinner-border-sm me-2\"></span>{\" \"}\n              Generating...\n            </>\n          ) : (\n            <>\n              <i className=\"bi bi-magic me-2\"></i> Generate Task\n            </>\n          )}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default QuickMode;\n","/**\n * Normalize and calculate remindBefore for all reminders before saving.\n * @param {Array} reminders - List of reminder objects\n * @param {string|Date} deadline - ISO string or Date for task deadline\n * @returns {Array} normalized reminders\n */\nexport const normalizeRemindersBeforeSave = (reminders, deadline) => {\n  if (!Array.isArray(reminders) || !deadline) return reminders;\n\n  const deadlineDate = new Date(deadline);\n\n  return reminders.map((r) => {\n    // Skip invalid dates or reminders with explicit remindBefore\n    if (r.remindBefore && !r.customDate) return r;\n\n    // If a customDate exists, calculate remindBefore dynamically\n    if (r.customDate) {\n      const customDate = new Date(r.customDate);\n      if (!isNaN(customDate.getTime()) && customDate < deadlineDate) {\n        const diffHours = (deadlineDate - customDate) / (1000 * 60 * 60);\n        return { ...r, remindBefore: diffHours };\n      }\n    }\n\n    // Fallback: keep as-is\n    return r;\n  });\n};\n","import React from \"react\";\n\nconst ChatMessage = ({ msg, user, theme }) => {\n  const userAvatar = user.avatar;\n  const initials =\n    (user.firstName?.[0]?.toUpperCase() || \"\") +\n    (user.lastName?.[0]?.toUpperCase() || \"\");\n  const displayInitials = initials || \"?\";\n\n  // Format timestamp for WhatsApp-like display\n  const formatTime = (timestamp) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffInHours = (now - date) / (1000 * 60 * 60);\n\n    // If message is from today, show time only\n    if (diffInHours < 24 && date.getDate() === now.getDate()) {\n      return date.toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      });\n    }\n    \n    // If yesterday\n    if (diffInHours < 48 && date.getDate() === now.getDate() - 1) {\n      return `Yesterday ${date.toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      })}`;\n    }\n\n    // Otherwise show date and time\n    return date.toLocaleDateString([], {\n      month: \"short\",\n      day: \"numeric\",\n    }) + \" \" + date.toLocaleTimeString([], {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  return (\n    <div className={`chat-message ${msg.role}`}>\n      <div className=\"message-avatar\">\n        {msg.role === \"user\" ? (\n          userAvatar ? (\n            <img\n              src={userAvatar}\n              alt=\"User\"\n              style={{\n                width: \"100%\",\n                height: \"100%\",\n                borderRadius: \"50%\",\n                objectFit: \"cover\",\n              }}\n            />\n          ) : (\n            <div\n              style={{\n                width: \"100%\",\n                height: \"100%\",\n                borderRadius: \"50%\",\n                backgroundColor: theme === \"dark\" ? \"#ffffff\" : \"#000000\",\n                color: theme === \"dark\" ? \"#000000\" : \"#ffffff\",\n                fontWeight: \"bold\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                fontSize: \"0.85rem\",\n              }}\n            >\n              {displayInitials}\n            </div>\n          )\n        ) : (\n          <i className=\"bi bi-robot\"></i>\n        )}\n      </div>\n      <div className=\"message-content\">\n        <div className=\"message-text\">\n          <span style={{ paddingRight: \"60px\", display: \"block\" }}>\n            {msg.content}\n          </span>\n          <div className=\"message-time\">\n            {formatTime(msg.timestamp)}\n            {msg.role === \"user\" && (\n              <i className=\"bi bi-check-all\" style={{ fontSize: \"0.75rem\" }}></i>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatMessage;","import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport { deleteTask, updateTask } from \"../../services/api\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport TaskReminders from \"./TaskReminders\";\nimport { formatRelativeTime, formatDateTimeLocal } from \"../../utils/dateUtils\";\nimport \"./Styles/TaskItem.css\";\n\nconst ALL_INTERVALS = [\n  { value: 1, label: \"1 hr\" },\n  { value: 24, label: \"1 day\" },\n  { value: 168, label: \"1 week\" },\n];\n\nfunction formatHoursLabel(h) {\n  if (h < 1) return `${Math.round(h * 60)} min`;\n  if (Number.isInteger(h)) return `${h} hr${h > 1 ? \"s\" : \"\"}`;\n  return `${h} hrs`;\n}\n\nconst TaskItem = ({\n  theme,\n  task,\n  setTasks,\n  isNewTask = false,\n  onSave = () => {},\n  onCancel = () => {},\n}) => {\n  const [isEditing, setIsEditing] = useState(isNewTask);\n  const [tempTitle, setTempTitle] = useState(task.title);\n  const [tempDescription, setTempDescription] = useState(task.description);\n  const [tempStatus, setTempStatus] = useState(task.status);\n  const [tempDeadline, setTempDeadline] = useState(task.deadline || null);\n  const [tempReminders, setTempReminders] = useState(\n    Array.isArray(task.reminders) ? task.reminders : []\n  );\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const cardRef = useRef(null);\n\n  // âœ… Ensure reminders update when the AI-created task is previewed\n  useEffect(() => {\n    if (Array.isArray(task.reminders) && task.reminders.length > 0) {\n      setTempReminders(task.reminders);\n    }\n  }, [task.reminders]);\n\n  const handleCancel = useCallback(() => {\n    setTempTitle(task.title);\n    setTempDescription(task.description);\n    setTempStatus(task.status);\n    setTempDeadline(task.deadline || null);\n    setTempReminders(Array.isArray(task.reminders) ? task.reminders : []);\n    isNewTask ? onCancel(task.id) : setIsEditing(false);\n  }, [\n    task.title,\n    task.description,\n    task.status,\n    task.deadline,\n    task.reminders,\n    isNewTask,\n    onCancel,\n    task.id,\n  ]);\n\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (isEditing && cardRef.current && !cardRef.current.contains(e.target)) {\n        handleCancel();\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, [isEditing, handleCancel]);\n\n  const handleSave = async () => {\n    if (!tempTitle.trim() || !tempDescription.trim()) return;\n\n    setIsLoading(true);\n\n    const changed =\n      tempTitle !== task.title ||\n      tempDescription !== task.description ||\n      tempStatus !== task.status ||\n      tempDeadline !== task.deadline ||\n      JSON.stringify(tempReminders) !== JSON.stringify(task.reminders);\n\n    if (!changed && !isNewTask) {\n      setIsEditing(false);\n      setIsLoading(false);\n      return;\n    }\n\n    const now = new Date();\n    const deadlineDate = tempDeadline ? new Date(tempDeadline) : null;\n    const diffInHours =\n      deadlineDate && deadlineDate > now\n        ? (deadlineDate - now) / (1000 * 60 * 60)\n        : 0;\n\n    const regenerateRecurringReminders = (reminders) => {\n      const hasDaily = reminders.some((r) => r.type === \"daily\");\n      const hasWeekly = reminders.some((r) => r.type === \"weekly\");\n\n      let filteredReminders = reminders.filter(\n        (r) =>\n          (r.type === \"one-time\" || !r.type) && r.remindBefore <= diffInHours\n      );\n\n      if (hasDaily && diffInHours > 0) {\n        const maxDays = Math.floor(diffInHours / 24);\n        for (let day = 1; day <= maxDays; day++) {\n          filteredReminders.push({\n            remindBefore: day * 24,\n            sent: false,\n            type: \"daily\",\n            dayNumber: day,\n          });\n        }\n      }\n\n      if (hasWeekly && diffInHours > 0) {\n        const maxWeeks = Math.floor(diffInHours / (24 * 7));\n        for (let week = 1; week <= maxWeeks; week++) {\n          filteredReminders.push({\n            remindBefore: week * 24 * 7,\n            sent: false,\n            type: \"weekly\",\n            weekNumber: week,\n          });\n        }\n      }\n\n      return filteredReminders;\n    };\n\n    const finalReminders =\n      diffInHours > 0 ? regenerateRecurringReminders(tempReminders) : [];\n\n    const updatedTaskData = {\n      title: tempTitle.trim(),\n      description: tempDescription.trim(),\n      status: tempStatus,\n      deadline: tempDeadline ? deadlineDate.toISOString() : null,\n      reminders: finalReminders,\n    };\n\n    try {\n      if (isNewTask) {\n        onSave({ ...task, ...updatedTaskData });\n      } else {\n        const response = await updateTask(task.id, updatedTaskData);\n        setTasks((prev) =>\n          prev.map((t) => (t.id === response.data.id ? response.data : t))\n        );\n        setIsEditing(false);\n      }\n    } catch (error) {\n      console.error(\"Error updating task:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDelete = () => setShowDeleteModal(true);\n  const confirmDelete = async () => {\n    setIsLoading(true);\n    try {\n      await deleteTask(task.id);\n      setTasks((prev) => prev.filter((t) => t.id !== task.id));\n      setShowDeleteModal(false);\n    } catch (error) {\n      console.error(\"Error deleting task:\", error);\n    } finally {\n      setIsLoading(false);\n      setShowDeleteModal(false);\n    }\n  };\n\n  const getStripColor = (status) => {\n    switch (status) {\n      case \"completed\":\n        return \"#007a00\";\n      case \"in-progress\":\n        return \"#daa520\";\n      default:\n        return \"#a00000\";\n    }\n  };\n\n  const stripColor = getStripColor(task.status);\n  const isDeadlineInFuture =\n    tempDeadline && new Date(tempDeadline) > new Date();\n\n  // âœ… Fixed â€” correctly include \"one-time\" reminders\n  const getReminderSummary = () => {\n    if (!tempReminders || tempReminders.length === 0) return null;\n\n    const dailyCount = tempReminders.filter((r) => r.type === \"daily\").length;\n    const weeklyCount = tempReminders.filter((r) => r.type === \"weekly\").length;\n    const oneTimeCount = tempReminders.filter(\n      (r) => r.type === \"one-time\" || !r.type\n    ).length;\n\n    const parts = [];\n    if (dailyCount > 0) parts.push(`Daily (${dailyCount})`);\n    if (weeklyCount > 0) parts.push(`Weekly (${weeklyCount})`);\n    if (oneTimeCount > 0) parts.push(`One-time (${oneTimeCount})`);\n\n    return parts.length > 0 ? parts.join(\", \") : null;\n  };\n\n  const reminderSummary = getReminderSummary();\n\n  return (\n    <>\n      <div\n        ref={cardRef}\n        className={`task-card ${theme === \"dark\" ? \"dark\" : \"\"} ${\n          isLoading ? \"loading\" : \"\"\n        } ${isNewTask ? \"new-task\" : \"\"}`}\n        onClick={() => !isEditing && setIsEditing(true)}\n      >\n        <div\n          className=\"task-strip\"\n          style={{ backgroundColor: stripColor }}\n        ></div>\n\n        <div className=\"task-card-content\">\n          {!isEditing && (\n            <i\n              className={`bi ${\n                task.status === \"completed\"\n                  ? \"bi-check-circle\"\n                  : task.status === \"in-progress\"\n                  ? \"bi-hourglass\"\n                  : \"bi-ban\"\n              } status-icon`}\n              style={{ color: stripColor }}\n            />\n          )}\n\n          {isEditing ? (\n            <div className=\"task-form-grid\">\n              <div className=\"task-form-group full-width\">\n                <label className=\"form-label\">Title</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={tempTitle}\n                  onChange={(e) => setTempTitle(e.target.value)}\n                  placeholder=\"Enter task title...\"\n                />\n              </div>\n\n              <div className=\"task-form-group full-width\">\n                <label className=\"form-label\">Description</label>\n                <textarea\n                  className=\"form-control\"\n                  rows={3}\n                  value={tempDescription}\n                  onChange={(e) => setTempDescription(e.target.value)}\n                  placeholder=\"Enter task description...\"\n                />\n              </div>\n\n              <div className=\"task-form-group\">\n                <label className=\"form-label\">Status</label>\n                <select\n                  className=\"form-select\"\n                  value={tempStatus}\n                  onChange={(e) => setTempStatus(e.target.value)}\n                >\n                  <option value=\"not-started\">Not Started</option>\n                  <option value=\"in-progress\">In Progress</option>\n                  <option value=\"completed\">Completed</option>\n                </select>\n              </div>\n\n              <div className=\"task-form-group\">\n                <label className=\"form-label\">Deadline</label>\n                <input\n                  type=\"datetime-local\"\n                  className=\"form-control\"\n                  value={tempDeadline ? formatDateTimeLocal(tempDeadline) : \"\"}\n                  onChange={(e) => setTempDeadline(e.target.value)}\n                />\n              </div>\n\n              {isDeadlineInFuture && (\n                <div className=\"task-form-group full-width\">\n                  <TaskReminders\n                    tempDeadline={tempDeadline}\n                    tempReminders={tempReminders}\n                    setTempReminders={setTempReminders}\n                    theme={theme}\n                    ALL_INTERVALS={ALL_INTERVALS}\n                    formatHoursLabel={formatHoursLabel}\n                  />\n                </div>\n              )}\n            </div>\n          ) : (\n            <>\n              <h5 className=\"task-title\" style={{ color: stripColor }}>\n                {tempTitle}\n              </h5>\n              <p className=\"task-description\">{tempDescription}</p>\n            </>\n          )}\n\n          <div className=\"task-metadata\">\n            <div className=\"task-metadata-item\">\n              <strong>Created</strong>\n              <span>{formatRelativeTime(task.createdAt)}</span>\n            </div>\n            <div className=\"task-metadata-item\">\n              <strong>Deadline</strong>\n              <span>\n                {task.deadline\n                  ? formatRelativeTime(task.deadline)\n                  : \"No deadline set\"}\n              </span>\n            </div>\n          </div>\n\n          {isEditing && (\n            <div className=\"task-actions\">\n              {!isNewTask && (\n                <button\n                  className={`btn ${\n                    theme === \"dark\" ? \"btn-outline-danger\" : \"btn-secondary\"\n                  }`}\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleDelete();\n                  }}\n                  disabled={isLoading}\n                >\n                  {isLoading ? \"Deleting...\" : \"Delete\"}\n                </button>\n              )}\n              <button\n                className={`btn ${\n                  theme === \"dark\" ? \"btn-outline-light\" : \"btn-dark\"\n                }`}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleSave();\n                }}\n                disabled={\n                  !tempTitle.trim() || !tempDescription.trim() || isLoading\n                }\n              >\n                {isLoading ? \"Saving...\" : \"Save\"}\n              </button>\n            </div>\n          )}\n\n          {/* âœ… Reminders now always show when available */}\n          {!isEditing && reminderSummary && (\n            <div\n              className=\"reminder-indicator\"\n              title={`Reminders: ${reminderSummary}`}\n            >\n              <i className=\"bi bi-clock\"></i>\n              <small>{reminderSummary}</small>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <ConfirmationModal\n        theme={theme}\n        show={showDeleteModal}\n        title=\"Delete Task\"\n        message=\"Are you sure you want to delete this task? This action cannot be undone.\"\n        onConfirm={confirmDelete}\n        onCancel={() => setShowDeleteModal(false)}\n      />\n    </>\n  );\n};\n\nexport default TaskItem;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport { normalizeRemindersBeforeSave } from \"../../utils/reminderHelpers\";\n\nimport {\n  sendAIChatMessage,\n  generateAITask,\n  updateTask,\n  deleteTask,\n  createTask,\n} from \"../../services/api\";\nimport ChatMessage from \"./ChatMessage\";\nimport TaskItem from \"../taskItem/TaskItem\";\nimport { useAuth } from \"../../context/AuthContext\";\n\nconst CHAT_HISTORY_KEY = \"ai_chat_history\";\n\nconst ChatMode = ({ setError, theme, refreshTasks }) => {\n  const { user } = useAuth();\n  \n  // Load chat history from localStorage on mount\n  const [chatMessages, setChatMessages] = useState(() => {\n    try {\n      const saved = localStorage.getItem(CHAT_HISTORY_KEY);\n      return saved ? JSON.parse(saved) : [];\n    } catch (error) {\n      console.error(\"Error loading chat history:\", error);\n      return [];\n    }\n  });\n  \n  const [chatInput, setChatInput] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [previewTask, setPreviewTask] = useState(null);\n  const chatEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    if (inputRef.current) inputRef.current.focus();\n  }, []);\n\n  useEffect(() => {\n    chatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [chatMessages, previewTask]);\n\n  // Save chat history to localStorage whenever it changes\n  useEffect(() => {\n    try {\n      localStorage.setItem(CHAT_HISTORY_KEY, JSON.stringify(chatMessages));\n    } catch (error) {\n      console.error(\"Error saving chat history:\", error);\n    }\n  }, [chatMessages]);\n\n  /* ====================================================\n     Send Message to AI (chatConversation)\n  ==================================================== */\n  const handleChatSend = async () => {\n    if (!chatInput.trim()) return;\n\n    const userMessage = {\n      role: \"user\",\n      content: chatInput.trim(),\n      timestamp: new Date().toISOString(),\n    };\n\n    setChatMessages((prev) => [...prev, userMessage]);\n    setChatInput(\"\");\n    setIsLoading(true);\n    setError(null);\n\n    const conversationHistory = chatMessages.map((msg) => ({\n      role: msg.role,\n      content: msg.content,\n    }));\n\n    const result = await sendAIChatMessage(\n      userMessage.content,\n      conversationHistory\n    );\n\n    setIsLoading(false);\n    if (!result.success) {\n      setError(result.error);\n      return;\n    }\n\n    const { reply, previewUpdate } = result.data;\n\n    if (previewUpdate && previewUpdate.reminders) {\n      previewUpdate.reminders = normalizeRemindersBeforeSave(\n        previewUpdate.reminders,\n        previewUpdate.deadline\n      );\n    }\n\n    // Add assistant's reply\n    setChatMessages((prev) => [\n      ...prev,\n      {\n        role: \"assistant\",\n        content: reply,\n        timestamp: new Date().toISOString(),\n      },\n    ]);\n\n    // If AI suggests update/delete â€“ show inline TaskItem\n    if (previewUpdate) {\n      setPreviewTask({\n        ...previewUpdate,\n        _aiSuggested: true,\n        isUpdate:\n          previewUpdate.action === \"update\" ||\n          previewUpdate.action === \"delete\",\n        isNewTask: previewUpdate.action === \"create\" || previewUpdate.isNewTask,\n        createdAt: previewUpdate.createdAt || new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n      });\n    }\n  };\n\n  /* ====================================================\n     Generate new task from chat\n  ==================================================== */\n  const handleGenerateFromChat = async () => {\n    if (chatMessages.length === 0) {\n      setError(\"No conversation found to generate task from\");\n      return;\n    }\n\n    setIsLoading(true);\n    setError(null);\n\n    const conversationSummary = chatMessages\n      .map(\n        (msg) => `${msg.role === \"user\" ? \"User\" : \"Assistant\"}: ${msg.content}`\n      )\n      .join(\"\\n\");\n\n    const contextualPrompt = `Based on this conversation, create a task:\\n\\n${conversationSummary}\\n\\nCreate a detailed task with appropriate deadline and reminders.`;\n\n    const result = await generateAITask(contextualPrompt);\n    setIsLoading(false);\n\n    if (!result.success) {\n      setError(result.error);\n      return;\n    }\n\n    const aiTask = result.data;\n    setPreviewTask({\n      ...aiTask,\n      id: `temp-${Date.now()}`,\n      status: aiTask.status || \"not-started\",\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n      priority: 1,\n      _aiSuggested: true,\n      isNewTask: true,\n      action: \"create\",\n    });\n  };\n\n  /* ====================================================\n     Confirm or Cancel AI Update / Delete\n  ==================================================== */\n  const handleConfirmUpdate = async (task) => {\n    try {\n      if (!task) return;\n      setIsLoading(true);\n      setError(null);\n\n      // Normalize reminders before saving\n      const normalizedReminders = normalizeRemindersBeforeSave(\n        task.reminders || [],\n        task.deadline\n      );\n\n      let resultMessage = \"\";\n\n      if (task.action === \"delete\") {\n        await deleteTask(task.id);\n        resultMessage = `ðŸ—‘ï¸ Deleted task \"${task.title}\".`;\n      } else if (task.action === \"create\") {\n        await createTask({\n          title: task.title,\n          description: task.description,\n          status: task.status,\n          deadline: task.deadline,\n          reminders: normalizedReminders,\n        });\n        resultMessage = `âœ¨ Created new task \"${task.title}\".`;\n      } else {\n        await updateTask(task.id, {\n          title: task.title,\n          description: task.description,\n          status: task.status,\n          deadline: task.deadline,\n          reminders: normalizedReminders,\n        });\n        resultMessage = `âœ… Updated task \"${task.title}\".`;\n      }\n\n      await refreshTasks();\n      setPreviewTask(null);\n      setChatMessages((prev) => [\n        ...prev,\n        {\n          role: \"assistant\",\n          content: resultMessage,\n          timestamp: new Date().toISOString(),\n        },\n      ]);\n    } catch (error) {\n      console.error(\"Error applying AI update:\", error);\n      setError(\"Failed to apply update.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleCancelPreview = () => setPreviewTask(null);\n\n  /* ====================================================\n     Helpers\n  ==================================================== */\n  const resetChat = () => {\n    setChatMessages([]);\n    setError(null);\n    setPreviewTask(null);\n    try {\n      localStorage.removeItem(CHAT_HISTORY_KEY);\n    } catch (error) {\n      console.error(\"Error clearing chat history:\", error);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleChatSend();\n    }\n  };\n\n  /* ====================================================\n     RENDER\n  ==================================================== */\n  return (\n    <div className=\"chat-mode\">\n      <div className=\"chat-messages\">\n        {/* Empty Chat State */}\n        {chatMessages.length === 0 && !previewTask ? (\n          <div className=\"chat-empty-state\">\n            <i className=\"bi bi-chat-heart\"></i>\n            <p>Start a conversation with AI</p>\n            <small>Ask questions or describe your task step by step</small>\n          </div>\n        ) : (\n          chatMessages.map((msg, index) => (\n            <ChatMessage key={index} msg={msg} user={user} theme={theme} />\n          ))\n        )}\n\n        {/* Inline Task Preview using TaskItem */}\n        {previewTask && (\n          <div className=\"chat-message assistant\">\n            <div className=\"message-avatar\">\n              <i className=\"bi bi-robot\"></i>\n            </div>\n            <div className=\"message-content w-100\">\n              {previewTask.action === \"delete\" ? (\n                <div\n                  className={`ai-delete-preview p-3 rounded ${\n                    theme === \"dark\"\n                      ? \"bg-dark text-light\"\n                      : \"bg-light text-dark\"\n                  }`}\n                >\n                  <h6 className=\"mb-2\">\n                    ðŸ—‘ï¸ Confirm delete: <strong>{previewTask.title}</strong>?\n                  </h6>\n                  <div className=\"d-flex gap-2\">\n                    <button\n                      className=\"btn btn-danger btn-sm\"\n                      onClick={() => handleConfirmUpdate(previewTask)}\n                      disabled={isLoading}\n                    >\n                      {isLoading ? \"Deleting...\" : \"Delete\"}\n                    </button>\n                    <button\n                      className=\"btn btn-secondary btn-sm\"\n                      onClick={handleCancelPreview}\n                      disabled={isLoading}\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              ) : (\n                <TaskItem\n                  theme={theme}\n                  task={{\n                    ...previewTask,\n                    title: previewTask.title || \"\",\n                    description: previewTask.description || \"\",\n                    reminders: Array.isArray(previewTask.reminders)\n                      ? previewTask.reminders\n                      : [],\n                  }}\n                  isNewTask={true}\n                  onSave={handleConfirmUpdate}\n                  onCancel={handleCancelPreview}\n                />\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Typing indicator */}\n        {isLoading && (\n          <div className=\"chat-message assistant\">\n            <div className=\"message-avatar\">\n              <i className=\"bi bi-robot\"></i>\n            </div>\n            <div className=\"message-content\">\n              <div className=\"typing-indicator\">\n                <span></span>\n                <span></span>\n                <span></span>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div ref={chatEndRef} />\n      </div>\n\n      {/* Chat Input */}\n      <div className=\"chat-input-container\">\n        <input\n          ref={inputRef}\n          type=\"text\"\n          className=\"form-control\"\n          value={chatInput}\n          onChange={(e) => setChatInput(e.target.value)}\n          onKeyDown={handleKeyPress}\n          placeholder=\"Type your message...\"\n          disabled={isLoading}\n        />\n        <button\n          className=\"send-button\"\n          onClick={handleChatSend}\n          disabled={!chatInput.trim() || isLoading}\n        >\n          <i className=\"bi bi-send-fill\"></i>\n        </button>\n      </div>\n\n      {/* Chat Footer Actions */}\n      <div className=\"chat-actions\">\n        <button\n          className=\"btn btn-sm btn-outline-secondary\"\n          onClick={resetChat}\n          disabled={isLoading || chatMessages.length === 0}\n        >\n          <i className=\"bi bi-arrow-clockwise me-1\"></i> Clear Chat\n        </button>\n        <button\n          className=\"btn btn-sm btn-primary\"\n          onClick={handleGenerateFromChat}\n          disabled={isLoading || chatMessages.length === 0}\n        >\n          <i className=\"bi bi-magic me-1\"></i> Generate Task\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatMode;","import TaskItem from \"../taskItem/TaskItem\";\n\nconst TaskPreviewModal = ({ theme, task, onClose, onSave }) => (\n  <div className=\"ai-preview-overlay\" onClick={onClose}>\n    <div className=\"ai-preview-modal\" onClick={(e) => e.stopPropagation()}>\n      <h5 className=\"mb-3\">\n        <i className=\"bi bi-eye\"></i> Task Preview\n      </h5>\n\n      <TaskItem\n        theme={theme}\n        task={task}\n        isNewTask={true}\n        onSave={onSave}\n        onCancel={onClose}\n      />\n\n      <div className=\"text-end mt-2\">\n        <button className=\"btn btn-secondary\" onClick={onClose}>\n          Cancel\n        </button>\n      </div>\n    </div>\n  </div>\n);\n\nexport default TaskPreviewModal;\n","import React, { useState, useEffect } from \"react\";\nimport QuickMode from \"./QuickMode\";\nimport ChatMode from \"./ChatMode\";\nimport TaskPreviewModal from \"./TaskPreviewModal\";\nimport \"./Styles/AIChatModal.css\";\n\nconst AIChatModal = ({\n  show,\n  onClose,\n  onTaskGenerated,\n  theme,\n  refreshTasks,\n}) => {\n  const [mode, setMode] = useState(\"quick\");\n  const [previewTask, setPreviewTask] = useState(null);\n  const [error, setError] = useState(null);\n  const [isClosing, setIsClosing] = useState(false);\n\n  // Load last used mode from localStorage\n  useEffect(() => {\n    try {\n      const savedMode = localStorage.getItem(\"ai_chat_mode\");\n      if (savedMode && (savedMode === \"quick\" || savedMode === \"chat\")) {\n        setMode(savedMode);\n      }\n    } catch (error) {\n      console.error(\"Error loading chat mode:\", error);\n    }\n  }, []);\n\n  // Save mode preference when it changes\n  useEffect(() => {\n    try {\n      localStorage.setItem(\"ai_chat_mode\", mode);\n    } catch (error) {\n      console.error(\"Error saving chat mode:\", error);\n    }\n  }, [mode]);\n\n  // Handle ESC key to close modal\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === \"Escape\" && show && !previewTask) {\n        handleClose();\n      }\n    };\n\n    if (show) {\n      document.addEventListener(\"keydown\", handleEscape);\n      // Prevent body scroll when modal is open\n      document.body.style.overflow = \"hidden\";\n    }\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscape);\n      document.body.style.overflow = \"unset\";\n    };\n  }, [show, previewTask]);\n\n  const handleClose = () => {\n    setIsClosing(true);\n    // Small delay for animation\n    setTimeout(() => {\n      setIsClosing(false);\n      setError(null);\n      onClose();\n    }, 250);\n  };\n\n  const handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget && !previewTask) {\n      handleClose();\n    }\n  };\n\n  if (!show && !isClosing) return null;\n\n  return (\n    <div \n      className={`ai-modal-overlay ${isClosing ? \"closing\" : \"\"}`}\n      onClick={handleOverlayClick}\n    >\n      <div\n        className={`ai-modal-content ${theme === \"dark\" ? \"dark-mode\" : \"\"} ${isClosing ? \"closing\" : \"\"}`}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div className=\"ai-modal-header\">\n          <h3>\n            <i className=\"bi bi-robot\"></i> AI Task Assistant\n          </h3>\n          <button \n            className=\"close-button\" \n            onClick={handleClose}\n            aria-label=\"Close AI Assistant\"\n          >\n            <i className=\"bi bi-x-lg\"></i>\n          </button>\n        </div>\n\n        {/* Mode Selector */}\n        <div className=\"ai-mode-selector\">\n          <button\n            className={`mode-button ${mode === \"quick\" ? \"active\" : \"\"}`}\n            onClick={() => setMode(\"quick\")}\n            aria-pressed={mode === \"quick\"}\n          >\n            <i className=\"bi bi-lightning-charge\"></i> Quick\n          </button>\n          <button\n            className={`mode-button ${mode === \"chat\" ? \"active\" : \"\"}`}\n            onClick={() => setMode(\"chat\")}\n            aria-pressed={mode === \"chat\"}\n          >\n            <i className=\"bi bi-chat-dots\"></i> Chat\n          </button>\n        </div>\n\n        {/* Error Banner */}\n        {error && (\n          <div className=\"error-banner\">\n            <i className=\"bi bi-exclamation-triangle\"></i> {error}\n            <button\n              onClick={() => setError(null)}\n              style={{\n                marginLeft: \"auto\",\n                background: \"none\",\n                border: \"none\",\n                color: \"inherit\",\n                cursor: \"pointer\",\n                padding: \"0 4px\",\n              }}\n              aria-label=\"Dismiss error\"\n            >\n              <i className=\"bi bi-x-lg\"></i>\n            </button>\n          </div>\n        )}\n\n        {/* Mode Content */}\n        {mode === \"quick\" ? (\n          <QuickMode\n            setError={setError}\n            setPreviewTask={setPreviewTask}\n            onTaskGenerated={onTaskGenerated}\n            onClose={handleClose}\n            theme={theme}\n          />\n        ) : (\n          <ChatMode\n            setError={setError}\n            theme={theme}\n            refreshTasks={refreshTasks}\n            onClose={handleClose}\n          />\n        )}\n      </div>\n\n      {/* Preview Modal */}\n      {previewTask && (\n        <TaskPreviewModal\n          theme={theme}\n          task={previewTask}\n          onClose={() => setPreviewTask(null)}\n          onSave={(task) => {\n            onTaskGenerated(task);\n            setPreviewTask(null);\n            handleClose();\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default AIChatModal;","import React, { useState, useEffect, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { fetchTasks, updateTaskPriority } from \"../services/api\";\nimport { useAuth } from \"../context/AuthContext\";\nimport TaskCard from \"./taskItem/TaskCard\";\nimport AIChatModal from \"./AIChatModal/AIChatModal\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../Styles/TaskList.css\";\n\nimport {\n  DndContext,\n  closestCenter,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragOverlay,\n  MouseSensor,\n  TouchSensor,\n} from \"@dnd-kit/core\";\nimport {\n  SortableContext,\n  arrayMove,\n  useSortable,\n  rectSortingStrategy,\n} from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\n\n// ---------- Sortable Task Card ----------\nconst SortableTask = ({ task, theme }) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({\n    id: task.id,\n    transition: {\n      duration: 250,\n      easing: \"cubic-bezier(0.25, 0.8, 0.25, 1)\",\n    },\n  });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition:\n      transition || \"transform 250ms cubic-bezier(0.25, 0.8, 0.25, 1)\",\n    opacity: isDragging ? 0 : 1,\n    cursor: \"grab\",\n    // FIXED: Changed from \"none\" to \"manipulation\" to allow scrolling\n    touchAction: \"manipulation\",\n  };\n\n  return (\n    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>\n      <TaskCard theme={theme} task={task} />\n    </div>\n  );\n};\n\n// ---------- Main TaskList Component ----------\nconst TaskList = ({ theme }) => {\n  const navigate = useNavigate();\n  const { user, logout } = useAuth();\n  const [tasks, setTasks] = useState(null);\n  const [showAIModal, setShowAIModal] = useState(false);\n  const [activeId, setActiveId] = useState(null);\n\n  // IMPROVED: Better touch sensor configuration for mobile\n  const sensors = useSensors(\n    useSensor(MouseSensor, {\n      activationConstraint: {\n        distance: 10,\n      },\n    }),\n    useSensor(TouchSensor, {\n      activationConstraint: {\n        delay: 200, // Reduced from 250ms for better responsiveness\n        tolerance: 5, // Reduced from 8 for more precise control\n      },\n    }),\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 10,\n      },\n    })\n  );\n\n  const loadTasks = useCallback(async () => {\n    if (user) {\n      try {\n        const response = await fetchTasks();\n        setTasks(response.data);\n      } catch (error) {\n        console.error(\"Error loading tasks:\", error);\n        if (error.response && error.response.status === 403) logout();\n      }\n    }\n  }, [user, logout]);\n\n  useEffect(() => {\n    loadTasks();\n  }, [loadTasks]);\n\n  const refreshTasks = async () => {\n    try {\n      const response = await fetchTasks();\n      setTasks(response.data);\n      return response.data;\n    } catch (error) {\n      console.error(\"Error refreshing tasks:\", error);\n    }\n  };\n\n  // ---------- Drag & Drop ----------\n  const handleDragStart = (event) => {\n    setActiveId(event.active.id);\n  };\n\n  const handleDragEnd = async (event) => {\n    const { active, over } = event;\n    setActiveId(null);\n\n    if (!over || active.id === over.id) return;\n\n    setTasks((prevTasks) => {\n      const oldIndex = prevTasks.findIndex((t) => t.id === active.id);\n      const newIndex = prevTasks.findIndex((t) => t.id === over.id);\n\n      if (oldIndex === -1 || newIndex === -1) return prevTasks;\n\n      const reordered = arrayMove(prevTasks, oldIndex, newIndex);\n\n      // Update priorities in the backend\n      const updatePromises = reordered.map((task, idx) => {\n        const newPriority = idx + 1;\n        if (task.priority !== newPriority) {\n          return updateTaskPriority(task.id, newPriority).catch((err) => {\n            console.error(`Error updating priority for task ${task.id}:`, err);\n          });\n        }\n        return Promise.resolve();\n      });\n\n      Promise.all(updatePromises);\n\n      // Return reordered array with updated priorities\n      return reordered.map((task, idx) => ({\n        ...task,\n        priority: idx + 1,\n      }));\n    });\n  };\n\n  const handleDragCancel = () => {\n    setActiveId(null);\n  };\n\n  // ---------- Task Management ----------\n  const handleAddTask = () => {\n    navigate(\"/tasks/new/edit\");\n  };\n\n  const handleAITaskGenerated = (aiGeneratedTask) => {\n    // Navigate to editor with task data\n    navigate(\"/tasks/new/edit\", { state: { task: aiGeneratedTask } });\n  };\n\n  // ---------- Shimmer Loader ----------\n  const renderShimmerLoader = () => (\n    <div className=\"container mt-5\">\n      <div className=\"task-container\">\n        <div className=\"card-body p-3\">\n          <div className=\"d-flex flex-row justify-content-between align-items-center mb-3 header-container\">\n            <h2 className=\"card-title mb-0\">Your Tasks</h2>\n            <div className=\"d-flex gap-2 button-group\">\n              <button\n                className={`btn btn-outline-${\n                  theme === \"dark\" ? \"light\" : \"dark\"\n                } ai-button`}\n                disabled\n              >\n                <i className=\"bi bi-robot me-2\"></i>\n                <span className=\"button-text\">AI Assistant</span>\n              </button>\n\n              <button\n                className={`btn btn-outline-${\n                  theme === \"dark\" ? \"light\" : \"dark\"\n                } d-flex align-items-center gap-2`}\n                disabled\n              >\n                <i className=\"bi bi-plus-circle\"></i>\n                <span className=\"button-text\">New Task</span>\n              </button>\n            </div>\n          </div>\n\n          <div className=\"shimmer-list\">\n            {Array.from({ length: 5 }).map((_, index) => (\n              <div key={index} className=\"shimmer-task-item\">\n                <div className=\"shimmer-task-header\"></div>\n                <div className=\"shimmer-task-body\"></div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  if (!tasks) return renderShimmerLoader();\n\n  // Sort tasks by priority\n  const sortedTasks = [...tasks].sort((a, b) => a.priority - b.priority);\n  const activeTask = activeId ? tasks.find((t) => t.id === activeId) : null;\n\n  // ---------- Render ----------\n  return (\n    <>\n      <div className=\"container mt-5\">\n        <div className=\"task-container\">\n          <div className=\"card-body p-3\">\n            <div className=\"d-flex flex-row justify-content-between align-items-center mb-3 header-container\">\n              <h2 className=\"card-title mb-0\">Your Tasks</h2>\n              <div className=\"d-flex gap-2 button-group\">\n                <button\n                  className={`btn btn-outline-${\n                    theme === \"dark\" ? \"light\" : \"dark\"\n                  } ai-button`}\n                  onClick={() => setShowAIModal(true)}\n                >\n                  <i className=\"bi bi-robot me-2\"></i>\n                  <span className=\"button-text\">AI Assistant</span>\n                </button>\n\n                <button\n                  className={`btn btn-outline-${\n                    theme === \"dark\" ? \"light\" : \"dark\"\n                  } d-flex align-items-center gap-2`}\n                  onClick={handleAddTask}\n                >\n                  <i className=\"bi bi-plus-circle\"></i>\n                  <span className=\"button-text\">New Task</span>\n                </button>\n              </div>\n            </div>\n\n            {tasks.length === 0 ? (\n              <div className=\"empty-state\">\n                <i className=\"bi bi-clipboard-check empty-state-icon\"></i>\n                <p\n                  className={`text-${\n                    theme === \"dark\" ? \"light\" : \"muted\"\n                  } mb-2`}\n                >\n                  No tasks yet\n                </p>\n                <small className=\"text-muted\">\n                  Create your first task or use AI Assistant to get started\n                </small>\n              </div>\n            ) : (\n              <DndContext\n                sensors={sensors}\n                collisionDetection={closestCenter}\n                onDragStart={handleDragStart}\n                onDragEnd={handleDragEnd}\n                onDragCancel={handleDragCancel}\n              >\n                <SortableContext\n                  items={sortedTasks.map((t) => t.id)}\n                  strategy={rectSortingStrategy}\n                >\n                  <div className=\"task-list\">\n                    {sortedTasks.map((task) => (\n                      <SortableTask key={task.id} task={task} theme={theme} />\n                    ))}\n                  </div>\n                </SortableContext>\n\n                <DragOverlay\n                  adjustScale={false}\n                  dropAnimation={{\n                    duration: 300,\n                    easing: \"cubic-bezier(0.25, 0.8, 0.25, 1)\",\n                  }}\n                  style={{\n                    cursor: \"grabbing\",\n                  }}\n                >\n                  {activeTask ? (\n                    <div\n                      style={{\n                        transform: \"scale(1.03) rotate(2deg)\",\n                        cursor: \"grabbing\",\n                        boxShadow:\n                          \"0 12px 24px rgba(0, 0, 0, 0.25), 0 4px 8px rgba(0, 0, 0, 0.15)\",\n                        borderRadius: \"10px\",\n                        transition:\n                          \"all 150ms cubic-bezier(0.25, 0.8, 0.25, 1)\",\n                      }}\n                    >\n                      <TaskCard theme={theme} task={activeTask} />\n                    </div>\n                  ) : null}\n                </DragOverlay>\n              </DndContext>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <AIChatModal\n        show={showAIModal}\n        onClose={() => setShowAIModal(false)}\n        onTaskGenerated={handleAITaskGenerated}\n        theme={theme}\n        refreshTasks={refreshTasks}\n      />\n    </>\n  );\n};\n\nexport default TaskList;\n","import \"./Styles/ReminderCheckbox.css\";\n\nconst ReminderCheckbox = ({\n  value,\n  label,\n  checked,\n  onChange,\n  className = \"\",\n  disabled = false,\n}) => (\n  <div className={`d-inline-block ${className}`}>\n    <label\n      className={`reminder-checkbox-label d-inline-flex align-items-center ${\n        disabled ? \"disabled\" : \"\"\n      }`}\n    >\n      <input\n        type=\"checkbox\"\n        className=\"form-check-input me-2\"\n        checked={checked}\n        onChange={(e) => !disabled && onChange(e.target.checked)}\n        disabled={disabled}\n        aria-label={`Set reminder for ${label}`}\n        aria-describedby={`reminder-${value}-desc`}\n      />\n      <span id={`reminder-${value}-desc`}>{label}</span>\n    </label>\n  </div>\n);\n\nexport default ReminderCheckbox;\n","import React, { useState } from \"react\";\nimport ReminderCheckbox from \"./ReminderCheckbox\";\nimport { formatDateTimeLocal } from \"../../utils/dateUtils\";\nimport \"./Styles/TaskReminders.css\";\n\nexport const formatHoursLabel = (h) => {\n  if (h < 1) return `${Math.round(h * 60)} min`;\n  if (h < 24)\n    return `${h % 1 === 0 ? h : h.toFixed(1)} hr${h !== 1 ? \"s\" : \"\"}`;\n  const days = h / 24;\n  if (days < 7)\n    return `${days % 1 === 0 ? days : days.toFixed(1)} day${\n      days !== 1 ? \"s\" : \"\"\n    }`;\n  const weeks = days / 7;\n  return `${weeks % 1 === 0 ? weeks : weeks.toFixed(1)} week${\n    weeks !== 1 ? \"s\" : \"\"\n  }`;\n};\n\nconst TaskReminders = ({\n  tempDeadline,\n  tempReminders,\n  setTempReminders,\n  theme,\n  ALL_INTERVALS,\n}) => {\n  const [customReminder, setCustomReminder] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n\n  const now = new Date();\n  const deadlineDate = tempDeadline ? new Date(tempDeadline) : null;\n  const diffInHours =\n    deadlineDate && deadlineDate > now\n      ? (deadlineDate - now) / (1000 * 60 * 60)\n      : 0;\n\n  // Helper to check if reminder is one-time (not daily/weekly)\n  const isOneTimeReminder = (r) => {\n    return !r.type || r.type === \"one-time\";\n  };\n\n  // Check if daily reminders are active\n  const hasDailyReminders = tempReminders.some((r) => r.type === \"daily\");\n\n  // Check if weekly reminders are active\n  const hasWeeklyReminders = tempReminders.some((r) => r.type === \"weekly\");\n\n  // Toggle daily reminders\n  const toggleDailyReminders = (checked) => {\n    setTempReminders((prev) => {\n      if (checked) {\n        // Remove existing daily reminders and add a single daily reminder template\n        const withoutDaily = prev.filter((r) => r.type !== \"daily\");\n        return [\n          ...withoutDaily,\n          { remindBefore: 24, sent: false, type: \"daily\" },\n        ];\n      } else {\n        // Remove all daily reminders\n        return prev.filter((r) => r.type !== \"daily\");\n      }\n    });\n  };\n\n  // Toggle weekly reminders\n  const toggleWeeklyReminders = (checked) => {\n    setTempReminders((prev) => {\n      if (checked) {\n        // Remove existing weekly reminders and add a single weekly reminder template\n        const withoutWeekly = prev.filter((r) => r.type !== \"weekly\");\n        return [\n          ...withoutWeekly,\n          { remindBefore: 168, sent: false, type: \"weekly\" },\n        ];\n      } else {\n        // Remove all weekly reminders\n        return prev.filter((r) => r.type !== \"weekly\");\n      }\n    });\n  };\n\n  // Default intervals (e.g. 1 hr, 1 day, 1 week) - these are one-time reminders\n  const defaultIntervals = ALL_INTERVALS.filter((i) => i.value <= diffInHours);\n\n  // Custom reminders - one-time reminders that don't match default intervals\n  const customIntervals = tempReminders\n    .filter((r) => {\n      if (!isOneTimeReminder(r)) return false;\n      if (r.remindBefore > diffInHours) return false;\n\n      // Check if this matches any default interval\n      const matchesDefault = ALL_INTERVALS.some(\n        (ai) => Math.abs(ai.value - r.remindBefore) < 0.01\n      );\n\n      return !matchesDefault;\n    })\n    .map((r) => {\n      // If has customDate, show formatted date\n      if (r.customDate) {\n        try {\n          const date = new Date(r.customDate);\n          return {\n            value: r.remindBefore,\n            label: date.toLocaleString(),\n            customDate: r.customDate,\n          };\n        } catch (err) {\n          console.warn(\"Error formatting customDate:\", err);\n        }\n      }\n\n      // Otherwise calculate date from remindBefore\n      if (deadlineDate) {\n        const reminderDate = new Date(\n          deadlineDate.getTime() - r.remindBefore * 3600000\n        );\n        return {\n          value: r.remindBefore,\n          label: reminderDate.toLocaleString(),\n        };\n      }\n\n      // Fallback to hours label\n      return {\n        value: r.remindBefore,\n        label: formatHoursLabel(r.remindBefore),\n      };\n    });\n\n  // Toggle reminder\n  const toggleReminder = (value, checked) => {\n    setTempReminders((prev) => {\n      if (checked) {\n        // Check if already exists\n        const existing = prev.find(\n          (r) => isOneTimeReminder(r) && Math.abs(r.remindBefore - value) < 0.01\n        );\n\n        if (!existing) {\n          return [\n            ...prev,\n            { remindBefore: value, sent: false, type: \"one-time\" },\n          ];\n        }\n        return prev;\n      } else {\n        // Remove the reminder\n        return prev.filter(\n          (r) =>\n            !isOneTimeReminder(r) || Math.abs(r.remindBefore - value) >= 0.01\n        );\n      }\n    });\n  };\n\n  // Add custom reminder\n  const handleAddCustomReminder = () => {\n    if (!customReminder) return;\n\n    const selectedDate = new Date(customReminder);\n    if (isNaN(selectedDate.getTime())) {\n      console.warn(\"Invalid date selected\");\n      return;\n    }\n\n    if (!deadlineDate || selectedDate >= deadlineDate) {\n      console.warn(\"Custom reminder must be before deadline\");\n      return;\n    }\n\n    if (selectedDate <= now) {\n      console.warn(\"Custom reminder must be in the future\");\n      return;\n    }\n\n    const hours = (deadlineDate - selectedDate) / (1000 * 60 * 60);\n\n    if (hours > 0 && hours <= diffInHours) {\n      setTempReminders((prev) => {\n        // Check if similar reminder already exists\n        const exists = prev.some(\n          (r) => isOneTimeReminder(r) && Math.abs(r.remindBefore - hours) < 0.01\n        );\n\n        if (!exists) {\n          return [\n            ...prev,\n            {\n              remindBefore: hours,\n              sent: false,\n              type: \"one-time\",\n              customDate: selectedDate.toISOString(),\n            },\n          ];\n        }\n        return prev;\n      });\n      setCustomReminder(\"\");\n    }\n  };\n\n  // Calculate how many days/weeks until deadline\n  const maxDays = Math.floor(diffInHours / 24);\n  const maxWeeks = Math.floor(diffInHours / (24 * 7));\n\n  return (\n    <div className=\"task-reminders-container\">\n      {/* Dropdown Header Bar */}\n      <div className=\"reminders-dropdown\" onClick={() => setIsOpen(!isOpen)}>\n        <div className=\"reminders-dropdown-header\">\n          <h6>\n            <i className=\"bi bi-clock\"></i> Reminders\n            {tempReminders.length > 0 && (\n              <span className=\"reminder-count-badge\">\n                {tempReminders.length}\n              </span>\n            )}\n          </h6>\n          {isOpen ? (\n            <i className=\"bi bi-chevron-up\"></i>\n          ) : (\n            <i className=\"bi bi-chevron-down\"></i>\n          )}\n        </div>\n      </div>\n\n      {/* Collapsible Content */}\n      {isOpen && (\n        <div className=\"reminders-dropdown-content\">\n          {/* Recurring Reminders Section */}\n          {(maxDays > 0 || maxWeeks > 0) && (\n            <div className=\"recurring-reminders-section\">\n              <label className=\"reminder-section-label\">\n                <i className=\"bi bi-arrow-repeat\"></i> Recurring Reminders:\n              </label>\n              <div className=\"recurring-options\">\n                {maxDays > 0 && (\n                  <div className=\"recurring-option\">\n                    <input\n                      type=\"checkbox\"\n                      checked={hasDailyReminders}\n                      onChange={(e) => toggleDailyReminders(e.target.checked)}\n                      id=\"daily-reminders\"\n                    />\n                    <label htmlFor=\"daily-reminders\">\n                      Every Day (up to {maxDays} reminder\n                      {maxDays !== 1 ? \"s\" : \"\"})\n                    </label>\n                  </div>\n                )}\n                {maxWeeks > 0 && (\n                  <div className=\"recurring-option\">\n                    <input\n                      type=\"checkbox\"\n                      checked={hasWeeklyReminders}\n                      onChange={(e) => toggleWeeklyReminders(e.target.checked)}\n                      id=\"weekly-reminders\"\n                    />\n                    <label htmlFor=\"weekly-reminders\">\n                      Every Week (up to {maxWeeks} reminder\n                      {maxWeeks !== 1 ? \"s\" : \"\"})\n                    </label>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* One-time Reminders Section */}\n          {defaultIntervals.length > 0 && (\n            <div className=\"reminder-section\">\n              <label className=\"reminder-section-label\">\n                <i className=\"bi bi-bell\"></i> One-time Reminders:\n              </label>\n              <div className=\"reminder-grid\">\n                {defaultIntervals.map((item) => {\n                  const existing = tempReminders.find(\n                    (r) =>\n                      isOneTimeReminder(r) &&\n                      Math.abs(r.remindBefore - item.value) < 0.01\n                  );\n                  const checked = !!existing;\n                  return (\n                    <ReminderCheckbox\n                      key={item.value}\n                      value={item.value}\n                      label={item.label}\n                      checked={checked}\n                      onChange={(checked) =>\n                        toggleReminder(item.value, checked)\n                      }\n                    />\n                  );\n                })}\n              </div>\n            </div>\n          )}\n\n          {/* Custom Reminder Section */}\n          <div className=\"custom-reminder-section\">\n            <label className=\"reminder-section-label\">\n              <i className=\"bi bi-calendar-plus\"></i> Add Custom Reminder:\n            </label>\n            <div className=\"custom-reminder-input-group\">\n              <input\n                type=\"datetime-local\"\n                value={customReminder}\n                onChange={(e) => setCustomReminder(e.target.value)}\n                min={formatDateTimeLocal(now.toISOString())}\n                max={\n                  tempDeadline ? formatDateTimeLocal(tempDeadline) : undefined\n                }\n              />\n              <button\n                className={`btn btn-sm ${\n                  theme === \"dark\" ? \"btn-outline-light\" : \"btn-outline-dark\"\n                }`}\n                onClick={handleAddCustomReminder}\n                disabled={!customReminder}\n              >\n                <i className=\"bi bi-plus-lg\"></i> Add\n              </button>\n            </div>\n          </div>\n\n          {/* Custom One-time Reminders Section */}\n          {customIntervals.length > 0 && (\n            <div className=\"reminder-section\">\n              <label className=\"reminder-section-label\">\n                <i className=\"bi bi-calendar-check\"></i> Custom One-time\n                Reminders:\n              </label>\n              <div className=\"reminder-grid\">\n                {customIntervals.map((item, index) => {\n                  const existing = tempReminders.find(\n                    (r) =>\n                      isOneTimeReminder(r) &&\n                      Math.abs(r.remindBefore - item.value) < 0.01\n                  );\n                  const checked = !!existing;\n                  return (\n                    <ReminderCheckbox\n                      key={item.customDate || `${item.value}-${index}`}\n                      value={item.value}\n                      label={item.label}\n                      checked={checked}\n                      onChange={(checked) =>\n                        toggleReminder(item.value, checked)\n                      }\n                    />\n                  );\n                })}\n              </div>\n            </div>\n          )}\n\n          {/* Active reminders summary */}\n          {tempReminders.length > 0 && (\n            <div className=\"active-reminders-summary\">\n              <small>\n                <i className=\"bi bi-info-circle\"></i> <strong>Active:</strong>\n                {hasDailyReminders && \" Daily\"}\n                {hasDailyReminders && hasWeeklyReminders && \",\"}\n                {hasWeeklyReminders && \" Weekly\"}\n                {(hasDailyReminders || hasWeeklyReminders) &&\n                  tempReminders.filter(isOneTimeReminder).length > 0 &&\n                  \",\"}\n                {tempReminders.filter(isOneTimeReminder).length > 0 &&\n                  ` ${tempReminders.filter(isOneTimeReminder).length} one-time`}\n              </small>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TaskReminders;\n","import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"https://task-manager-sigma-ashen.vercel.app/api\", // Replace with your backend URL\n  // baseURL: \"http://localhost:5001/api\", // Localhost for local development\n  headers: {\n    \"ngrok-skip-browser-warning\": \"true\",\n  },\n  timeout: 30000, // 30 second timeout\n});\n\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n// Enhanced error handler\nconst handleApiError = (error) => {\n  if (error.response) {\n    // Server responded with error\n    return {\n      message: error.response.data?.error || \"An error occurred\",\n      status: error.response.status,\n    };\n  } else if (error.request) {\n    // Request made but no response\n    return {\n      message: \"No response from server. Please check your connection.\",\n      status: 0,\n    };\n  } else {\n    // Error setting up request\n    return {\n      message: error.message || \"An unexpected error occurred\",\n      status: -1,\n    };\n  }\n};\n\n// Task-related endpoints\nexport const fetchTasks = () => api.get(\"/tasks\");\nexport const fetchTaskById = (taskId) => api.get(`/tasks/${taskId}`);\nexport const createTask = (newTask) => api.post(\"/tasks\", newTask);\nexport const updateTask = (taskId, updatedTask) =>\n  api.put(`/tasks/${taskId}`, updatedTask);\nexport const deleteTask = (taskId) => api.delete(`/tasks/${taskId}`);\nexport const updateTaskPriority = (taskId, priority) =>\n  api.put(`/tasks/${taskId}/priority`, { priority });\n\n// Authentication-related endpoints\nexport const loginUser = (email, password) => {\n  return api.post(\"/auth/login\", { email, password });\n};\n\nexport const loginWithGoogle = async (authorizationCode) => {\n  return api.post(`/auth/google`, { code: authorizationCode });\n};\n\nexport const registerUser = (firstName, lastName, email, password) => {\n  return api.post(\"/auth/register\", { firstName, lastName, email, password });\n};\n\nexport const verifyRegistrationCode = (email, verificationCode) => {\n  return api.post(\"/auth/verify-registration\", { email, verificationCode });\n};\n\nexport const sendVerificationCode = (email) => {\n  return api.post(\"/auth/resend-verification\", { email });\n};\n\nexport const sendForgotPasswordRequest = (email) => {\n  return api.post(\"/auth/forgot-password\", { email });\n};\n\nexport const resetPassword = (email, verificationCode, newPassword) => {\n  return api.post(\"/auth/verify-code\", {\n    email,\n    verificationCode,\n    newPassword,\n  });\n};\n\nexport const changePassword = (currentPassword, newPassword) => {\n  return api.post(\"/auth/change-password\", { currentPassword, newPassword });\n};\n\nexport const verifyToken = () => api.get(\"/verify-token\");\n\n// Profile-related endpoints\nexport const getProfile = async () => {\n  try {\n    const response = await api.get(\"/profile\");\n    return response.data;\n  } catch (err) {\n    console.error(\"Error fetching profile:\", err);\n    throw err;\n  }\n};\n\nexport const updateProfile = async (formData) => {\n  try {\n    const response = await api.put(\"/profile\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    });\n    return response.data;\n  } catch (err) {\n    console.error(\"Error updating profile:\", err);\n    throw err;\n  }\n};\n\n// AI-related endpoints\nexport const generateAITask = async (prompt) => {\n  try {\n    const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    const response = await api.post(\n      \"/ai/chat\",\n      { prompt },\n      { headers: { \"x-user-timezone\": timezone } }\n    );\n    return { success: true, data: response.data };\n  } catch (error) {\n    const errorInfo = handleApiError(error);\n    return { success: false, error: errorInfo.message };\n  }\n};\n\nexport const sendAIChatMessage = async (message, conversationHistory = []) => {\n  try {\n    const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    const response = await api.post(\n      \"/ai/chat-conversation\",\n      { message, conversationHistory },\n      { headers: { \"x-user-timezone\": timezone } }\n    );\n    return { success: true, data: response.data };\n  } catch (error) {\n    const errorInfo = handleApiError(error);\n    return { success: false, error: errorInfo.message };\n  }\n};\n\nexport default api;\n","import { format } from \"date-fns\";\n\nexport const formatRelativeTime = (dateString) => {\n  const date = new Date(dateString);\n  const now = new Date();\n  const diffInSeconds = Math.floor((now - date) / 1000);\n  const justNowThreshold = 60;\n  if (diffInSeconds < 0) {\n    const futureDiff = Math.abs(diffInSeconds);\n    if (futureDiff < justNowThreshold) return \"Just now\";\n    if (futureDiff < 60) return `in ${futureDiff} second${futureDiff !== 1 ? \"s\" : \"\"}`;\n    if (futureDiff < 3600) return `in ${Math.ceil(futureDiff / 60)} minute${Math.ceil(futureDiff / 60) !== 1 ? \"s\" : \"\"}`;\n    if (futureDiff < 86400) return `in ${Math.ceil(futureDiff / 3600)} hour${Math.ceil(futureDiff / 3600) !== 1 ? \"s\" : \"\"}`;\n    if (futureDiff < 604800) return `in ${Math.ceil(futureDiff / 86400)} day${Math.ceil(futureDiff / 86400) !== 1 ? \"s\" : \"\"}`;\n    return format(date, \"MMM dd, yyyy\");\n  } else {\n    if (diffInSeconds < justNowThreshold) return \"Just now\";\n    if (diffInSeconds < 60) return `${diffInSeconds} second${diffInSeconds !== 1 ? \"s\" : \"\"} ago`;\n    if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)} minute${Math.floor(diffInSeconds / 60) !== 1 ? \"s\" : \"\"} ago`;\n    if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)} hour${Math.floor(diffInSeconds / 3600) !== 1 ? \"s\" : \"\"} ago`;\n    if (diffInSeconds < 604800) {\n      const days = Math.floor(diffInSeconds / 86400);\n      return days === 1 ? \"Yesterday\" : `${days} days ago`;\n    }\n    return format(date, \"MMM dd, yyyy\");\n  }\n};\n\nexport const convertDateToWords = (dateString) => {\n  const [year, month, day] = dateString.split('-').map(Number);\n  const date = new Date(year, month - 1, day);\n  if (isNaN(date)) return \"Invalid Date\";\n  const options = { year: \"numeric\", month: \"long\", day: \"numeric\" };\n  return date.toLocaleString(\"en-US\", options);\n};\n\nexport const formatDateTimeLocal = (dateString) => {\n  const date = new Date(dateString);\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const day = String(date.getDate()).padStart(2, \"0\");\n  const hours = String(date.getHours()).padStart(2, \"0\");\n  const minutes = String(date.getMinutes()).padStart(2, \"0\");\n  return `${year}-${month}-${day}T${hours}:${minutes}`;\n};"],"names":["_ref","theme","show","title","message","onConfirm","onCancel","_jsx","className","tabIndex","role","onClick","children","_jsxs","e","stopPropagation","type","concat","task","navigate","useNavigate","stripColor","status","getStripColor","reminderSummary","getReminderSummary","reminders","length","dailyCount","filter","r","weeklyCount","oneTimeCount","parts","push","join","handleClick","id","style","backgroundColor","color","description","formatRelativeTime","createdAt","deadline","setError","onClose","quickPrompt","setQuickPrompt","useState","isLoading","setIsLoading","inputRef","useRef","useEffect","current","focus","handleQuickGenerate","async","trim","result","generateAITask","success","error","aiTask","data","newTask","state","ref","rows","value","onChange","target","onKeyDown","key","shiftKey","preventDefault","placeholder","disabled","map","text","_Fragment","normalizeRemindersBeforeSave","Array","isArray","deadlineDate","Date","remindBefore","customDate","isNaN","getTime","diffHours","_objectSpread","_user$firstName","_user$firstName$","_user$lastName","_user$lastName$","msg","user","userAvatar","avatar","displayInitials","firstName","toUpperCase","lastName","src","alt","width","height","borderRadius","objectFit","fontWeight","display","alignItems","justifyContent","fontSize","paddingRight","content","timestamp","date","now","diffInHours","getDate","toLocaleTimeString","hour","minute","toLocaleDateString","month","day","formatTime","ALL_INTERVALS","label","formatHoursLabel","h","Math","round","Number","isInteger","setTasks","isNewTask","onSave","isEditing","setIsEditing","tempTitle","setTempTitle","tempDescription","setTempDescription","tempStatus","setTempStatus","tempDeadline","setTempDeadline","tempReminders","setTempReminders","showDeleteModal","setShowDeleteModal","cardRef","handleCancel","useCallback","handleClickOutside","contains","document","addEventListener","removeEventListener","isDeadlineInFuture","formatDateTimeLocal","TaskReminders","JSON","stringify","finalReminders","hasDaily","some","hasWeekly","filteredReminders","maxDays","floor","sent","dayNumber","maxWeeks","week","weekNumber","regenerateRecurringReminders","updatedTaskData","toISOString","response","updateTask","prev","t","console","handleSave","ConfirmationModal","deleteTask","CHAT_HISTORY_KEY","refreshTasks","useAuth","chatMessages","setChatMessages","saved","localStorage","getItem","parse","chatInput","setChatInput","previewTask","setPreviewTask","chatEndRef","_chatEndRef$current","scrollIntoView","behavior","setItem","handleChatSend","userMessage","conversationHistory","sendAIChatMessage","reply","previewUpdate","_aiSuggested","isUpdate","action","updatedAt","handleConfirmUpdate","normalizedReminders","resultMessage","createTask","handleCancelPreview","index","ChatMessage","TaskItem","resetChat","removeItem","conversationSummary","contextualPrompt","priority","onTaskGenerated","mode","setMode","isClosing","setIsClosing","savedMode","handleEscape","handleClose","body","overflow","setTimeout","currentTarget","marginLeft","background","border","cursor","padding","QuickMode","ChatMode","TaskPreviewModal","SortableTask","attributes","listeners","setNodeRef","transform","transition","isDragging","useSortable","duration","easing","CSS","Transform","toString","opacity","touchAction","TaskCard","_ref2","logout","tasks","showAIModal","setShowAIModal","activeId","setActiveId","sensors","useSensors","useSensor","MouseSensor","activationConstraint","distance","TouchSensor","delay","tolerance","PointerSensor","loadTasks","fetchTasks","from","_","sortedTasks","sort","a","b","activeTask","find","handleAddTask","DndContext","collisionDetection","closestCenter","onDragStart","event","active","onDragEnd","over","prevTasks","oldIndex","findIndex","newIndex","reordered","arrayMove","updatePromises","idx","newPriority","updateTaskPriority","catch","err","Promise","resolve","all","onDragCancel","handleDragCancel","SortableContext","items","strategy","rectSortingStrategy","DragOverlay","adjustScale","dropAnimation","boxShadow","AIChatModal","aiGeneratedTask","checked","toFixed","days","weeks","customReminder","setCustomReminder","isOpen","setIsOpen","isOneTimeReminder","hasDailyReminders","hasWeeklyReminders","defaultIntervals","i","customIntervals","ai","abs","toLocaleString","warn","reminderDate","toggleReminder","toggleDailyReminders","htmlFor","toggleWeeklyReminders","item","ReminderCheckbox","min","max","undefined","handleAddCustomReminder","selectedDate","hours","api","axios","create","baseURL","headers","timeout","interceptors","request","use","config","token","Authorization","reject","handleApiError","_error$response$data","get","fetchTaskById","taskId","post","updatedTask","put","delete","loginUser","email","password","loginWithGoogle","code","authorizationCode","registerUser","verifyRegistrationCode","verificationCode","sendVerificationCode","sendForgotPasswordRequest","resetPassword","newPassword","changePassword","currentPassword","getProfile","updateProfile","formData","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","prompt","arguments","dateString","diffInSeconds","futureDiff","ceil","format","convertDateToWords","year","split","getFullYear","String","getMonth","padStart","getHours","minutes","getMinutes"],"sourceRoot":""}