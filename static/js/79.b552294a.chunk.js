"use strict";(self.webpackChunktask_manager_frontend=self.webpackChunktask_manager_frontend||[]).push([[79],{79:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var t=s(43),o=s(216),n=s(475),r=s(729),i=s(505),l=s(728);var c=s(579);const d=e=>{let{theme:a}=e;const{login:s}=(0,r.A)(),d=(0,o.Zp)(),[A,g]=(0,t.useState)(""),[p,u]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[f,j]=(0,t.useState)(!1),y=(0,l.mg)({flow:"auth-code",onSuccess:async e=>{j(!0);try{const{data:a}=await(0,i.XL)(e.code);s(a.token,a.userInfo),d("/tasks")}catch(o){var a,t;h((null===(a=o.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Google login failed"),(0,l.I9)()}finally{j(!1)}},onError:()=>{h("Google login failed"),j(!1)},scope:"openid email profile"});return(0,c.jsx)("div",{className:"login-page d-flex align-items-center justify-content-center",children:(0,c.jsxs)("div",{className:"login-form",children:[(0,c.jsx)("h1",{className:"fw-bold mb-2",children:"Welcome back"}),(0,c.jsx)("p",{className:"text-".concat("dark"===a?"light":"muted"," mb-4"),children:"Please enter your details"}),m&&(0,c.jsx)("div",{className:"alert alert-danger",children:m}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(""),j(!0);try{const{data:e}=await(0,i.Lx)(A,p),{token:a,userInfo:t}=e;s(a,t),d("/tasks")}catch(r){var a,t,o,n;console.error("Login failed:",(null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||r.message),h((null===(o=r.response)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.message)||"Login failed. Please try again.")}finally{j(!1)}},children:[(0,c.jsx)("div",{className:"mb-3",children:(0,c.jsx)("input",{type:"email",className:"form-control py-2",id:"email",placeholder:"Enter your email",value:A,onChange:e=>g(e.target.value),required:!0})}),(0,c.jsx)("div",{className:"mb-3",children:(0,c.jsx)("input",{type:"password",className:"form-control py-2",id:"password",placeholder:"Enter your password",value:p,onChange:e=>u(e.target.value),required:!0})}),(0,c.jsx)("button",{type:"submit",className:"btn sign-in-btn w-100 mb-3",children:f?(0,c.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Login"})]}),(0,c.jsx)("div",{className:"oauth-container mb-3",children:(0,c.jsxs)("button",{className:"btn google-signin-btn w-100 mb-3 d-flex align-items-center justify-content-center gap-2 ".concat("dark"===a?"dark-theme":""),onClick:y,disabled:f,type:"button",useOneTap:!0,children:[(0,c.jsx)("img",{src:"data:image/png;base64,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",alt:"Google logo",style:{width:"24px",height:"24px"}}),(0,c.jsx)("span",{children:"Sign in with Google"})]})}),(0,c.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,c.jsx)(n.N_,{to:"/register",className:"register-link",children:"Register"}),(0,c.jsx)("button",{className:"btn btn-link forgot-password-link p-0",onClick:()=>{d("/forgot-password")},children:"Forgot password?"})]})]})})}},505:(e,a,s)=>{s.d(a,{A7:()=>g,DY:()=>A,E$:()=>f,J2:()=>p,Lx:()=>c,U0:()=>u,UT:()=>n,XL:()=>d,ec:()=>h,j:()=>o,lC:()=>r,r7:()=>j,vF:()=>l,vq:()=>i,xw:()=>m});const t=s(722).A.create({baseURL:"https://task-manager-sigma-ashen.vercel.app/api",headers:{"ngrok-skip-browser-warning":"true"}});t.interceptors.request.use((e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e}),(e=>Promise.reject(e)));const o=()=>t.get("/tasks"),n=e=>t.post("/tasks",e),r=(e,a)=>t.put("/tasks/".concat(e),a),i=e=>t.delete("/tasks/".concat(e)),l=(e,a)=>t.put("/tasks/".concat(e,"/priority"),{priority:a}),c=(e,a)=>t.post("/auth/login",{email:e,password:a}),d=async e=>t.post("/auth/google",{code:e}),A=(e,a,s,o)=>t.post("/auth/register",{firstName:e,lastName:a,email:s,password:o}),g=(e,a)=>t.post("/auth/verify-registration",{email:e,verificationCode:a}),p=e=>t.post("/auth/resend-verification",{email:e}),u=e=>t.post("/auth/forgot-password",{email:e}),m=(e,a,s)=>t.post("/auth/verify-code",{email:e,verificationCode:a,newPassword:s}),h=(e,a)=>t.post("/auth/change-password",{currentPassword:e,newPassword:a}),f=async()=>{try{return(await t.get("/profile")).data}catch(e){throw console.error("Error fetching profile:",e),e}},j=async e=>{try{return(await t.put("/profile",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error updating profile:",a),a}}}}]);
//# sourceMappingURL=79.b552294a.chunk.js.map